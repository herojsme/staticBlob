/*! License information is available at licenses.txt */(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["vendors~common-components~mg-ai-fll-page-generation~mg-lazy~mg-other~mg-preview~mg-prototype"],{"004d":function(e,t,i){},"016d":function(e,t,i){"use strict";i.d(t,"d",(function(){return zo})),i.d(t,"b",(function(){return Pn})),i.d(t,"c",(function(){return Ls})),i.d(t,"a",(function(){return io})),i.d(t,"e",(function(){return Hr}));var a=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"payment-dialog",attrs:{visible:i.mainDialogVisible,width:"1054px",title:i.applyTitle,subTitle:i.applySubTitle,closable:!0},on:{"update:visible":i.onUpdateVisible,close:i.onClose},scopedSlots:e._u([{key:"footer",fn:function(){return[t("span")]},proxy:!0}])},[i.mainDialogVisible?t(i.Steps,{attrs:{current:i.currentStep,steps:i.steps},on:{click:i.onStepClick}}):e._e(),0===i.currentStep?t(i.Step1,{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}]}):e._e(),1===i.currentStep?t(i.Step2):e._e(),2===i.currentStep?t(i.Step3):e._e()],1)},n=[],o=i("4e09"),s=i("b587"),r=i("e306"),l=i("828f");const c=(e,t)=>{const i=i=>{t!==l["c"].dashboard?e({type:"info",message:i,duration:3e3}):e({timeout:3e3,position:"top",content:i})},a=i=>{if(t!==l["c"].dashboard)e({type:"info",message:i,duration:0,showClose:!0});else{const t=e({content:i,type:"highlight",position:"top",persistent:!0,buttonInfo:"知道了",buttonHandle:()=>t.clearToast()})}},n=i=>{t!==l["c"].dashboard?e({type:"error",message:i,duration:3e3}):e({content:i,type:"destructive",position:"top",timeout:3e3})};return{showNormalToast:i,showHighlightToast:a,showDestructiveToast:n}};var u=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"steps-container"},[t("ul",{staticClass:"steps"},e._l(i.steps,(function(a){return t("li",{key:"step_"+a.index,class:["step-item",a.active?"step-active":""],on:{click:function(e){return i.stepClick(a)}}},[t("span",{staticClass:"step-item_container"},[t(i.StepsIcon,{attrs:{index:a.index,isActive:a.active}}),t("span",{class:["step-title",a.active?"active":""]},[e._v(e._s(a.title))]),a.last?e._e():t("span",{staticClass:"step-line"})],1)])})),0)])},d=[],p=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("span",{staticClass:"steps-icon",style:i.iconStyle},[i.showOne?t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"18",height:"18"}},[t("rect",{attrs:{x:".45",y:".45",width:"17.1",height:"17.1",rx:"8.55",fill:i.reactFill}}),t("path",{attrs:{d:"M9.11 4.968c-.27.28-.607.54-1.012.787a4.772 4.772 0 0 1-1.148.473v1.304c.742-.213 1.35-.54 1.834-.978V13H10.1V4.968h-.99z",fill:"currentColor","fill-opacity":i.opacity}})]):e._e(),i.showTwo?t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"18",height:"18"}},[t("rect",{attrs:{x:".45",y:".45",width:"17.1",height:"17.1",rx:"8.55",fill:i.reactFill}}),t("path",{attrs:{d:"M8.999 4.81c-.867 0-1.564.293-2.093.878-.517.55-.776 1.27-.787 2.17h1.316c.022-.63.157-1.113.405-1.428.248-.337.619-.506 1.114-.506.461 0 .81.101 1.046.315.225.213.349.54.349.979 0 .45-.18.877-.529 1.27-.225.237-.585.54-1.103.9-.933.642-1.552 1.137-1.845 1.475-.54.607-.798 1.316-.798 2.137h5.602v-1.159h-3.96c.18-.405.675-.877 1.497-1.417.787-.529 1.35-.957 1.665-1.294.517-.574.787-1.204.787-1.901 0-.72-.247-1.294-.742-1.744-.507-.45-1.148-.675-1.924-.675z",fill:"currentColor","fill-opacity":i.opacity}})]):e._e(),i.showThree?t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"18",height:"18"}},[t("rect",{attrs:{x:".45",y:".45",width:"17.1",height:"17.1",rx:"8.55",fill:i.reactFill}}),t("path",{attrs:{d:"M8.954 4.81c-.788 0-1.44.214-1.947.664-.54.45-.832 1.08-.9 1.89h1.294c.045-.484.203-.844.473-1.08.259-.236.619-.349 1.091-.349.461 0 .81.101 1.046.304.214.202.327.495.327.889 0 .393-.124.697-.36.9-.248.202-.608.303-1.08.303h-.563v.99h.563c.517 0 .91.101 1.18.327.27.213.417.55.417 1.012 0 .383-.135.697-.394.956-.292.282-.697.428-1.204.428-.46 0-.832-.135-1.113-.394-.315-.281-.473-.686-.495-1.204H5.95c.067.9.382 1.598.945 2.07.506.428 1.181.642 2.014.642.877 0 1.586-.248 2.126-.732.518-.472.776-1.08.776-1.822 0-.473-.135-.866-.405-1.17-.247-.293-.619-.506-1.091-.653.889-.292 1.339-.877 1.339-1.755 0-.697-.248-1.237-.732-1.631-.495-.394-1.158-.585-1.968-.585z",fill:"currentColor","fill-opacity":i.opacity}})]):e._e()])},v=[],m=i("f38b"),f=Object(s["defineComponent"])({__name:"StepsIcon",props:{index:{default:0},isActive:{type:Boolean,default:!1}},setup(e){const t=e,i=Object(s["ref"])(!1),a=Object(s["computed"])(()=>0===t.index),n=Object(s["computed"])(()=>1===t.index),o=Object(s["computed"])(()=>2===t.index),r=Object(s["computed"])(()=>t.isActive?.85:.5),l=Object(s["computed"])(()=>t.isActive?.85:i.value?.45:.25),c="var(--mg-color-bg-hover)",u=Object(s["computed"])(()=>i.value?"color: #fff;":"color: #000;");return Object(s["onMounted"])(()=>{i.value=Object(m["k"])()}),{__sfc:!0,props:t,dark:i,showOne:a,showTwo:n,showThree:o,opacity:r,reactOpacity:l,reactFill:c,iconStyle:u}}}),_=f,b=(i("449b"),i("d2bf")),h=Object(b["a"])(_,p,v,!1,null,"0611860d",null),g=h.exports,y=Object(s["defineComponent"])({__name:"Steps",props:{current:null,steps:null},emits:["click"],setup(e,{emit:t}){const i=e,a=Object(s["computed"])(()=>{var e;const t=(null===(e=i.steps)||void 0===e?void 0:e.length)||0;if(t>3||0===t)throw new Error("Steps error: steps length should be 1 to 3.");return i.steps.map((e,a)=>{const n={title:e,index:a,active:i.current>=a,last:a===t-1};return n})}),n=e=>{t("click",e)};return{__sfc:!0,props:i,emit:t,steps:a,stepClick:n,StepsIcon:g}}}),C=y,O=(i("a695"),i("e131"),Object(b["a"])(C,u,d,!1,null,"495b2fa0",null)),j=O.exports,I=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"step-1-container"},[t(i.Content),t(i.NewRightPanel),t(i.OrderTip),t(i.NotEnsureTip)],1)},w=[],S=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"content"},[t("div",{staticClass:"content_wrap"},[t("div",{staticClass:"content_title"},[e._v(e._s(a.$m("选购席位数量")))]),t("div",{staticClass:"content_container content_cards seat-version-cards"},e._l(a.seatPackage,(function(e){return t(a.SeatVersionCard,{key:e.id,attrs:{packageData:e,selectedDuration:a.selectedDuration},on:{changeSeatCount:t=>a.handleChangeSeatCount(t,e)}})})),1),a.isSeatCountReduce&&!a.isLoading?t("div",{staticClass:"seat-tip"},[t(a.InfomationIcon,{attrs:{size:"16"}}),t("span",[e._v(e._s(a.$m("订单服务生效后实际席位小于当前席位数量，系统将自动取消部分成员的相应席位")))])],1):e._e(),a.isAddSeat?[t("div",{staticClass:"content_title content_item margin-bottom-12"},[e._v(e._s(a.$m("服务到期时间")))]),t("div",{staticClass:"card-item duration-label-card expiry-card active"},[e._v(" "+e._s(a.serviceEndTime)+" "),t(a.Tooltip,{staticClass:"card-title-tip",attrs:{content:a.$m("当前版本的服务到期时间"),position:"bottom",offset:27}},[t(a.InfomationIcon,{attrs:{size:"16"}})],1)],1)]:[t("div",{staticClass:"content_title content_item",staticStyle:{"margin-top":"36px"}},[e._v(e._s(a.$m("购买时长")))]),t("div",{staticClass:"content_container content_cards"},e._l(a.availableTimes||[],(function(n){return t("div",{key:n.value,class:["card-item","duration-label-card",{active:a.selectedDuration===n.value}],on:{click:function(e){return a.selectDuration(n.value)}}},[t("div",{staticClass:"discount-label-wrap"},[t("img",{staticClass:"discount-icon",attrs:{src:i("a455e"),alt:"Discount Icon"}}),n.label?t("div",{staticClass:"discount-label"},[e._v(" "+e._s(n.label)+" ")]):e._e()]),t("div",{staticClass:"card-title"},[e._v(" "+e._s(n.showTimeText)+" ")])])})),0)],t("div",{class:a.isMasterWeb?"datePicker_enterprise_service":"datePicker_service"},[t("div",{staticClass:"content_title content_item margin-bottom-12"},[e._v(e._s(a.$m("服务开始时间")))]),t(a.DatePicker,{attrs:{value:a.serviceStartTime,"popper-class":"custom-picker",type:"date","picker-options":a.pickerOptions,placeholder:a.$m("选择日期"),clearable:!1,editable:!1,disable:a.isRenewal},on:{change:a.handleChange}}),t("div",{staticClass:"content_tip"},[e._v(e._s(a.$m("该订单会按以上时间开始计费并开通 ，请及时完成付款")))]),a.showAiCredits?t("div",{staticClass:"gift content_tip"},[e._v(" "+e._s(a.$m("AI 企业积分会跟随订单生效期一起生效，有效期持续至该订单服务期结束"))+" ")]):e._e()],1)],2)])},k=[],T=i("83be"),x=i.n(T),D=i("a9d9"),P=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"seat-version-card",on:{click:a.handleClick}},[t("div",{staticClass:"seat-version-content"},[t("div",{staticClass:"discount-content"},[t("div",{staticClass:"seat-version-header"},[t("div",{staticClass:"card-title"},[e._v(e._s(e.packageData.name))]),e.packageData.icon.length?t("div",{staticClass:"seat-version-icons"},[e._l(e.packageData.icon,(function(e,i){return t(e,{key:i,tag:"component",staticClass:"seat-version-icon",attrs:{size:"10"}})})),t(a.Tooltip,{staticClass:"ai-icon-tip",attrs:{position:"top",content:a.$m("含 AI 企业积分 2500/席位/年"),offset:30}},["prototypeSeat"===a.seatType&&a.isHasAiCredits?t("img",{staticClass:"discount-ai-icon",attrs:{src:i("ab22"),alt:"AI Icon"}}):e._e()])],2):e._e()]),t("div",{staticClass:"seat-version-price"},[e.packageData.priceIcon?t("div",{staticClass:"price-icon"}):e._e(),t("div",{staticClass:"card-subtitle"},[e._v("¥"+e._s(a.getCurrentPrice(e.packageData.prices))+"/"+e._s(a.$m("席位/年")))])]),a.showOriginPrice?t("div",{staticClass:"detail-base"},[e._v(e._s(a.$m("原价"))+" ¥ "+e._s(e.packageData.originalPrice))]):e._e()]),t("div",{staticClass:"seat-version-counter"},[t(a.InputNumber,{ref:"inputRef",staticClass:"seat-counter-input",attrs:{modelValue:e.packageData.seatCount,min:a.minSeatCount,max:999,size:"xs"},on:{"update:modelValue":e=>a.changeSeatCount(e)}})],1)])])},A=[],Q=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("span",{class:["tooltip",i.position,i.tooltipShow?"show":""],style:i.tooltipStyle,on:{mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave}},[t("div",{staticClass:"tooltip-tip"},[e._t("content",(function(){return[e._v(e._s(i.content))]}))],2),e._t("default")],2)},M=[],E=Object(s["defineComponent"])({__name:"Tooltip",props:{position:{default:"top"},content:{default:""},offset:{default:3},enable:{type:Boolean,default:!0}},setup(e){const t=e;let i=0;const a=Object(s["ref"])(!1),n=Object(s["computed"])(()=>t.position),o=Object(s["computed"])(()=>t.content),r=Object(s["computed"])(()=>({"--tooltip-offset":t.offset+"px"})),l=e=>{a.value=e},c=()=>{t.enable&&(d(),l(!0))},u=()=>{t.enable&&(i=setTimeout(()=>{l(!1)},100))},d=()=>{t.enable&&(clearTimeout(i),i=0)};return Object(s["onUnmounted"])(()=>{d()}),{__sfc:!0,props:t,timer:i,tooltipShow:a,position:n,content:o,tooltipStyle:r,_updateTooltipShow:l,onMouseEnter:c,onMouseLeave:u,resetTimer:d}}}),V=E,B=(i("dbc7"),Object(b["a"])(V,Q,M,!1,null,"663a6d24",null)),$=B.exports,R=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{class:["input-number-container",i.size]},[t("span",{class:["icon-container left",i.minDisabled?"disabled":""],on:{click:i.removeNumber}},[t(i.RemoveIcon,{attrs:{size:"16",disabled:i.minDisabled}})],1),t("div",{class:["input-container",i.inputClass]},[t(i.Input,{ref:"inputRef",staticClass:"input-item",attrs:{modelValue:i.inputValue,type:"number",size:i.size,selectAllWhenFocus:!0,min:i.min,max:i.max,inputmode:"numeric"},on:{"update:modelValue":i._updateInputValue}})],1),t("span",{class:["icon-container right",i.maxDisabled?"disabled":""],on:{click:i.addNumber}},[t(i.AddIcon,{attrs:{size:"16",disabled:i.maxDisabled}})],1)])},z=[],F=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon158a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon158a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M7.5 8.5V14h1V8.5H14v-1H8.5V2h-1v5.5H2v1z"}})])])},L=[],U={name:"AddIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},q=U,N=Object(b["a"])(q,F,L,!1,null,null,null),G=N.exports,H=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon108a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon108a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M14 8.5H2v-1h12z"}})])])},Y=[],Z={name:"RemoveIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},W=Z,J=Object(b["a"])(W,H,Y,!1,null,null,null),K=J.exports,X=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"input-wrapper",class:{"input-wrapper--focus":i.focused,"input-wrapper--disabled":e.disabled,"input-wrapper--danger":i.error,[""+i.inputSize]:i.inputSize},on:{click:i.inputClick}},["checkbox"===i.inputType?t("input",e._b({directives:[{name:"model",rawName:"v-model",value:i.value,expression:"value"}],ref:"inputRef",staticClass:"input-wrapper__input",attrs:{placeholder:e.placeholder,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(i.value)?e._i(i.value,null)>-1:i.value},on:{focus:i.focus,blur:i.blur,change:function(t){var a=i.value,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);n.checked?r<0&&(i.value=a.concat([s])):r>-1&&(i.value=a.slice(0,r).concat(a.slice(r+1)))}else i.value=o}}},"input",e.$attrs,!1)):"radio"===i.inputType?t("input",e._b({directives:[{name:"model",rawName:"v-model",value:i.value,expression:"value"}],ref:"inputRef",staticClass:"input-wrapper__input",attrs:{placeholder:e.placeholder,disabled:e.disabled,type:"radio"},domProps:{checked:e._q(i.value,null)},on:{focus:i.focus,blur:i.blur,change:function(e){i.value=null}}},"input",e.$attrs,!1)):t("input",e._b({directives:[{name:"model",rawName:"v-model",value:i.value,expression:"value"}],ref:"inputRef",staticClass:"input-wrapper__input",attrs:{placeholder:e.placeholder,disabled:e.disabled,type:i.inputType},domProps:{value:i.value},on:{focus:i.focus,blur:i.blur,input:function(e){e.target.composing||(i.value=e.target.value)}}},"input",e.$attrs,!1)),e.clearable&&!e.disabled&&i.value.length?t("div",{staticClass:"right-container",on:{click:i.clear}},[t(i.ClearIcon,{attrs:{size:"16"}})],1):e._e()])},ee=[],te=i("7d50");const ie={name:"MgInput",inheritAttrs:!1};var ae=Object(s["defineComponent"])(Object.assign(Object.assign({},ie),{props:{modelValue:null,type:{default:"text"},size:{default:"sm"},placeholder:{default:""},disabled:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},selectAllWhenFocus:{type:Boolean,default:!1},step:null,min:null,max:null},emits:["update:modelValue","clear","focus"],setup(e,{expose:t,emit:i}){const a=e,n=Object(s["inject"])("formItemExpose",null),o=Object(s["ref"])(!1),r=Object(s["computed"])(()=>a.step&&Number.isInteger(a.step)),l=e=>r.value?e.replaceAll(" ",""):e,c=Object(s["computed"])({get(){if(r.value){const e=String(a.modelValue);return Object(m["p"])(e,Number(a.step))}return a.modelValue},set(e){const t=l(e);i("update:modelValue",t)}}),u=Object(s["computed"])(()=>a.size),d=Object(s["computed"])(()=>a.type),p=Object(s["ref"])(),v=()=>{var e,t;null===(t=null===(e=p.value)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)},f=()=>{v(),i("clear"),i("update:modelValue","")},_=Object(s["ref"])(!1);Object(s["watch"])(c,e=>{const t=l(e);a.validateEvent&&n&&(_.value=!n.checkValue(t))});const b=()=>{if(!n)return;const e=l(c.value),t=n.checkValue(e);return _.value=!t,t},h=()=>{var e;_.value=!1,n&&!c&&(null===(e=null===n||void 0===n?void 0:n.clearValidate)||void 0===e||e.call(n))},g=()=>{var e,t;null===(t=null===(e=p.value)||void 0===e?void 0:e.select)||void 0===t||t.call(e)},y=()=>{a.disabled||v()},C=()=>{o.value=!0,a.selectAllWhenFocus&&Object(s["nextTick"])(()=>{g()}),h(),i("focus")},O=()=>{var e;o.value=!1;const t=Number(null===(e=p.value)||void 0===e?void 0:e.value);Number(a.min)&&t<Number(a.min)&&i("update:modelValue",a.min),Number(a.max)&&t>Number(a.max)&&i("update:modelValue",a.max),t!==Number(a.max)&&t!==Number(a.min)||i("update:modelValue",c.value)};return t({clear:f,select:g,checkValue:b}),{__sfc:!0,props:a,emit:i,formItemExpose:n,focused:o,hasStep:r,handleValue:l,value:c,inputSize:u,inputType:d,inputRef:p,_focus:v,clear:f,error:_,checkValue:b,resetError:h,select:g,inputClick:y,focus:C,blur:O,ClearIcon:te["a"]}}})),ne=ae,oe=(i("b4ba"),Object(b["a"])(ne,X,ee,!1,null,"02839c82",null)),se=oe.exports,re=Object(s["defineComponent"])({__name:"InputNumber",props:{modelValue:null,size:{default:"xs"},min:{default:Number.NEGATIVE_INFINITY},max:{default:Number.POSITIVE_INFINITY},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(!1),n=Object(s["ref"])(),o=Object(s["ref"])(!1),r=Object(s["ref"])(!1),l=Object(s["computed"])(()=>i.size),c=Object(s["computed"])(()=>i.min),u=Object(s["computed"])(()=>i.max),d=Object(s["computed"])(()=>a.value?"focus":""),p=Object(s["computed"])({get(){const e=i.modelValue;return e},set(e){t("update:modelValue",e)}}),v=()=>p.value,m=e=>{const t=Math.floor(e);let i=Number(t)||c.value;i=Math.ceil(t),i=isNaN(i)?c.value:i,i=Math.max(t,c.value),i=Math.min(t,u.value),p.value=i},f=x()(()=>{r.value||(p.value+=1,t("change",{value:p.value,type:"add"}),Object(s["nextTick"])(()=>{b()}))},100),_=x()(()=>{o.value||(p.value-=1,t("change",{value:p.value,type:"remove"}),Object(s["nextTick"])(()=>{b()}))},100),b=()=>{const e=v();o.value=e<=c.value,r.value=e>=u.value};return Object(s["watch"])([()=>i.modelValue,()=>i.min],()=>{b()}),Object(s["onMounted"])(()=>{b(),m(i.modelValue||0)}),{__sfc:!0,props:i,emit:t,focused:a,inputRef:n,minDisabled:o,maxDisabled:r,size:l,min:c,max:u,inputClass:d,inputValue:p,_getInputValue:v,_updateInputValue:m,addNumber:f,removeNumber:_,updateDisabled:b,AddIcon:G,RemoveIcon:K,Input:se}}}),le=re,ce=(i("7303"),i("2cbf"),Object(b["a"])(le,R,z,!1,null,"6dc19ee0",null)),ue=ce.exports,de=i("2789"),pe=i("1bc9");const ve=Object(r["c"])("commonStore",{state:()=>({token:null,lanhuHost:null,payType:l["B"].Upgrade,entityId:0,entityType:l["A"].Enterprise,trailingType:null,payService:null,toastManager:null,title:"",dialogLoading:!1,timer:null}),getters:{isAddSeat(){return this.payType===l["B"].AddSeat},renewal(){return this.payType===l["B"].Renewal},isUpgrade(){return this.payType===l["B"].Upgrade},isReBuy(){return this.payType===l["B"].ReBuy},isTeam(){return this.entityType===l["A"].Team},isEnterprise(){return this.entityType===l["A"].Enterprise}},actions:{initInfo(e){this.setToken(e.token),Object(pe["c"])(e.token),this.lanhuHost=e.lanhuHost,Object(pe["b"])(this.lanhuHost),this.entityId=Number(e.entityId),this.entityType=e.entityType,this.payType=e.type,this.trailingType=e.trailingType,this.payService=e.payService},setToken(e){e&&(localStorage.setItem("MasterGo-Token",e),this.token=e,Object(pe["c"])(e))},initToastManager(e){this.toastManager=e},setTimer(e){this.timer=e},checkServiceType(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{const e=yield Object(de["e"])({entity_id:this.entityId,entity_type:this.entityType}),{support_service_type:t=[]}=e.data||{};t.length&&(t.some(e=>e.service_type===this.payType)||(this.payType=t[0].service_type,console.info("%c 已纠正为"+this.payType,"fontSize: 32px; color: red")))}catch(e){console.log(e)}}))},reset(){this.token=null,this.lanhuHost=null,Object(pe["b"])(""),Object(pe["c"])(""),this.payType=l["B"].Upgrade,this.entityId=0,this.entityType=l["A"].Enterprise,this.trailingType=null,this.payService=null,this.timer&&clearInterval(this.timer)},setLoading(e){this.dialogLoading=e}}});var me=i("07d5c");const fe=Object(r["c"])("orderStore",{state:()=>({mainDialogVisible:!1,initial:!1,packageInfo:{},currentPackage:{},createOrderPackageData:{},versionIndex:0,cardIndex:0,currentStep:-1,duplicateOrderTip:!1,notEnsureOrderTip:!1,cancelOrderId:"",orderId:"",orderAmount:0,orderDisAmount:0,orderOriginAmount:0,orderPayType:"succeed",hasDiscount:!1,serviceStartTime:"",payDetail:{},title:"",seatUserSelectInfo:{editSeat:null,developSeat:null,prototypeSeat:null},duration:1,seatDetails:[],finalPrice:0,orderParams:{},aiCredits:0,seatExpiredDate:"",ownerInfo:{logo:"",name:"",id:"",label:""},latest_service:null,activities:[]}),getters:{isHasAiCredits(){var e;const t=this.activities.find(e=>"2025_710_proto_gift"===e.activity_type);return!!(null===(e=null===t||void 0===t?void 0:t.gift)||void 0===e?void 0:e.name)}},actions:{setOwnerInfo(e){this.ownerInfo=e},setSeatExpiredDate(e){this.seatExpiredDate=e},setOrderParams(e){this.orderParams=e},setFinalPrice(e){this.finalPrice=e},setOrderId(e){this.orderId=e},setSeatDetail(e){this.seatDetails=e},setDuration(e){this.duration=e},setUserSelectInfo(e,t){this.seatUserSelectInfo[e]=t},updateHasDiscount(){var e;const t=null===(e=this.currentPackage)||void 0===e?void 0:e.discount;let i=!1;i=!!t&&(t>0&&1!==t),this.hasDiscount=i},SET_MAIN_DIALOG_VISIBLE(e){this.mainDialogVisible=e},SET_INITIAL(e){this.initial=e},SET_VERSION_INDEX(e){this.versionIndex=e},SET_SERVICE_START_TIME(e){this.serviceStartTime=e},SET_DUPLICATE_ORDER_TIP(e){this.duplicateOrderTip=e},SET_NOT_ENSURE_ORDER_TIP(e){this.notEnsureOrderTip=e},SET_CURRENT_STEP(e){this.currentStep=e},SET_ORDER_PAY_TYPE(e){this.orderPayType=e},SET_ORDER_AMOUNT(e){this.orderAmount=e},SET_ORDER_DISAMOUNT(e){this.orderDisAmount=e},SET_ORDER_ORIGINAMOUNT(e){this.orderOriginAmount=e},SET_ORDER_ID(e){this.orderId=e},SET_PAY_DETAIL(e){this.payDetail=e},SET_AI_CREDITS(e){this.aiCredits=e},fetchOrderActivity(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e;try{const t=yield Object(me["i"])(),i=(null===(e=null===t||void 0===t?void 0:t.data)||void 0===e?void 0:e.activity)||[];this.activities=i}catch(t){console.error(t),this.activities=[]}}))},getPackageInfo(e){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){var t,i,a,n,o;const s=yield Object(me["l"])(e);this.packageInfo=s.data,this.title=(null===(t=s.data)||void 0===t?void 0:t.entity_name)||"",this.serviceStartTime=(null===(a=null===(i=s.data)||void 0===i?void 0:i.available_service_start_time)||void 0===a?void 0:a.begin)||new Date,this.createOrderPackageData=(null===(o=null===(n=s.data)||void 0===n?void 0:n.packages)||void 0===o?void 0:o[0])||null,yield this.fetchOrderActivity()}))},initStep1(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e=ve();yield e.checkServiceType(),yield this.getPackageInfo({service_type:e.payType,entity_id:e.entityId,entity_type:e.entityType})}))},resetStep1(){this.initial=!1,this.packageInfo={},this.currentPackage={},this.versionIndex=0,this.cardIndex=0,this.duplicateOrderTip=!1,this.notEnsureOrderTip=!1,this.cancelOrderId="",this.orderAmount=0,this.seatDetails=[],this.duration=1,this.seatUserSelectInfo={editSeat:null,developSeat:null,prototypeSeat:null}},reset(){this.resetStep1(),this.orderId="",this.currentStep=-1,this.payDetail={}},toStep2(){this.SET_CURRENT_STEP(1)},toStep3(){this.SET_CURRENT_STEP(2)},createOrderFailed(e){var t,i;const a=ve();switch(e){case l["b"].DUPLICATE_ORDER:this.SET_DUPLICATE_ORDER_TIP(!0);break;case l["b"].NOT_ENSURE_ORDER:this.SET_NOT_ENSURE_ORDER_TIP(!0);break;default:null===(i=null===(t=a.toastManager)||void 0===t?void 0:t.showDestructiveToast)||void 0===i||i.call(t,"下单失败");break}}}}),_e=Object(r["c"])("invoiceStore",{state:()=>({invoiceDialogVisible:!1,invoiceApplyDialogVisible:!1,invoiceDetailDialogVisible:!1,invoiceInfo:{},applyStatus:l["o"].unapplied}),getters:{},actions:{setInvoiceDialogVisible(e){this.invoiceDialogVisible=e},setInvoiceApplyDialogVisible(e){this.invoiceApplyDialogVisible=e},setInvoiceDetailDialogVisible(e){this.invoiceDetailDialogVisible=e},setInvoiceInfo(e){this.invoiceInfo=e,this.applyStatus=e.applyStatus},applySuccess(){this.applyStatus=l["o"].submit,this.setInvoiceDialogVisible(!1),this.setInvoiceApplyDialogVisible(!0)},reset(){this.invoiceApplyDialogVisible=!1,this.invoiceDetailDialogVisible=!1,this.invoiceDialogVisible=!1,this.invoiceInfo={},this.applyStatus=l["o"].unapplied}}}),be=Object(r["c"])("contractStore",{state:()=>({name:"",code:"",phone:"",person:"",address:""}),actions:{updateState(e){this.name=e.name,this.code=e.code,this.phone=e.phone,this.person=e.person,this.address=e.address}}}),he=Object(r["c"])("aiOrderStore",{state:()=>({selectedPlan:null,selectedPackage:null,subscribedPlan:null,subscribedPackage:null,priceInfo:null,userInfo:{userName:"",userId:"",avatar:""},subscriptionInfo:{startDate:"",endDate:""},agreementChecked:!1,currentStep:0,currentOrder:null,payStatus:"pending",createdOrderId:null,cycle:"month"}),actions:{setCycle(e){this.cycle=e},setSubscribedPlan(e){this.subscribedPlan=e,this.subscribedPackage=null===e||void 0===e?void 0:e.selling.find(e=>e.selling_cycle===this.cycle)},setSelectedPlanPriceInfo(e){this.priceInfo=e},setCreatedOrderId(e){this.createdOrderId=e},setCurrentOrder(e){this.currentOrder=e},setSelectedPlan(e){this.selectedPlan=e,this.selectedPackage=e.selling.find(e=>e.selling_cycle===this.cycle)||null},setUserInfo(e){this.userInfo=e},setSubscriptionInfo(e){this.subscriptionInfo=e},setAgreementChecked(e){this.agreementChecked=e},setCurrentStep(e){this.currentStep=e},setPayStatus(e){this.payStatus=e},resetStatus(){this.currentStep=0,this.agreementChecked=!1,this.selectedPlan=null,this.priceInfo=null,this.subscribedPlan=null,this.payStatus="pending",this.subscribedPackage=null,this.selectedPackage=null,this.subscriptionInfo={startDate:"",endDate:""}}}});var ge=i("27eb"),ye=i.n(ge);function Ce(e){var t;const i=null===(t=e.price)||void 0===t?void 0:t.find(e=>100===e.discount);return(null===i||void 0===i?void 0:i.price)||0}function Oe(e,t){return(null===e||void 0===e?void 0:e.length)&&(null===e||void 0===e?void 0:e.find(e=>e.service_quantity===t))||null}function je(e,t){var i;return(null===(i=Oe(e,t))||void 0===i?void 0:i.price)||0}function Ie(e){if(!(null===e||void 0===e?void 0:e.length))return null;const t=[...e].sort((e,t)=>e.discount-t.discount);return t[0]}function we(e){var t;return(null===(t=Ie(e))||void 0===t?void 0:t.price)||0}const Se=(e,t)=>t.find(t=>t.seat_id===e)||null,ke=(e,t)=>t.find(t=>t.seat_type===e)||null,Te=(e,t,i)=>(null===e||void 0===e?void 0:e.length)?i?Ie(e):Oe(e,t):null,xe=e=>D["a"].locale===D["b"]?100-e:e/10,De=e=>100===(null===e||void 0===e?void 0:e.discount)&&0===(null===e||void 0===e?void 0:e.service_quantity);var Pe=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.Tooltip,{staticClass:"icon-wrapper editor-icon",attrs:{position:"top",content:i.$m("编辑模式"),offset:30}},[t(i.PenIcon,{attrs:{size:e.size}})],1)},Ae=[],Qe=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"m13.13 9.24-1.01-5.606L1.986 1.16l-.158-.039-.074-.074-.045.045-.818-.2.2.818-.044.044.072.073 2.514 10.292 5.607 1.01 1.923 1.923 3.889-3.889zM2.482 3.19l1.97 8.061 5.275.951 1.437 1.437 2.475-2.475-1.437-1.437-.951-5.275-8.06-1.968L6.648 5.94q.142-.045.291-.05.15-.005.294.03.145.036.275.109.13.073.236.178.037.038.071.08.034.04.064.085.03.044.054.091.026.047.046.097.02.049.036.1.015.051.026.103.01.053.015.106.006.053.006.106 0 .054-.006.107-.005.053-.015.105-.01.052-.026.104-.016.05-.036.1-.02.05-.046.096-.025.047-.054.092-.03.044-.064.085-.034.041-.071.08-.038.037-.08.07-.04.035-.085.064-.044.03-.091.055t-.097.046q-.049.02-.1.035-.051.016-.103.026-.053.01-.106.016-.053.005-.106.005-.054 0-.107-.005t-.105-.016q-.052-.01-.104-.026-.05-.015-.1-.035-.05-.02-.096-.046-.047-.025-.092-.055-.044-.03-.085-.063-.041-.034-.08-.072-.105-.105-.178-.235t-.108-.275q-.036-.145-.03-.295.004-.149.05-.29z"}})])},Me=[],Ee={name:"PenIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},Ve=Ee,Be=Object(b["a"])(Ve,Qe,Me,!1,null,null,null),$e=Be.exports,Re=Object(s["defineComponent"])({__name:"EditorSeatIcon",props:{size:{type:String,require:!1,default:"16"}},setup(e){return{__sfc:!0,Tooltip:$,PenIcon:$e,$m:D["d"]}}}),ze=Re,Fe=(i("f073"),Object(b["a"])(ze,Pe,Ae,!1,null,"94912d16",null)),Le=Fe.exports,Ue=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.Tooltip,{staticClass:"icon-wrapper prototype-icon",attrs:{position:"top",content:i.$m("原型文件"),offset:30}},[t(i.Prototype1pxIcon,{attrs:{size:e.size}})],1)},qe=[],Ne=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon761a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon761a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M2 14h12V2H2zm11-9V3H3v2zM6 6H3v7h3zm1 0v7h6V6z"}})])])},Ge=[],He={name:"Prototype1pxIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},Ye=He,Ze=Object(b["a"])(Ye,Ne,Ge,!1,null,null,null),We=Ze.exports,Je=Object(s["defineComponent"])({__name:"PrototypeSeatIcon",props:{size:{type:String,require:!1,default:"16"}},setup(e){return{__sfc:!0,Tooltip:$,Prototype1pxIcon:We,$m:D["d"]}}}),Ke=Je,Xe=(i("f127"),Object(b["a"])(Ke,Ue,qe,!1,null,"b821a3ea",null)),et=Xe.exports,tt=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.Tooltip,{staticClass:"icon-wrapper develop-icon",attrs:{position:"top",content:i.$m("研发模式"),offset:30}},[t(i.LayerComponentCodeIcon,{attrs:{size:e.size}})],1)},it=[],at=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon482a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon482a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"m1.707 8 3.147-3.146-.708-.708L.293 8l3.853 3.854.708-.708zm14 0-3.853-3.854-.708.708L14.293 8l-3.147 3.146.708.708z"}}),t("path",{attrs:{fill:"currentcolor","fill-opacity":".85",d:"M5 14h1l5-12h-1z"}})])])},nt=[],ot={name:"LayerComponentCodeIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},st=ot,rt=Object(b["a"])(st,at,nt,!1,null,null,null),lt=rt.exports,ct=Object(s["defineComponent"])({__name:"DevelopSeatIcon",props:{size:{type:String,require:!1,default:"16"}},setup(e){return{__sfc:!0,Tooltip:$,LayerComponentCodeIcon:lt,$m:D["d"]}}}),ut=ct,dt=(i("15bb"),Object(b["a"])(ut,tt,it,!1,null,"2bc2e0ae",null)),pt=dt.exports;const vt={"初创版":1,"企业版":21,"团队版":11},mt={[l["C"].Editor]:{name:Object(D["d"])("设计席位"),icon:[Le,pt]},[l["C"].Develop]:{name:Object(D["d"])("研发席位"),icon:[pt]},[l["C"].Prototype]:{name:Object(D["d"])("产品席位"),icon:[et,pt]}};function ft({toastManager:e}){const t=Object(s["inject"])("getPayType"),i=fe(),a=ve(),n=Object(s["computed"])(()=>{var e;return null===(e=i.packageInfo)||void 0===e?void 0:e.remained_due_svc_day}),r=Object(s["computed"])(()=>i.serviceStartTime),c=Object(s["computed"])(()=>{var e,t;return null===(t=null===(e=i.packageInfo)||void 0===e?void 0:e.available_service_start_time)||void 0===t?void 0:t.end}),u=Object(s["computed"])(()=>{if(t()===l["B"].AddSeat){const e=ye()(i.serviceStartTime),t=ye()(c.value),a=Math.abs(e.diff(t,"day"))+1;return a}return 0}),d=Object(s["computed"])(()=>t()===l["B"].AddSeat?u.value:n.value),p=Object(s["ref"])(0),v=Object(s["ref"])(0),m=Object(s["computed"])(()=>i.createOrderPackageData),f=Object(s["computed"])(()=>i.seatUserSelectInfo),_=Object(s["computed"])(()=>{var e;const t=[];for(const n in f.value){const o=f.value[n];if(o){const n=Se(o.seatId,(null===(e=m.value)||void 0===e?void 0:e.seats)||[]),s=Te((null===n||void 0===n?void 0:n.price)||[],i.duration,a.isAddSeat);t.push({seat_type:null===n||void 0===n?void 0:n.seat_type,seat_count:o.seatCount,seat_id:o.seatId,discount_type:null===s||void 0===s?void 0:s.discount_type})}}return t}),b=Object(s["computed"])(()=>{var e;let n="";Array.isArray(null===(e=i.packageInfo)||void 0===e?void 0:e.packages)&&(n=i.packageInfo.packages[0].package_name);const o=vt[n];return{entity_id:a.entityId,entity_type:a.entityType,seat_buy:_.value,package_level:o,amount_unit:t()===l["B"].AddSeat?l["G"].Month:l["G"].Year,amount_buy:t()===l["B"].AddSeat?u.value:i.duration,service_start_time:r.value,service_type:t()}});function h(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){const t=b.value;if(0!==t.seat_buy.length&&void 0!==t.package_level)try{a.setLoading(!0);const e=yield Object(me["j"])(t),n=null===e||void 0===e?void 0:e.data;if(n){p.value=n.price,v.value=n.old_price,i.setSeatExpiredDate(n.service_end_time);const e=y(n.seat_price);i.setSeatDetail(e)}}catch(n){console.error(n),e.showDestructiveToast(Object(D["d"])("查询订单价格失败"))}finally{a.setLoading(!1)}}))}function g(e){switch(e){case l["C"].Editor:return 1;case l["C"].Prototype:return 2;case l["C"].Develop:return 3;default:return 0}}function y(e){var n;const o=t(),s=[];if(!f.value)return[];for(const t in f.value){const r=f.value[t];if(r&&r.seatCount>0){const c=l["I"][t],u=ke(l["I"][t],(null===(n=m.value)||void 0===n?void 0:n.seats)||[]),p=Te((null===u||void 0===u?void 0:u.price)||[],i.duration,a.isAddSeat),v=u?Ce(u):0,f=e[c];if(e&&p){const e=p.discount/100;let t="";if(o===l["B"].AddSeat){const e=Object(D["d"])("单价(¥%{price} ÷ 365天)",{price:(null===p||void 0===p?void 0:p.price)||0}),i=Object(D["d"])("%{count}个席位",{count:r.seatCount}),a=Object(D["d"])("%{count}天",{count:d.value});t=`${e} x ${i} x ${a}`}else t=e<1?Object(D["d"])("¥%{price} x %{seatCount}个席位 x %{duration}年 x %{discount}",{price:v,seatCount:r.seatCount,duration:i.duration,discount:e}):Object(D["d"])("¥%{price} x %{seatCount}个席位 x %{duration}年",{price:v,seatCount:r.seatCount,duration:i.duration});let a="";c===l["C"].Prototype&&i.isHasAiCredits&&(o===l["B"].AddSeat?(i.SET_AI_CREDITS(Math.round(2500*r.seatCount*d.value/365)),a=i.aiCredits?Object(D["d"])("AI 企业积分: (2500 ÷ 365天) x %{seatCount}个席位 x %{remainDays}天 = %{aiCredits}",{seatCount:r.seatCount,remainDays:d.value,aiCredits:i.aiCredits}):""):(i.SET_AI_CREDITS(Math.round(2500*r.seatCount*i.duration)),a=i.aiCredits?Object(D["d"])("AI 企业积分: 2500 x %{seatCount}个席位 x %{duration}年 = %{aiCredits}",{seatCount:r.seatCount,duration:i.duration,aiCredits:i.aiCredits}):"")),s.push({index:g(c),title:mt[c].name,price:"¥"+f.price,formula:t,original:"¥"+f.old_price,gift:a})}}!r&&t===l["J"][l["C"].Prototype]&&i.isHasAiCredits&&i.SET_AI_CREDITS(0)}return s.sort((e,t)=>e.index-t.index)}return Object(s["watch"])([f,r],()=>{r.value&&h()},{deep:!0,immediate:!0}),Object(s["watch"])([p,b],()=>{i.setFinalPrice(p.value),i.setOrderParams(b.value)},{immediate:!0}),{originalPrice:v,finalPrice:p,orderParams:b}}function _t(){const e=Object(s["inject"])("getPayType"),t=Object(s["inject"])("toastManager"),i=fe(),a=Object(s["computed"])(()=>i.orderParams),n=Object(s["computed"])(()=>i.finalPrice),r=Object(s["computed"])(()=>i.serviceStartTime),c=ve();function u(e){return e===l["b"].NOT_ENSURE_ORDER?(i.SET_NOT_ENSURE_ORDER_TIP(!0),!0):e===l["b"].DUPLICATE_ORDER&&(i.SET_DUPLICATE_ORDER_TIP(!0),!0)}function d(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,o;const s=Object.assign(Object.assign({},a.value),{order_from:"master-payment",package_id:null===(e=i.packageInfo)||void 0===e?void 0:e.packages[0].package_id,service_start_time:r.value,total_price:n.value});try{const e=yield Object(me["e"])(s),t=u(e.code);if(i.setOrderId(null===(o=e.data)||void 0===o?void 0:o.order_id),t)return;m["o"].track("business_buy_order",{action_detail:{org:"enterprise",team:"team"}[c.entityType],order_id:e.data.order_id}),i.toStep2()}catch(l){t.showDestructiveToast(Object(D["d"])("创建订单失败，请稍后重试")),console.log(l)}}))}function p(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,o;const s=Object.assign(Object.assign({},a.value),{order_from:"master-payment",service_start_time:r.value,package_id:null===(e=i.packageInfo)||void 0===e?void 0:e.packages[0].package_id,total_price:n.value});try{const e=yield Object(me["b"])(s),t=u(e.code);if(i.setOrderId(null===(o=e.data)||void 0===o?void 0:o.order_id),t)return;m["o"].track("business_buy_order",{action_detail:{org:"enterprise",team:"team"}[c.entityType],order_id:e.data.order_id}),i.toStep2()}catch(l){t.showDestructiveToast(Object(D["d"])("创建订单失败，请稍后重试")),console.log(l)}}))}function v(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,o;const s=Object.assign(Object.assign({},a.value),{service_start_time:r.value,order_from:"master-payment",package_id:null===(e=i.packageInfo)||void 0===e?void 0:e.packages[0].package_id,total_price:n.value});try{const e=yield Object(me["o"])(s),t=u(e.code);if(i.setOrderId(null===(o=e.data)||void 0===o?void 0:o.order_id),t)return;m["o"].track("business_buy_order",{action_detail:{org:"enterprise",team:"team"}[c.entityType],order_id:e.data.order_id}),i.toStep2()}catch(l){t.showDestructiveToast(Object(D["d"])("创建订单失败，请稍后重试")),console.log(l)}}))}function f(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){const t=e();t===l["B"].AddSeat?yield p():t===l["B"].Renewal?yield v():yield d()}))}function _(){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e={order_id:i.orderId,entity_id:c.entityId,entity_type:c.entityType},a=yield Object(me["d"])(e);if("OK"!==a.code)throw t.showDestructiveToast(Object(D["d"])("取消订单失败，请稍后重试")),new Error(a.msg)}))}return{patchOrder:f,cancelOrder:_}}function bt(){const e=fe(),t=Object(s["ref"])([]),i=Object(s["computed"])(()=>e.packageInfo),a=Object(s["computed"])(()=>{var t;return null===(t=e.packageInfo)||void 0===t?void 0:t.latest_service}),n=Object(s["inject"])("getPayInfo"),o=Object(s["inject"])("getPayType"),r=Object(s["inject"])("getPayInfo"),c=Object(s["ref"])([]);function u(e){const t=mt[e];return r().entityType===l["A"].Team&&e===l["C"].Editor&&(t.name=Object(D["d"])("编辑席位")),t}function d(e){var t,i,o;const s=n();if(s&&s.type===l["B"].Renewal){if(e===l["C"].Prototype)return(null===(t=a.value)||void 0===t?void 0:t.proto_seat_count)||0;if(e===l["C"].Develop)return(null===(i=a.value)||void 0===i?void 0:i.dev_seat_count)||0;if(e===l["C"].Editor)return(null===(o=a.value)||void 0===o?void 0:o.edit_seat_count)||0}return 0}const p=Object(s["computed"])(()=>{var e,i,o,s,r,c,u,d,p;const v=n();if(v.type===l["B"].Renewal){const n=null!==(i=null===(e=a.value)||void 0===e?void 0:e.dev_seat_count)&&void 0!==i?i:0,v=null!==(s=null===(o=a.value)||void 0===o?void 0:o.edit_seat_count)&&void 0!==s?s:0,m=null!==(c=null===(r=a.value)||void 0===r?void 0:r.proto_seat_count)&&void 0!==c?c:0,f=(null===(u=t.value.find(e=>e.seatTypeValue===l["C"].Develop))||void 0===u?void 0:u.seatCount)||0,_=(null===(d=t.value.find(e=>e.seatTypeValue===l["C"].Editor))||void 0===d?void 0:d.seatCount)||0,b=(null===(p=t.value.find(e=>e.seatTypeValue===l["C"].Prototype))||void 0===p?void 0:p.seatCount)||0;return f<n||_<v||b<m}return!1});function v(e){const t={};for(const n of e)for(const e of n.price){if(De(e))continue;const i=`${e.service_quantity}_${e.unit_type}`;!t[i]||t[i].discount===e.discount&&t[i].discount_type===e.discount_type||console.error(i+" 折扣 不一致，后面的会覆盖前面的",t[i],e),t[i]=e}const i=Object.values(t),a=i.map(e=>({label:m(e),value:e.service_quantity,unit:e.unit_type,discount:e.discount,discountType:e.discount_type,showTimeText:f(e)}));return a.sort((e,t)=>e.value-t.value)}function m(e){if(!e.discount)return"";const t=xe(e.discount);return Object(D["d"])("限时 %{discount} 折",{discount:t})}function f(e){return Object(D["d"])("%{count}年",{count:e.service_quantity})}Object(s["watch"])(i,i=>{var a;if(!(null===i||void 0===i?void 0:i.packages))return void(t.value=[]);const n=i.packages[0];if(!n)throw new Error("cannot find target package");t.value=n.seats.map((e,t)=>{const i=Ce(e),a=u(e.seat_type),n=0===t?1:0,s=d(e.seat_type),r=o()===l["B"].Renewal?s:n;return{id:e.seat_id,name:null===a||void 0===a?void 0:a.name,originalPrice:i||0,seatCount:r,icon:(null===a||void 0===a?void 0:a.icon)||null,seatTypeValue:e.seat_type,prices:e.price}}),c.value=v(n.seats),e.setDuration((null===(a=c.value[0])||void 0===a?void 0:a.value)||1)},{immediate:!0});const _=Object(s["computed"])(()=>t.value.reduce((e,t)=>e+t.seatCount,0));return{seatPackage:t,isSeatCountReduce:p,allSeatCount:_,availableTimes:c,getDiscountPrice:je,getAddSeatDiscountPrice:we,getDiscountPriceItem:Oe,getAddSeatPriceItem:Ie}}var ht,gt,yt=Object(s["defineComponent"])({__name:"SeatVersionCard",props:{packageData:{default:()=>({})},selectedDuration:{default:1}},emits:["click","changeSeatCount"],setup(e,{emit:t}){const i=e,{getAddSeatDiscountPrice:a,getDiscountPrice:n,getAddSeatPriceItem:o,getDiscountPriceItem:r}=bt(),c=Object(s["ref"])(),u=Object(s["computed"])(()=>1===b.value&&1===i.packageData.seatCount?1:0),d={1:"editSeat",2:"developSeat",3:"prototypeSeat"},p=fe(),v=ve(),m=Object(s["computed"])(()=>v.payType!==l["B"].AddSeat&&i.packageData.originalPrice!==g(i.packageData.prices)),f=Object(s["computed"])(()=>p.isHasAiCredits),_=()=>{t("click")},b=Object(s["ref"])(1),h=e=>v.payType===l["B"].AddSeat?o(e):r(e,i.selectedDuration),g=e=>{var t;return(null===(t=h(e))||void 0===t?void 0:t.price)||0};Object(s["watch"])(()=>p.seatUserSelectInfo,()=>{var e,t,i,a,n,o;const s=(null!==(t=null===(e=p.seatUserSelectInfo.editSeat)||void 0===e?void 0:e.seatCount)&&void 0!==t?t:0)+(null!==(a=null===(i=p.seatUserSelectInfo.developSeat)||void 0===i?void 0:i.seatCount)&&void 0!==a?a:0)+(null!==(o=null===(n=p.seatUserSelectInfo.prototypeSeat)||void 0===n?void 0:n.seatCount)&&void 0!==o?o:0);b.value=s},{deep:!0,immediate:!0});const y=Object(s["computed"])(()=>d[i.packageData.seatTypeValue]),C=e=>{if(e>=u.value&&e<=999?t("changeSeatCount",e):t("changeSeatCount",i.packageData.seatCount),0===e)return void p.setUserSelectInfo(y.value,null);const a={seatCount:e,seatId:i.packageData.id};p.setUserSelectInfo(y.value,a)};return Object(s["watch"])(()=>i.selectedDuration,()=>{C(i.packageData.seatCount)},{immediate:!0}),{__sfc:!0,props:i,getAddSeatDiscountPrice:a,getDiscountPrice:n,getAddSeatPriceItem:o,getDiscountPriceItem:r,inputRef:c,minSeatCount:u,seatTypeMap:d,orderStore:p,commonStore:v,showOriginPrice:m,isHasAiCredits:f,emit:t,handleClick:_,allSeatCount:b,getCurrentPriceItem:h,getCurrentPrice:g,seatType:y,changeSeatCount:C,Tooltip:$,InputNumber:ue,$m:D["d"]}}}),Ct=yt,Ot=(i("c93a"),Object(b["a"])(Ct,P,A,!1,null,"18224540",null)),jt=Ot.exports,It=i("1ce4"),wt=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{ref:"datePickerRef",staticClass:"custom-date-picker"},[t("input",{staticClass:"date-input",class:{"is-disabled":e.disable},attrs:{type:"text",disabled:e.disable,placeholder:i.placeholderText,readonly:!e.editable},domProps:{value:i.formattedSelectedDate},on:{click:i.togglePicker}}),i.isPickerOpen?t("div",{staticClass:"picker-panel"},[t("div",{staticClass:"picker-header"},[t("button",{staticClass:"nav-button",on:{click:function(e){return e.stopPropagation(),i.prevYear.apply(null,arguments)}}},[e._v(" << ")]),t("button",{staticClass:"nav-button",on:{click:function(e){return e.stopPropagation(),i.prevMonth.apply(null,arguments)}}},[e._v(" < ")]),t("span",{staticClass:"current-month-year"},[e._v(e._s(i.currentMonthYearDisplay))]),t("button",{staticClass:"nav-button",on:{click:function(e){return e.stopPropagation(),i.nextMonth.apply(null,arguments)}}},[e._v(" > ")]),t("button",{staticClass:"nav-button",on:{click:function(e){return e.stopPropagation(),i.nextYear.apply(null,arguments)}}},[e._v(" >> ")])]),t("div",{staticClass:"picker-weekdays"},e._l(i.weekdays,(function(i){return t("span",{key:i,staticClass:"weekday"},[e._v(e._s(i))])})),0),t("div",{staticClass:"picker-days"},e._l(i.calendarDays,(function(a){return t("button",{key:a.dateString,staticClass:"day-button",class:i.getDayClasses(a),attrs:{disabled:a.isDisabled},on:{click:function(e){return e.stopPropagation(),i.selectDate(a.date)}}},[e._v(" "+e._s(a.dayNumber)+" ")])})),0)]):e._e()])},St=[],kt=Object(s["defineComponent"])({__name:"DatePicker",props:{value:null,placeholder:{default:Object(D["d"])("选择日期")},pickerOptions:null,clearable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},disable:{type:Boolean,default:!1}},emits:["update:value","change"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(null),n=Object(s["ref"])(!1),o=Object(s["ref"])(new Date),r=Object(s["ref"])(null),l=Object(s["computed"])(()=>i.placeholder),c=[Object(D["d"])("日"),Object(D["d"])("一"),Object(D["d"])("二"),Object(D["d"])("三"),Object(D["d"])("四"),Object(D["d"])("五"),Object(D["d"])("六")],u=Object(s["ref"])(!1);Object(s["watch"])(()=>i.value,e=>{var t;if(!u.value)if(e){const i=new Date(e);if(isNaN(i.getTime()))r.value=null;else{const e=null===(t=r.value)||void 0===t?void 0:t.getTime(),a=i.getTime();e!==a&&(r.value=i,o.value=new Date(i))}}else r.value=null},{immediate:!0});const d=Object(s["computed"])(()=>r.value?Object(m["i"])(r.value):""),p=Object(s["computed"])(()=>`${o.value.getFullYear()}-${o.value.getMonth()+1}`),v=e=>{const t=new Date(o.value);t.setMonth(t.getMonth()+e),o.value=t},f=e=>{const t=new Date(o.value);t.setFullYear(t.getFullYear()+e),o.value=t},_=()=>v(-1),b=()=>v(1),h=()=>f(-1),g=()=>f(1),y=Object(s["computed"])(()=>{var e,t,a;const n=o.value.getFullYear(),s=o.value.getMonth(),l=new Date(n,s,1),c=[],u=new Date(l);u.setDate(u.getDate()-u.getDay());for(let o=0;o<42;o++){const n=new Date(u);n.setDate(u.getDate()+o);const l=new Date;l.setHours(0,0,0,0);const d=(null===(t=null===(e=i.pickerOptions)||void 0===e?void 0:e.disabledDate)||void 0===t?void 0:t.call(e,n))||!1;c.push({date:n,dateString:n.toISOString().split("T")[0],dayNumber:n.getDate(),isCurrentMonth:n.getMonth()===s,isToday:n.getTime()===l.getTime(),isSelected:(null===(a=r.value)||void 0===a?void 0:a.getTime())===n.getTime(),isDisabled:d})}return c}),C=e=>({"current-month":e.isCurrentMonth,"other-month":!e.isCurrentMonth,today:e.isToday&&e.isCurrentMonth,selected:e.isSelected&&e.isCurrentMonth,disabled:e.isDisabled}),O=e=>{var i;try{const a=new Date(e);if(isNaN(a.getTime()))return void console.warn("Invalid date selected:",e);a.setHours(0,0,0,0);const s=null===(i=r.value)||void 0===i?void 0:i.getTime(),l=a.getTime();if(s===l)return void(n.value=!1);r.value=a,o.value=new Date(a),t("update:value",a),t("change",a),n.value=!1}catch(a){console.error("Error selecting date:",a)}},j=()=>{i.editable||(n.value=!n.value,n.value&&r.value?o.value=new Date(r.value):n.value&&!r.value&&(o.value=new Date,o.value.setHours(0,0,0,0)))},I=e=>{a.value&&!a.value.contains(e.target)&&(n.value=!1)};Object(s["onMounted"])(()=>{document.addEventListener("click",I,!0)}),Object(s["onBeforeUnmount"])(()=>{document.removeEventListener("click",I,!0)});const w=fe();return Object(s["watch"])(d,e=>{e&&e!==w.serviceStartTime&&(u.value=!0,w.SET_SERVICE_START_TIME(e),Object(s["nextTick"])(()=>{u.value=!1}))},{immediate:!0}),{__sfc:!0,props:i,emit:t,datePickerRef:a,isPickerOpen:n,displayDate:o,actualSelectedDate:r,placeholderText:l,weekdays:c,isUpdatingFromProps:u,formattedSelectedDate:d,currentMonthYearDisplay:p,navigateMonth:v,navigateYear:f,prevMonth:_,nextMonth:b,prevYear:h,nextYear:g,calendarDays:y,getDayClasses:C,selectDate:O,togglePicker:j,handleClickOutside:I,orderStore:w}}}),Tt=kt,xt=(i("97cd6"),Object(b["a"])(Tt,wt,St,!1,null,"34d8de8f",null)),Dt=xt.exports,Pt=Object(s["defineComponent"])({__name:"Content",setup(e){const t=Object(s["inject"])("position"),i=Object(s["inject"])("getPayType"),a=fe(),n=ve(),o=Object(s["computed"])(()=>i()===l["B"].AddSeat),r=Object(s["computed"])(()=>i()===l["B"].Renewal),c=Object(s["computed"])(()=>a.serviceStartTime),u=Object(s["computed"])(()=>a.isHasAiCredits&&n.entityType===l["A"].Enterprise),d=Object(s["ref"])(1),p=Object(s["computed"])(()=>{var e,t;return null===(t=null===(e=a.packageInfo)||void 0===e?void 0:e.available_service_start_time)||void 0===t?void 0:t.end}),v=Object(s["computed"])(()=>t===l["c"].admin),f=Object(s["computed"])(()=>n.dialogLoading),_=e=>{var t;const i=null===(t=a.packageInfo)||void 0===t?void 0:t.available_service_start_time,n=864e5,o=Object(m["h"])(null===i||void 0===i?void 0:i.begin)-n,s=Object(m["h"])(null===i||void 0===i?void 0:i.end);return e.getTime()<o||e.getTime()>s},b=Object(s["computed"])(()=>{var e;const t=null===(e=a.packageInfo)||void 0===e?void 0:e.available_service_start_time,i=864e5,n=Object(m["h"])(null===t||void 0===t?void 0:t.begin)-i,s=Object(m["h"])(null===t||void 0===t?void 0:t.end)-(o.value?0:i);return{disabledDate(e){return e.getTime()<n||e.getTime()>s}}}),h=e=>{const t=Object(m["i"])(e);a.SET_SERVICE_START_TIME(t)},g=x()(e=>{d.value=e,a.setDuration(e)},100),{seatPackage:y,isSeatCountReduce:C,allSeatCount:O,availableTimes:j}=bt(),I=(e,t)=>{e<=0&&O.value-t.seatCount<=0?t.seatCount=1:t.seatCount=e};return{__sfc:!0,position:t,getPayType:i,orderStore:a,commonStore:n,isAddSeat:o,isRenewal:r,serviceStartTime:c,showAiCredits:u,selectedDuration:d,serviceEndTime:p,isMasterWeb:v,isLoading:f,disabledDate:_,pickerOptions:b,handleChange:h,selectDuration:g,seatPackage:y,isSeatCountReduce:C,allSeatCount:O,availableTimes:j,handleChangeSeatCount:I,$m:D["d"],SeatVersionCard:jt,Tooltip:$,InfomationIcon:It["a"],DatePicker:Dt}}}),At=Pt,Qt=(i("ee3f"),Object(b["a"])(At,S,k,!1,null,"52fde021",null)),Mt=Qt.exports,Et=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"right-panel"},[t("div",{staticClass:"right-panel_top"},[t("div",{staticClass:"right-panel_header"},[t("div",{staticClass:"right-panel_title"},[e._v(e._s(i.$m("订单详情")))]),i.showZhiChi()?t("div",{staticClass:"right-panel_contact",on:{click:i.toggleZCDialog}},[t(i.CustomServiceIcon),t("span",[e._v(e._s(i.$m("联系客服")))])],1):e._e()]),t("div",{staticClass:"right-panel_content"},[t("div",{staticClass:"team-info"},[t("div",{staticClass:"team-avatar"},[i.ownerInfo.logo?t("img",{attrs:{src:i.ownerInfo.logo}}):e._e()]),t("div",{staticClass:"team-detail"},[t("div",{staticClass:"team-name"},[e._v(e._s(i.unEscape(i.ownerInfo.name)))]),t("div",{staticClass:"team-id"},[e._v(e._s(i.ownerInfo.label)+"："+e._s(i.ownerInfo.id))])])]),t("div",{staticClass:"seat-items"},[e._l(i.seatDetails,(function(a,n){return t("div",{key:n,staticClass:"seat-item"},[t("div",{staticClass:"seat-header"},[t("span",{staticClass:"seat-title"},[e._v(e._s(a.title))]),t("span",{staticClass:"seat-price"},[e._v(e._s(a.price))])]),t("div",{staticClass:"seat-detail"},[t("span",{staticClass:"seat-formula"},[e._v(e._s(a.formula))]),i.showOriginPrice?t("span",{staticClass:"seat-original"},[e._v(e._s(a.original))]):e._e()]),a.gift?t("div",{staticClass:"seat-gift seat-detail"},[t("span",{staticClass:"seat-formula"},[e._v(e._s(a.gift))])]):e._e()])})),t("div",{staticClass:"seat-expiry"},[t("span",{staticClass:"seat-expiry-title"},[e._v(e._s(i.$m("有效期至")))]),t("span",{staticClass:"seat-expiry-time"},[e._v(e._s(i.seatExpiredDate))])])],2)])]),t("div",{staticClass:"right-panel_bottom"},[t("div",{staticClass:"right-panel_card"},[t("div",{staticClass:"order-detail"},[t("div",{staticClass:"detail-price-container"},[t("div",{staticClass:"detail-left"},[t("div",{staticClass:"left-container"},[t("span",{staticClass:"detail-title"},[e._v(e._s(i.$m("订单金额")))])])]),t("div",{staticClass:"detail-right"},[i.showDiscountAmount?t("div",{staticClass:"tag discount-amount"},[e._v(e._s(i.$m("已减"))+" ￥"+e._s(i.discountAmount))]):e._e(),t("span",{staticClass:"detail-price"},[e._v("¥"+e._s(i.finalPrice))])])]),t("div",{staticClass:"detail-base",class:i.hasDiscount?"discount":""},[t("p",{staticClass:"detail-base__tip"},[e._v(e._s(i.$m("付款成功后，可在订单页申请开具发票")))]),i.showOriginPrice?t("div",[i.showOriginPriceLabel?t("span",[e._v(e._s(i.$m("原价")))]):e._e(),t("span",{staticClass:"base-price"},[e._v("¥"+e._s(i.originalPrice))])]):e._e()])])]),t("div",{staticClass:"right-panel_button"},[i.agreementChecked&&i.userIsAgreement?t(i.Button,{staticClass:"submit-button",attrs:{size:"md",disabled:i.buyDisabled},on:{click:i.handlePatchOrder}},[e._v(" "+e._s(i.$m("立即下单"))+" ")]):t(i.Tooltip,{staticClass:"submit-button-tooltip",attrs:{content:i.$m("请勾选下方协议"),position:"top"}},[t(i.Button,{staticClass:"submit-button",attrs:{size:"md",disabled:i.buyDisabled}},[e._v(e._s(i.$m("立即下单")))])],1)],1),t("div",{staticClass:"right-panel_proto"},[t(i.Checkbox,{attrs:{label:i.$m("我已充分阅读并同意"),modelValue:i.agreementChecked},on:{"update:modelValue":i.handleCheckAgreement}}),t(i.Link,{attrs:{type:"primary",href:i.PROTO_URL,target:"_blank"}},[e._v(e._s(i.$m("《服务协议》")))])],1),t(i.AgreementDialog,{attrs:{from:"mastergo_proto_gift",visible:i.agreementDialogVisible},on:{agree:i.handleAgreementAgree,cancel:i.handleAgreementCancel}})],1)])},Vt=[],Bt=i("8c08");(function(e){e[e["Pending"]=1]="Pending",e[e["Active"]=2]="Active",e[e["Expired"]=3]="Expired",e[e["Terminated"]=4]="Terminated"})(ht||(ht={})),function(e){e[e["Success"]=1]="Success",e[e["Pending"]=2]="Pending",e[e["Cancelled"]=3]="Cancelled",e[e["Failed"]=5]="Failed",e[e["Expired"]=7]="Expired",e[e["FullRefund"]=9]="FullRefund",e[e["PartialRefund"]=10]="PartialRefund"}(gt||(gt={}));const $t={"体验版":"AI2Page_TRY","基础版":"AI2Page_BASIC","专家版":"AI2Page_PRO"};var Rt;function zt(e=Rt.Credits){const t=Object(s["ref"])(!1),i=Object(s["ref"])(!1),a=Object(s["ref"])(!1),n=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{const i=yield Object(Bt["i"])(e);t.value=i.data.agree}catch(i){console.error(i),t.value=!1}})),r=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{yield Object(Bt["h"])(e),t.value=!0}catch(i){console.error(i),t.value=!0}})),l=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){i.value=!0,yield r(),a.value=!1})),c=()=>!(!t.value||!i.value),u=e=>{i.value=e,t.value||(a.value=!0)},d=()=>{a.value=!1,i.value=!1};return Object(s["onMounted"])(()=>{n()}),{userIsAgreement:t,agreementChecked:i,agreementDialogVisible:a,saveUserAgreement:r,handleAgreementCancel:d,handleAgreementChange:u,handleAgreementAgree:l,checkAgreementBeforeAction:c}}function Ft(){const e=he(),t=Object(s["computed"])(()=>e.cycle),i=t=>{e.setCycle(t)},a=e=>{switch(e){case"month":return Object(D["d"])("月");case"year":return Object(D["d"])("年");default:return Object(D["d"])("月")}};return{currentCycle:t,switchCycle:i,getCycleText:a}}function Lt(e){const t=Object(s["computed"])(()=>he().cycle),i=e=>{switch(e){case"month":return Object(D["d"])("月");case"year":return Object(D["d"])("年");default:return Object(D["d"])("月")}},a=Object(s["computed"])(()=>{if(!e.value||!e.value.selling||0===e.value.selling.length)return!1;const i=e.value.selling.some(e=>e.selling_cycle===t.value);return i}),n=Object(s["computed"])(()=>a.value?e.value.selling.find(e=>e.selling_cycle===t.value)||e.value.selling[0]:null),o=Object(s["computed"])(()=>n.value?n.value.credits_num:0),r=Object(s["computed"])(()=>"year"===t.value?Object(D["d"])("订阅后，一年内每月获得 %{count} 积分",{count:o.value}):Object(D["d"])("订阅后，每月获得 %{count} 积分",{count:o.value}));return{hasValidSelectedPlan:a,subscribeDesc:r,getCycleText:i}}function Ut(){const e=he(),t=Object(s["ref"])([]),i=Object(s["ref"])(0),a=Object(s["computed"])(()=>e.userInfo.userId),n=Object(s["computed"])(()=>i.value>=0&&t.value.length>0?t.value[i.value]:null),r=Object(s["computed"])(()=>e.cycle),l=Object(s["computed"])(()=>e.subscribedPlan),{isUpgrade:c}=Gt(),u=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{const i=yield Object(Bt["e"])({entity_id:a.value,entity_type:"user"});if(!(i.data&&i.data.list&&Array.isArray(i.data.list)))throw new Error(Object(D["d"])("无法获取套餐列表"));{t.value=i.data.list;const a=t.value.find(e=>e.is_subscribe);e.setSubscribedPlan(a);const n=t.value.findIndex(e=>e.is_subscribe);p(n>=0?n+1:0)}}catch(i){console.error(i)}})),d=t=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){if(t)try{const i=t.selling.find(e=>e.selling_cycle===r.value),n=yield Object(Bt["d"])({entity_id:a.value,entity_type:"user",service_type:t.support_service_type[0]||0,package_selling_id:(null===i||void 0===i?void 0:i.id)||"",package_count:1});if(n.data)return e.setSelectedPlanPriceInfo(n.data),n.data}catch(i){console.error("获取最新价格信息失败:",i)}})),p=a=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){i.value=a;const n=t.value[a];!n||n.isDowngrade||n.isSameLevel||(e.setSelectedPlan(n),c.value&&e.setCycle("month"),d(n))}));return Object(s["watch"])(r,()=>{d(n.value),p(i.value)}),Object(s["watch"])(l,e=>{t.value=t.value.map(t=>{var i,a;const n=(null===(i=null===e||void 0===e?void 0:e.selling.find(e=>e.selling_cycle===r.value))||void 0===i?void 0:i.price)||0,o=(null===(a=t.selling.find(e=>e.selling_cycle===r.value))||void 0===a?void 0:a.price)||0;return t.isDowngrade=o<n,t.isSameLevel=o===n,t})}),Object(s["onMounted"])(()=>{u()}),{planList:t,selectedPlanIndex:i,selectedPlan:n,fetchPlanList:u,selectPlan:p}}function qt(){const e=Object(s["ref"])(""),t=Object(s["ref"])(!1),i=Object(s["ref"])(""),a=he(),n=Object(s["computed"])(()=>a.selectedPackage),r=Object(s["computed"])(()=>a.subscribedPackage),l=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var o,s;const r=a.selectedPlan;if(r&&n.value)try{const l={entity_id:a.userInfo.userId,entity_type:"user",package_id:r.package_id,package_selling_id:n.value.id,price:null===(o=null===a||void 0===a?void 0:a.priceInfo)||void 0===o?void 0:o.price,package_count:1,service_type:null===(s=r.support_service_type)||void 0===s?void 0:s[0]},c=yield Object(Bt["c"])(l);return"11006"===c.code&&c.data.unpaid_order_id?(t.value=!0,i.value=c.data.unpaid_order_id,a.setCreatedOrderId(c.data.unpaid_order_id),{hasUnpaidOrder:!0,unpaidOrderId:c.data.unpaid_order_id}):(e.value=c.data.order_id,a.setCreatedOrderId(e.value),a.setCurrentStep(1),m["o"].track("business_buy_order",{action_detail:$t[r.package_name],action_parameter0:"rightTop",action_parameter1:e.value}),{hasUnpaidOrder:!1,orderId:e.value})}catch(l){return console.error(Object(D["d"])("创建订单接口调用失败:"),l),{hasUnpaidOrder:!1,error:l}}})),c=Object(s["ref"])("");return Object(s["watch"])(()=>a.priceInfo,e=>{var t;if(!e)return;const{cycle_count:i,price:o}=a.priceInfo;if(!n.value)return;const{price:s}=n.value;c.value=`(${s} - ${null===(t=r.value)||void 0===t?void 0:t.price})*${i}=${o}`},{immediate:!0}),{createOrder:l,orderAmountTips:c}}function Nt(){const e=he(),t=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var t;try{const i=(null===(t=null===e||void 0===e?void 0:e.currentOrder)||void 0===t?void 0:t.order_id)||"",a={order_id:i,entity_id:e.userInfo.userId,entity_type:"user"},n=yield Object(Bt["f"])(a);"OK"===n.code&&n.data&&e.setCurrentStep(1)}catch(i){console.error(Object(D["d"])("获取订单详情失败:"),i)}}));return{checkOrderStatus:t}}function Gt(){const e=he(),t=Object(s["computed"])(()=>e.cycle),i=Object(s["computed"])(()=>!!e.subscribedPlan),a=Object(s["computed"])(()=>{var i,a,n;return(null===(n=null===(a=null===(i=e.selectedPlan)||void 0===i?void 0:i.selling)||void 0===a?void 0:a.find(e=>e.selling_cycle===t.value))||void 0===n?void 0:n.price)||0}),n=Object(s["computed"])(()=>{var i,a,n;return(null===(n=null===(a=null===(i=e.subscribedPlan)||void 0===i?void 0:i.selling)||void 0===a?void 0:a.find(e=>e.selling_cycle===t.value))||void 0===n?void 0:n.price)||0}),o=Object(s["computed"])(()=>a.value>n.value&&i.value),r=Object(s["computed"])(()=>a.value<n.value&&i.value),l=Object(s["computed"])(()=>a.value===n.value&&i.value);return{isUpgrade:o,isDowngrade:r,isSameLevel:l,selectedPrice:a,subscribedPrice:n}}(function(e){e["Credits"]="credits",e["MastergoProtoGift"]="mastergo_proto_gift"})(Rt||(Rt={}));var Ht,Yt=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon344a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon344a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M2 10V7q0-2.292 1.775-3.905Q5.529 1.5 8 1.5q2.471 0 4.225 1.595Q14 4.708 14 7v3.429q0 1.736-1.674 2.932Q10.731 14.5 8.5 14.5v-1q1.91 0 3.245-.953l.092-.067q-.164.02-.337.02H11q-.621 0-1.06-.44-.44-.439-.44-1.06V7h3q.267 0 .5.081V7q0-1.85-1.447-3.166Q10.085 2.5 8 2.5T4.447 3.834Q3 5.15 3 7v.081Q3.233 7 3.5 7h3v4q0 .621-.44 1.06-.439.44-1.06.44h-.5q-1.036 0-1.768-.732T2 10m11-1.5q0-.207-.146-.354Q12.707 8 12.5 8h-2v3q0 .207.146.354.147.146.354.146h.5q.621 0 1.06-.44.44-.439.44-1.06zM3 10V8.5q0-.207.146-.354Q3.293 8 3.5 8h2v3q0 .207-.146.354-.147.146-.354.146h-.5q-.621 0-1.06-.44Q3 10.622 3 10"}})])])},Zt=[],Wt={name:"CustomServiceIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},Jt=Wt,Kt=Object(b["a"])(Jt,Yt,Zt,!1,null,null,null),Xt=Kt.exports,ei=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{class:["button-container",i.props.size,i.props.type,i.active?"active":"",i.disabled?"disabled":""],style:i.inputStyle,on:{click:i.buttonClick,mousedown:i.onMouseDown,mouseup:i.onMouseUp}},[i.startIcon?t(i.startIcon,{tag:"component",staticClass:"start-icon",attrs:{size:"16"}}):e._e(),e._t("default"),i.endIcon?t(i.endIcon,{tag:"component",staticClass:"end-icon",attrs:{size:"16"}}):e._e()],2)},ti=[],ii=Object(s["defineComponent"])({__name:"Button",props:{type:{default:"primary"},width:null,size:{default:"xs"},disabled:{type:Boolean,default:!1},startIcon:null,endIcon:null},emits:["click"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(!1),n=Object(s["computed"])(()=>i.startIcon),o=Object(s["computed"])(()=>i.endIcon),r=Object(s["computed"])(()=>i.disabled),l=Object(s["computed"])(()=>{const e={};return i.width&&(e["width"]=i.width+"px"),e}),c=e=>{r.value||t("click",e)},u=()=>{r.value||(a.value=!0)},d=()=>{r.value||(a.value=!1)};return{__sfc:!0,props:i,emit:t,active:a,startIcon:n,endIcon:o,disabled:r,inputStyle:l,buttonClick:c,onMouseDown:u,onMouseUp:d}}}),ai=ii,ni=(i("7c03"),i("4000"),Object(b["a"])(ai,ei,ti,!1,null,"44ff811b",null)),oi=ni.exports,si=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("a",{class:["link-container",i.linkType],attrs:{target:i.target,href:i.hrefValue},on:{click:i.onClick}},[e._t("default")],2)},ri=[],li=Object(s["defineComponent"])({__name:"Link",props:{href:null,type:{default:"primary"},target:{default:"_self"}},emits:["click"],setup(e,{emit:t}){const i=e,a=Object(s["computed"])(()=>i.target),n=Object(s["computed"])(()=>i.type),o=Object(s["computed"])(()=>i.href||"javascript:void(0);"),r=e=>{t("click",e)};return{__sfc:!0,props:i,emit:t,target:a,linkType:n,hrefValue:o,onClick:r}}}),ci=li,ui=(i("f756"),i("1eac"),Object(b["a"])(ci,si,ri,!1,null,"5649ab66",null)),di=ui.exports,pi=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{class:["check-box",i.disabled?"disabled":""]},[t("span",{staticClass:"check-box_icon_wrapper",on:{click:i.onClick}},[i.checkBoxValue?t(i.CheckOnIcon,{staticClass:"check-box_icon checked",attrs:{size:"18"}}):t(i.CheckOffIcon,{staticClass:"check-box_icon",attrs:{size:"18"}})],1),t("div",{staticClass:"check-box_right"},[t("span",{staticClass:"check-box_label",on:{click:i.onClick}},[e._v(e._s(i.label))]),i.desc?t("div",{staticClass:"check-box_desc"},[e._v(e._s(i.desc))]):e._e()])])},vi=[],mi=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon94a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon94a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M4 14q-.098 0-.196-.01t-.194-.028q-.097-.02-.19-.048-.095-.029-.185-.066-.091-.038-.178-.084-.086-.046-.168-.101-.082-.055-.158-.117-.076-.062-.145-.132-.07-.07-.132-.145-.062-.076-.117-.158-.055-.082-.1-.168-.047-.087-.085-.178-.037-.09-.066-.184-.028-.095-.048-.19-.019-.097-.028-.195Q2 12.098 2 12V4q0-.098.01-.196t.028-.194q.02-.097.048-.19.029-.095.066-.185.038-.091.084-.178.046-.086.101-.168.055-.082.117-.158.062-.076.132-.145.07-.07.145-.132.076-.062.158-.117.082-.055.168-.1.087-.047.178-.085.09-.037.184-.066.094-.028.19-.048.097-.019.195-.028Q3.902 2 4 2h8q.098 0 .196.01t.194.028q.096.02.19.048.095.029.185.066.091.038.178.084.086.046.168.101.082.055.158.117.076.062.145.132.07.07.132.145.062.076.117.158.054.082.1.168.047.087.085.178.037.09.066.184.028.094.048.19.019.097.028.195.01.098.01.196v8q0 .098-.01.196t-.028.194q-.02.096-.048.19-.029.095-.066.185-.038.091-.084.178-.046.086-.101.168-.055.082-.117.158-.062.076-.132.145-.07.07-.145.132-.076.062-.158.117-.082.054-.168.1-.087.047-.178.085-.09.037-.184.066-.095.028-.19.048-.097.019-.195.028-.098.01-.196.01zm-1-2q0 .414.293.707T4 13h8q.414 0 .707-.293T13 12V4q0-.414-.293-.707T12 3H4q-.414 0-.707.293T3 4z"}})])])},fi=[],_i={name:"CheckOffIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},bi=_i,hi=Object(b["a"])(bi,mi,fi,!1,null,null,null),gi=hi.exports,yi=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon139a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon139a)"}},[t("rect",{attrs:{width:"12",height:"12",x:"2",y:"2",fill:"#2B5CD9",rx:"2"}}),t("path",{attrs:{fill:"#FFF","fill-rule":"evenodd",d:"M11.509 6.188q.07-.07.108-.162.038-.092.038-.192 0-.049-.01-.097t-.028-.094q-.019-.045-.046-.086-.028-.041-.062-.076-.035-.035-.076-.062-.041-.028-.087-.046-.045-.02-.093-.029-.049-.01-.098-.01-.1 0-.191.039-.092.038-.162.108L6.83 9.453l-1.626-1.68q-.07-.073-.164-.113-.093-.04-.195-.04-.05 0-.098.01t-.093.028q-.046.02-.087.047-.04.027-.076.062-.034.035-.062.076-.027.04-.046.086-.019.045-.028.094-.01.048-.01.097 0 .098.036.188.037.09.105.16l1.979 2.045.005.006q.035.035.076.062.041.028.087.047.045.018.093.028.049.01.098.01.05 0 .097-.01.049-.01.094-.028.046-.02.087-.047.04-.027.075-.062z"}})])])},Ci=[],Oi={name:"CheckOnIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},ji=Oi,Ii=Object(b["a"])(ji,yi,Ci,!1,null,null,null),wi=Ii.exports,Si=Object(s["defineComponent"])({__name:"Checkbox",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean,default:!1},label:null,desc:null,indeterminate:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,a=Object(s["computed"])(()=>i.label),n=Object(s["computed"])(()=>i.desc),o=Object(s["computed"])(()=>i.disabled),r=Object(s["computed"])(()=>i.indeterminate),l=Object(s["computed"])({get(){return i.modelValue},set(e){t("update:modelValue",e)}}),c=()=>{o.value||r.value||(l.value=!l.value)};return{__sfc:!0,props:i,emit:t,label:a,desc:n,disabled:o,indeterminate:r,checkBoxValue:l,onClick:c,CheckOffIcon:gi,CheckOnIcon:wi}}}),ki=Si,Ti=(i("82b4"),Object(b["a"])(ki,pi,vi,!1,null,"0e380b6a",null)),xi=Ti.exports,Di=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.Dialog,{attrs:{visible:e.visible,title:i.title,closable:!0,"mask-closable":!1,width:"500px"},on:{"update:visible":i.handleVisibleChange},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"dialog-footer"},[i.isScrolledToBottom?e._e():t("div",{staticClass:"scroll-tip"},[t(i.ArrowTriangelDownIcon,{staticStyle:{"margin-right":"10px"},attrs:{size:"16"}}),e._v(e._s(i.$m("请滑动至底部阅读并确认同意")))],1),t("div",{staticClass:"checkbox-wrapper",class:{disabled:!i.isScrolledToBottom}},[t(i.CheckBox,{attrs:{modelValue:i.agreementChecked,label:i.checkLabel,disabled:!i.isScrolledToBottom},on:{"update:modelValue":i.handleCheckboxClick}})],1),t(i.Button,{attrs:{type:"primary",disabled:!i.isScrolledToBottom||!i.agreementChecked},on:{click:i.handleAgree}},[e._v(e._s(i.$m("确认同意")))])],1)]},proxy:!0}])},[t("div",{ref:"contentRef",staticClass:"agreement-content",on:{scroll:i.handleScroll}},["ai_order"===e.from?t(i.UserAgreementDocx):e._e(),"mastergo_proto_gift"===e.from?t(i.MgProtoAiDocx):e._e()],1)])},Pi=[],Ai=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon159a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon159a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M8.5 8V2h-1v6H4l4 6 4-6z"}})])])},Qi=[],Mi={name:"ArrowTriangelDownIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},Ei=Mi,Vi=Object(b["a"])(Ei,Ai,Qi,!1,null,null,null),Bi=Vi.exports,$i=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"dialogRef",staticClass:"dialog-mask",style:i.dialogStyle,on:{click:i.handleMaskClose}},[t("div",{staticClass:"dialog",style:{width:i.props.width},on:{click:function(e){e.stopPropagation()}}},[e._t("header",(function(){return[e.$slots.header?e._e():t("div",{staticClass:"dialog__header"},[t("div",{staticClass:"dialog__title",style:{fontSize:i.props.titleSize+"px"}},[e._v(" "+e._s(i.props.title)+" "),t("span",{staticClass:"dialog__sub-title"},[e._v(e._s(i.props.subTitle))])])])]})),e.closable?t("a",{staticClass:"dialog__close-button",attrs:{href:"javascript:;"},on:{click:i.handleClose}},[t(i.CloseIcon,{attrs:{size:"16"}})],1):e._e(),t("div",{staticClass:"dialog__content"},[e._t("default")],2),e._t("footer",(function(){return[e.$slots.footer||e.noFooter?e._e():t("div",{staticClass:"dialog__footer"},[i.props.cancelText?t(i.Button,e._b({staticClass:"dialog__button",attrs:{type:"outline"},on:{click:i.handleCancelClick}},"Button",i.props.cancelBtnProps,!1),[e._v(" "+e._s(i.props.cancelText)+" ")]):e._e(),i.props.okText?t(i.Button,e._b({staticClass:"dialog__button dialog__button--primary",attrs:{type:"primary"},on:{click:i.handleOkClick}},"Button",i.props.okBtnProps,!1),[e._v(" "+e._s(i.props.okText)+" ")]):e._e()],1)]}))],2)])},Ri=[],zi=i("d658"),Fi=Object(s["defineComponent"])({__name:"Dialog",props:{noFooter:{type:Boolean,default:!1},title:{default:""},titleSize:{default:14},closable:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},okText:{default:"确定"},okBtnProps:null,cancelText:{default:"取消"},cancelBtnProps:null,maskClosable:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},width:{default:"360px"},visible:{type:Boolean,default:!1},zIndex:{default:l["H"]},subTitle:null},emits:["close","okClick","cancelClick","update:visible"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(),n=Object(s["computed"])(()=>({"z-index":i.zIndex})),o=()=>{t("close"),t("update:visible",!1)},r=()=>{i.maskClosable&&o()},l=e=>{i.closeOnEsc&&"Escape"===e.key&&o()},c=()=>{t("cancelClick")},u=()=>{t("okClick")},d=e=>{const t=a.value;if(t)try{e?document.body.appendChild(t):t.remove()}catch(i){console.error(i)}};return Object(s["watch"])(()=>i.visible,e=>{d(e)}),Object(s["onMounted"])(()=>{d(!0),i.closeOnEsc&&window.addEventListener("keydown",l)}),Object(s["onBeforeUnmount"])(()=>{d(!1),i.closeOnEsc&&window.removeEventListener("keydown",l)}),{__sfc:!0,props:i,emits:t,dialogRef:a,dialogStyle:n,handleClose:o,handleMaskClose:r,handleEscClose:l,handleCancelClick:c,handleOkClick:u,_updateElStatus:d,CloseIcon:zi["a"],Button:oi}}}),Li=Fi,Ui=(i("c056"),Object(b["a"])(Li,$i,Ri,!1,null,"1bf392c4",null)),qi=Ui.exports,Ni=function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)},Gi=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"user-agreement-docx"},[t("h2",{staticClass:"agreement-title"},[e._v("【MGAI 使用须知】")]),t("p",{staticClass:"agreement-paragraph"},[e._v(" MGAI，即 MasterGo AI 快速界面设计工具是一款智能化页面制作工具，可以使产品经理、工程师、运营及市场人员等非专业 UI 设计师，利用 MGAI 快速完成页面设计，并实现界面代码的生成，无需设计和开发经验。 ")]),t("p",{staticClass:"agreement-paragraph"},[e._v(" 您在使用 MGAI 前，您务必首先同意本使用须知内容。请您仔细阅读全部内容，如您无法准确理解或不同意本使用须知的任一内容，请不要订阅、访问、使用MGAI 提供的任何服务。您通过勾选页面点击确认、实际订阅或使用服务等操作均表示您已阅读并充分理解本使用须知之内容，并同意接受本使用须知的全部约定内容，更多约束，MGAI 服务为 MasterGo 的附加增值组成部分，因此 MasterGo《用户协议》《隐私政策》同样适用于本服务；本使用须知未明确的内容，以 MasterGo《用户协议》《隐私政策》约定为准。 ")]),t("h3",{staticClass:"agreement-subtitle"},[e._v("1. 本服务主要功能：")]),t("p",{staticClass:"agreement-item"},[e._v("(1) 输入日常用语获取页面需求")]),t("p",{staticClass:"agreement-item"},[e._v("(2) 支持导入参考件例和风格模仿")]),t("p",{staticClass:"agreement-item"},[e._v("(3) 通过智能化方式根据您的需求生成多个可选方案")]),t("p",{staticClass:"agreement-item"},[e._v("(4) 实时预览设计效果")]),t("p",{staticClass:"agreement-item"},[e._v("(5) 支持多种框架和组件库（如，Vue、React 框架；Element Plus 组件库；AntD组件库）")]),t("p",{staticClass:"agreement-item"},[e._v("(6) 通过设计自动生成代码")]),t("p",{staticClass:"agreement-item"},[e._v("(7) 支持快速导出即可用的代码片段")]),t("p",{staticClass:"agreement-item"},[e._v("(8) 高效、高度还原代码")]),t("h3",{staticClass:"agreement-subtitle"},[e._v("2. 账号")]),t("p",{staticClass:"agreement-item"},[e._v(" (1) 您选择及使用本服务前，无需单独/另行注册 MasterGo 账户，无论您当前已注册的账户性质为付费用户或免费用户，当您确认并单独订阅本服务，完成支付后，即可在您当前已注册的 MasterGo 账户中使用本服务。 ")]),t("p",{staticClass:"agreement-item"},[e._v(" (2) 但您须特别注意，若您的 MasterGo 账户无法正常使用的，包含不限于您注册当前已有账户、未及时续费付费账户导致停服情形等，本服务将随之一并无法使用。 ")]),t("h3",{staticClass:"agreement-subtitle"},[e._v("3. 使用")]),t("h4",{staticClass:"agreement-subsubtitle"},[e._v("(1) 订阅")]),t("p",{staticClass:"agreement-subitem"},[e._v("1) 套餐类型")]),t("p",{staticClass:"agreement-subitem"},[e._v("I.体验套餐：人民币 39 元/月；468 元/年；单月积分：1000 积分")]),t("p",{staticClass:"agreement-subitem"},[e._v("II.基础套餐：人民币 158 元/月；1896 元/年；单月积分：5000 积分")]),t("p",{staticClass:"agreement-subitem"},[e._v("III.专家套餐：人民币 298 元/月；3576/年；单月积分：11000 积分")]),t("p",{staticClass:"agreement-subitem"},[e._v("2) 我们支持月度或年度订阅服务，服务有效期为一个月或一年，自您完成支付当日起算；")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 3) 若您订阅月度套餐，且完成支付之日为 1 月 31 日，您当月的服务有效期届满日为同年 2 月的最后一个自然日（即，2 月 28 日或 2 月 29 日）； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 4) 若您订阅年度套餐，我们将按月释放对应积分；若您当月未消耗全部积分的，当月剩余积分将清零，不累计计入次月使用； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 5) 您订阅套餐后，在该套餐服务有效期内，不得作套餐降级申请；该套餐服务有效期届满后，您有权根据您的实际使用需求，选择订阅新的套餐类型，享受对应权益； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 6) 您订阅套餐后，在该套餐服务有效期内，您有权申请套餐升级；但升级后的套餐服务有效期不重新起算，您补充支付的套餐升级费用为：升级前套餐与升级后套餐费用的差额。 ")]),t("h4",{staticClass:"agreement-subsubtitle"},[e._v("(2) 积分消耗与支付")]),t("p",{staticClass:"agreement-subitem"},[e._v("1) 积分")]),t("p",{staticClass:"agreement-subitem"},[e._v(" I.当您根据实际需求选择如上任一套餐订阅，并完成对应费用支付后，即可获得您选订套餐对应的积分使用权益； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" II.根据您使用时，选择的模型不同，操作意图（包含不限于生成或修改等）不同，将消耗对应的积分，具体消耗以您当次操作完成时页面显示扣扣的积分值为准； ")]),t("p",{staticClass:"agreement-subitem"},[e._v("III.您可在服务页面右上角点击【查看积分】，查看您的剩余积分值；")]),t("p",{staticClass:"agreement-subitem"},[e._v("IV.您可以选择如下任一方式进行支付：")]),t("p",{staticClass:"agreement-subitem"},[e._v("微信支付；")]),t("p",{staticClass:"agreement-subitem"},[e._v("支付宝支付（推荐首选）；")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 请您务必关注所选支付方式内的可用余额；若因支付失败导致本服务终止的，您将自行承担由此遭受的全部不良后果，我们将不承担任何法律责任及损失赔偿，但因我们原因导致支付失败的情形除外； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" V.我们不会收集、存储、处理您在支付时输入的任何敏感信息，包含不限于个人身份信息（姓名）、金融信息（银行账户）等，前述数据信息将由您所选支付方式的第三方服务方读取，并以您的最终确认操作完成支付。 ")]),t("p",{staticClass:"agreement-subitem"},[e._v("2) 赠送权益")]),t("p",{staticClass:"agreement-subitem"},[e._v(" I.您完全理解并同意，我们将不定时提供订阅赠送积分优惠活动；此优惠活动不定期，不定量开展，以您当次订阅时显示的赠送信息为准； ")]),t("p",{staticClass:"agreement-subitem"},[e._v("II.赠送活动为一次性特别优惠，增送的积分不得折价、退还、转让、转售、转赠；")]),t("p",{staticClass:"agreement-subitem"},[e._v("III.若您申请退订本服务时，您账户内，优惠活动中我们赠送的积分即失效。")]),t("h4",{staticClass:"agreement-subsubtitle"},[e._v("(3) 退订")]),t("p",{staticClass:"agreement-subitem"},[e._v("1) 您完成支付后，自支付成功之日起 7 个（含本数）自然日内享有退订权益；")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 2) 若您申请退订，我们将根据您实际已使用的情形，扣除已消耗的积分所对应的法定货币后，将您已支付但未使用的法定货币通过您原支付方式退还至您的支付账户； ")]),t("p",{staticClass:"agreement-subitem"},[e._v("3) 您将在完成退订的当日，即无法再继续使用本服务；")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 4) 若您超过 7 个自然日未申请退订的，我们将不再接受及处理您以任何理由提出的退订申请； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 5) 若您退订本服务的，我们不会主动删除您的数据，除非相关法律、法规、政策及行业标准要求删除的情形除外； ")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 6) 若您退订前自行删除您的数据的，退订后，我们无法提供恢复协助；请您务必做好备份工作。 ")]),t("h3",{staticClass:"agreement-subtitle"},[e._v("4. 特别声明")]),t("p",{staticClass:"agreement-item"},[e._v(" (1) 您充分理解并同意：您订阅、使用本服务应遵循本须知及 MasterGo《用户协议》《隐私政策》等规则；同时，您订阅的套餐类型均具有一定有效期限的限制，即您在规定的有效期内未使用或未全部使用或未在退订权益期限内退订的，除可归责于我们的原因外，一旦所选套餐有效期限届满，您的积分将会自动失效，您无权要求我们退还您已支付的法定货币； ")]),t("p",{staticClass:"agreement-item"},[e._v(" (2) 我们为您提供的服务属于商业行为，您有权自主决定是否根据本须知订阅服务及根据收费标准支付相应法定货币，以获得相应期限的服务，如您未完成支付的，将无法获得使用本服务的权利； ")]),t("p",{staticClass:"agreement-item"},[e._v(" (3) 您知悉并同意，收费服务及/或收费标准的改变、调整为一种正常的商业行为，您不得因收费服务及/或收费标准的改变、调整而要求我们进行赔偿或补偿。 ")]),t("p",{staticClass:"agreement-item"},[e._v(" (4) 您充分理解：不同操作系统之间存在不互通的客观情况，该客观情况并非我们造成，由此可能导致您在某一操作中的积分及/或使用数据被消耗或丢失。由于您在不同系统进行切换造成的积分损失及/或数据丢失风险应由您自行承担，我们对此不承担任何责任。 ")]),t("p",{staticClass:"agreement-item"},[e._v(" (5) 您知悉并确认，由于各类原因，包括但不限于技术限制、MasterGo AI 对您关键词的有限收集、关键词下达模糊无法有效识别等，不可避免地出现如下情形： ")]),t("p",{staticClass:"agreement-subitem"},[e._v("1) 生成的内容与关键词不符、不准确、不完整、无法满足您所需的；")]),t("p",{staticClass:"agreement-subitem"},[e._v("2) 生成的内容存在瑕疵且无法避免、无法更正的；")]),t("p",{staticClass:"agreement-subitem"},[e._v("3) 生成的内容无法满足时效性的；")]),t("p",{staticClass:"agreement-subitem"},[e._v("4) 无法识别您的关键词内容的；")]),t("p",{staticClass:"agreement-subitem"},[e._v("5) 生成空白内容或无法生成内容（白屏）的；")]),t("p",{staticClass:"agreement-subitem"},[e._v(" 6) 您同意，不会因 MasterGo AI 功能生成结果未满足您预期及/或使用需求而要求我们向您返还积分、退款或赔偿。 MasterGo AI 仅作为 MasterGo 产品的一项功能，其服务结果不影响 MasterGo 产品其他功能的正常应用。 ")])])}],Hi=Object(s["defineComponent"])({__name:"UserAgreementDocx",setup(e){return{__sfc:!0}}}),Yi=Hi,Zi=(i("bf32"),Object(b["a"])(Yi,Ni,Gi,!1,null,"2b390a70",null)),Wi=Zi.exports,Ji=function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)},Ki=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"proto-agreement-docx"},[t("p",{staticClass:"agreement-paragraph",staticStyle:{"margin-top":"0"}},[e._v(" 1. 活动期间：自 2025 年 7 月 10 日始；具体结束时间，请注意关注公告通知或活动详情页面。 ")]),t("p",{staticClass:"agreement-paragraph"}),t("p",[e._v("2. 限时活动内容：")]),e._v(" 若您在本限时活动期间订阅 "),t("b",[e._v("【企业版产品席位】")]),e._v(" 的，本次活动套餐（以下简称“活动套餐”）内容包含：企业版标准权益及 2500 MasterGo AI（以下简称“MGAI”）积分。 "),t("p"),t("p",{staticClass:"agreement-paragraph"},[e._v("3. 特别注意事项")]),t("ol",{staticClass:"agreement-list"},[t("li",{staticClass:"agreement-item"},[e._v(" 活动套餐仅支持通过"),t("b",[e._v("企业账号订阅【产品席位】时，即可享受活动套餐权益")]),e._v("；除前述特别约定外，订阅其他版本服务（包含不限于团队版本等）及/或订阅其他席位类型的，均不适用本次活动套餐。 ")]),t("li",{staticClass:"agreement-item"},[e._v(" 本次活动套餐中的 MGAI 积分使用有效期与该笔订单对应的席位服务账号的服务有效期一致，自席位服务账号开通之日起算；但，"),t("b",[e._v("请您务必在使用有效期届满前使用完毕，否则未使用的 MGAI 积分将自动失效。")])]),t("li",{staticClass:"agreement-item"},[e._v(" 当您完成订阅后，企业管理员账号可通过管理后台，设置允许使用 MGAI 积分的席位（产品席位、设计席位均可使用）；但，"),t("b",[e._v("请您务必了解与确认，有权使用 MGAI 积分的席位总数与您订阅产品席位总数一致。")])]),t("li",{staticClass:"agreement-item"},[e._v(" 企业管理员可通过企业管理后台实时查询本次活动的 MGAI 积分余额，若存在多个生效活动套餐内的 MGAI 积分，可在【订单管理-订单详情】查看单个订单对应的积分数、服务时长、服务有效期。 ")]),t("li",{staticClass:"agreement-item"},[e._v(" 若您同时持有 MGAI 个人积分与企业积分时，可在积分设置中自主选择扣除方式；"),t("b",[e._v("但请您务必了解与确认，一经扣除，我们不再、亦无法支持恢复、更换。")])]),t("li",{staticClass:"agreement-item"},[e._v(" 自您成功订阅 MasterGo 服务当日起，即享有 30 日退订期；但若您退订 MasterGo 服务的，我们将扣除您已实际使用 MasterGo 服务对应的费用（计算公式：扣除费用=席位对应的人民币总价值金额/购买服务天数*已使用天数）及已实际使用 MGAI 服务对应的费用（计算公式：扣除费用=积分对应的人民币总价值金额/积分总量*实际使用积分）后，将您已支付的剩余未使用服务部分对应的费用退还至您原支付账号；若您订阅 MasterGo 服务及/或 MGAI 服务，未实际使用的，我们对此将不进行扣费； ")]),t("li",{staticClass:"agreement-item"},[e._v(" 本次活动中，您多个生效活动套餐内的 MGAI 积分可叠加累计积分，但，不叠加累计使用有效期、不可折现、不可单独申请 AI 积分退款。 ")]),t("li",{staticClass:"agreement-item"},[e._v(" 当您参与活动，即视为已通读并同意本次活动的《活动细则》及《MGAI 使用须知》，且应遵守。若因活动内容、须知内容等存在任何疑问的，可通过页面的自动咨询窗口问询，或联系人工客服进行解答。 ")]),t("li",{staticClass:"agreement-item"},[e._v(" 活动/服务期间，我们有权根据不可抗力（包含不限于行业、国家政策、法律法规调整等）或任何不可提前预知的因素调整活动/服务方案及细则内容，并通过活动页面公示方式通知您，请您务必持续注意关注。 ")])])])}],Xi=Object(s["defineComponent"])({__name:"MgProtoAiDocx",setup(e){return{__sfc:!0}}}),ea=Xi,ta=(i("55385"),Object(b["a"])(ea,Ji,Ki,!1,null,"1fa4cca8",null)),ia=ta.exports,aa=Object(s["defineComponent"])({__name:"AgreementDialog",props:{visible:{type:Boolean,default:!1},from:{default:"ai_order"}},emits:["update:visible","agree","cancel"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(null),n=Object(s["ref"])(!1),o=Object(s["ref"])(!1),r=Object(s["computed"])(()=>{switch(i.from){case"ai_order":return Object(D["d"])("功能使用须知");case"mastergo_proto_gift":return Object(D["d"])("企业版产品席位限时活动套餐细则");default:return Object(D["d"])("功能使用须知")}}),l=Object(s["computed"])(()=>Object(D["d"])("我已完整阅读并同意《%{title}》所有内容",{title:r.value})),c=()=>{if(!a.value)return;const{scrollTop:e,scrollHeight:t,clientHeight:i}=a.value;n.value=t-e-i<=5},u=e=>{n.value&&(o.value=e)},d=e=>{t("update:visible",e),e||(n.value=!1,o.value=!1,t("cancel"),a.value&&(a.value.scrollTop=0))},p=()=>{n.value&&o.value&&(t("agree"),t("update:visible",!1))};return Object(s["onMounted"])(()=>{n.value=!1,o.value=!1}),{__sfc:!0,props:i,emit:t,contentRef:a,isScrolledToBottom:n,agreementChecked:o,title:r,checkLabel:l,handleScroll:c,handleCheckboxClick:u,handleVisibleChange:d,handleAgree:p,$m:D["d"],ArrowTriangelDownIcon:Bi,Dialog:qi,Button:oi,CheckBox:xi,UserAgreementDocx:Wi,MgProtoAiDocx:ia}}}),na=aa,oa=(i("c59c"),Object(b["a"])(na,Di,Pi,!1,null,"61afef97",null)),sa=oa.exports,ra=Object(s["defineComponent"])({__name:"NewRightPanel",setup(e){const t=Object(s["inject"])("getPayType"),i=Object(s["inject"])("showZhiChi"),a=Object(s["inject"])("toastManager"),n=ve(),o=fe(),{hasDiscount:c}=Object(r["f"])(o),{userIsAgreement:u,agreementChecked:d,agreementDialogVisible:p,handleAgreementAgree:v,handleAgreementChange:f,handleAgreementCancel:_,checkAgreementBeforeAction:b}=zt(Rt.MastergoProtoGift),h=Object(s["inject"])("toggleZCDialog"),g=Object(s["computed"])(()=>{var e,i;return t()===l["B"].AddSeat?null===(i=null===(e=o.packageInfo)||void 0===e?void 0:e.available_service_start_time)||void 0===i?void 0:i.end:o.seatExpiredDate}),y=Object(s["computed"])(()=>D["c"].locale!==D["b"]),C=Object(s["computed"])(()=>o.seatDetails),O=Object(s["computed"])(()=>o.ownerInfo),j=Object(s["computed"])(()=>n.payType!==l["B"].AddSeat),{finalPrice:I,originalPrice:w}=ft({toastManager:a}),{patchOrder:S}=_t(),k=Object(s["computed"])(()=>Number((w.value-I.value).toFixed(2))||""),T=Object(s["computed"])(()=>n.payType!==l["B"].AddSeat&&w.value-I.value>0),x=()=>{b()&&S()},P=Object(s["computed"])(()=>o.isHasAiCredits&&n.entityType===l["A"].Enterprise),A=e=>{P.value?f(e):(d.value=e,u.value=e)},Q=Object(s["computed"])(()=>!d.value||!u.value||n.dialogLoading);return{__sfc:!0,getPayType:t,showZhiChi:i,toastManager:a,commonStore:n,orderStore:o,hasDiscount:c,userIsAgreement:u,agreementChecked:d,agreementDialogVisible:p,handleAgreementAgree:v,handleAgreementChange:f,handleAgreementCancel:_,checkAgreementBeforeAction:b,toggleZCDialog:h,seatExpiredDate:g,showOriginPriceLabel:y,seatDetails:C,ownerInfo:O,showOriginPrice:j,finalPrice:I,originalPrice:w,patchOrder:S,discountAmount:k,showDiscountAmount:T,handlePatchOrder:x,enableAgreement:P,handleCheckAgreement:A,buyDisabled:Q,$m:D["d"],CustomServiceIcon:Xt,Button:oi,Link:di,Checkbox:xi,Tooltip:$,AgreementDialog:sa,PROTO_URL:l["w"],unEscape:m["q"]}}}),la=ra,ca=(i("a3a7"),Object(b["a"])(la,Et,Vt,!1,null,"50550697",null)),ua=ca.exports,da=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"order-tip-dialog",attrs:{"z-index":i.Z_INDEX+1,visible:i.duplicateOrderTip,width:"420px",title:i.title,closable:!1,cancelText:i.cancelText,cancelBtnProps:i.cancelBtnProps,okText:i.$m("继续下单"),okBtnProps:i.okBtnProps},on:{"update:visible":i.onUpdateVisible,close:i.onClose,cancelClick:i.onCancelClick,okClick:i.onOkClick}},[t("p",{staticClass:"tip-text"},[e._v(e._s(i.tipText))])])},pa=[],va=Object(s["defineComponent"])({__name:"OrderTip",setup(e){const t=Object(s["ref"])({size:"sm"}),i=Object(s["ref"])({size:"sm"}),a=fe(),n=ve(),{patchOrder:c,cancelOrder:u}=_t(),{duplicateOrderTip:d}=Object(r["f"])(a),p=e=>{a.SET_DUPLICATE_ORDER_TIP(e)},v=Object(s["computed"])(()=>Object(m["l"])()?Object(D["d"])("取消"):Object(D["d"])("前往支付")),f=Object(s["computed"])(()=>Object(m["l"])()?Object(D["d"])("您已有一笔待支付订单，请选择继续下单，或取消本次下单。需注意，选择继续下单将关闭已有订单。"):Object(D["d"])("您已有一笔待支付订单，请选择继续下单，或前往支付已有订单。需注意，选择继续下单将关闭已有订单。")),_=e=>{p(e)},b=Object(s["ref"])(Object(D["d"])("下单提醒")),h=()=>{if(Object(m["l"])())return void p(!1);const e=n.entityId;Object(m["m"])({entityId:e,isTeam:n.isTeam})},g=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){yield u();const e=yield c();Boolean(e)&&p(!1)})),y=()=>{p(!1)};return{__sfc:!0,okBtnProps:t,cancelBtnProps:i,orderStore:a,commonStore:n,patchOrder:c,cancelOrder:u,duplicateOrderTip:d,updateStatus:p,cancelText:v,tipText:f,onUpdateVisible:_,title:b,onCancelClick:h,onOkClick:g,onClose:y,MDialog:qi,Z_INDEX:l["H"],$m:D["d"]}}}),ma=va,fa=(i("ab3c"),Object(b["a"])(ma,da,pa,!1,null,null,null)),_a=fa.exports,ba=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"order-tip-dialog",attrs:{"z-index":i.Z_INDEX,visible:i.notEnsureOrderTip,width:"420px",title:i.title,cancelText:i.$m("取消"),closable:!1,cancelBtnProps:i.cancelBtnProps,okText:i.$m("查看订单"),okBtnProps:i.okBtnProps},on:{"update:visible":i.onUpdateVisible,cancelClick:i.onClose,okClick:i.onOkClick}},[t("p",{staticClass:"tip-text"},[e._v(e._s(i.$m("当前已有一个未完成订单，暂时不能进行其他付费服务")))])])},ha=[],ga=Object(s["defineComponent"])({__name:"NotEnsureTip",setup(e){const t=fe(),i=ve(),{notEnsureOrderTip:a}=Object(r["f"])(t),n=Object(s["ref"])(Object(D["d"])("下单提醒")),o=Object(s["ref"])({size:"sm"}),c=Object(s["ref"])({size:"sm"}),u=()=>{p(),t.SET_MAIN_DIALOG_VISIBLE(!1);const e=i.entityId;Object(m["m"])({entityId:e,isTeam:i.isTeam,target:"_self"})},d=e=>{t.SET_NOT_ENSURE_ORDER_TIP(e)},p=()=>{d(!1)};return{__sfc:!0,orderStore:t,commonStore:i,notEnsureOrderTip:a,title:n,okBtnProps:o,cancelBtnProps:c,onOkClick:u,onUpdateVisible:d,onClose:p,$m:D["d"],MDialog:qi,Z_INDEX:l["H"]}}}),ya=ga,Ca=(i("4ab7"),Object(b["a"])(ya,ba,ha,!1,null,null,null)),Oa=Ca.exports,ja=Object(s["defineComponent"])({__name:"Step-1",setup(e){const t=fe(),i=ve(),a=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){i.setLoading(!0),yield t.initStep1(),i.setLoading(!1)})),n=()=>{t.resetStep1()};return Object(s["onMounted"])(()=>{a()}),Object(s["onBeforeUnmount"])(()=>{n()}),{__sfc:!0,orderStore:t,commonStore:i,init:a,reset:n,Content:Mt,NewRightPanel:ua,OrderTip:_a,NotEnsureTip:Oa}}}),Ia=ja,wa=(i("4b24"),Object(b["a"])(Ia,I,w,!1,null,"624d397b",null)),Sa=wa.exports,ka=function(){var e,t,a,n,o,s,r=this,l=r._self._c,c=r._self._setupProxy;return l("div",{staticClass:"step-2-container"},[c.showTransferToCorporateAccount?[l(c.TransferToCorporateAccount,{on:{back:c.handleCorporateAccountBack}})]:[l("div",{staticClass:"title"},[r._v(r._s(c.$m("订单详情")))]),l("div",{staticClass:"order-detail-container"},[l("div",{staticClass:"detail-row"},[l("div",{staticClass:"detail-title"},[r._v(r._s(c.$m("订购团队")))]),l("div",{staticClass:"detail-title"},[r._v(r._s(c.$m("订购版本")))]),l("div",{staticClass:"detail-title"},[r._v(r._s(c.$m("购买席位数量")))]),l("div",{staticClass:"detail-title"},[r._v(r._s(c.$m("订单类型")))]),l("div",{staticClass:"detail-title"},[r._v(r._s(c.$m("购买时长")))]),l("div",{staticClass:"detail-title"},[r._v(r._s(c.$m("服务起止时间")))])]),l("div",{staticClass:"detail-content"},[l("div",{staticClass:"team-info"},[l("div",{staticClass:"team-avatar"},[null!==(e=c.ownerInfo)&&void 0!==e&&e.logo?l("img",{attrs:{src:null===(t=c.ownerInfo)||void 0===t?void 0:t.logo}}):r._e()]),l("div",{staticClass:"team-detail"},[l("div",{staticClass:"team-name",attrs:{title:c.teamName}},[r._v(r._s(c.teamName))]),l("div",{staticClass:"team-id"},[r._v(r._s(null===(a=c.ownerInfo)||void 0===a?void 0:a.label)+": "+r._s((null===(n=c.ownerInfo)||void 0===n?void 0:n.id)||"-"))])])]),l("div",{staticClass:"version-info"},[r._v(r._s(null!==(o=c.orderDetail)&&void 0!==o&&o.order_version?c.$m(c.orderDetail.order_version):"-"))]),l("div",{staticClass:"seats-info"},[c.orderDetail.seat_buy&&c.orderDetail.seat_buy.length?l("div",r._l(c.orderDetail.seat_buy,(function(e,t){return l("div",{key:t},[1===e.seat_type?l("div",[r._v(" "+r._s("team"===c.payInfo.entityType?c.$m("编辑席位"):c.$m("设计席位"))+": "+r._s(e.seat_count)+" ")]):r._e(),2===e.seat_type?l("div",[r._v(r._s(c.$m("研发席位"))+": "+r._s(e.seat_count))]):r._e(),3===e.seat_type?l("div",[r._v(r._s(c.$m("产品席位"))+": "+r._s(e.seat_count))]):r._e()])})),0):l("div",[r._v("-")])]),l("div",{staticClass:"order-type"},[r._v(r._s(null!==(s=c.orderDetail)&&void 0!==s&&s.order_type?c.$m(c.orderDetail.order_type):"-"))]),l("div",{staticClass:"buy-duration"},[r._v(" "+r._s(c.formatDuration(c.orderDetail.amount_buy||0,c.orderDetail.amount_unit||0))+" ")]),l("div",{staticClass:"service-period"},[r._v(" "+r._s(c.formatDate(c.orderDetail.service_start))+" – "+r._s(c.formatDate(c.orderDetail.service_end))+" ")])]),l("div",{staticClass:"payment-total"},[c.showOrderAIGift?l("div",{staticClass:"payment-ai-text"},[r._v(" * "+r._s(c.$m("AI 企业积分"))+r._s(c.aiCredits)+", "+r._s(c.$m("积分有效期"))+"："+r._s(c.formatDate(c.orderDetail.service_start))+" – "+r._s(c.formatDate(c.orderDetail.service_end))+" ")]):r._e(),l("div",{staticClass:"payment-total-price"},[l("span",{staticClass:"payment-label"},[r._v(r._s(c.$m("待支付金额:")))]),l("span",{staticClass:"payment-amount"},[r._v(r._s(c.formatPrice(c.orderDetail.total_price)))])])])]),l("div",{staticClass:"title"},[r._v(r._s(c.$m("支付方式")))]),l("div",{staticClass:"pay-method-container"},[l("div",{staticClass:"pay-online-container"},[l("div",{staticClass:"qrcode-container"},[c.payChannel===c.PayChannel.Alipay&&c.alipayQrcodeUrl?l("iframe",{attrs:{src:c.alipayQrcodeUrl,frameborder:"0",width:"186px",height:"186px",scrolling:"no"}}):r._e(),l("div",{directives:[{name:"show",rawName:"v-show",value:c.payChannel===c.PayChannel.Wechat&&c.wechatQrcodeUrl,expression:"payChannel === PayChannel.Wechat && wechatQrcodeUrl"}],ref:"wechatQrCodeRef",attrs:{id:"wechat-qr-code"}}),c.showPayTimeOut?l("div",{staticClass:"time-out-container"},[l("div",{staticClass:"text"},[r._v(r._s(c.$m("二维码生成失败")))]),l("div",{staticClass:"text"},[r._v(r._s(c.$m("请刷新后重新扫描")))]),l("img",{staticClass:"img",attrs:{src:i("2ae0"),alt:"刷新"},on:{click:c.refreshQrCode}})]):r._e(),c.qrcodeLoading?l("div",{staticClass:"qrcode-loading"},[l(c.LoadingIcon,{staticClass:"icon-loading",attrs:{size:"24"}})],1):r._e()]),l("div",{staticClass:"pay-detail"},[l("div",{staticClass:"title"},[l("span",{staticClass:"text"},[r._v(r._s(c.$m("在线支付")))]),l("span",{staticClass:"tip-recommand"},[r._v(r._s(c.$m("推荐")))])]),l("div",{staticClass:"pay-method-online"},[l("div",{staticClass:"pay-method-item",class:{active:c.payChannel===c.PayChannel.Alipay},on:{click:function(e){return c.onPayChannelChange(c.PayChannel.Alipay)}}},[l("img",{staticClass:"icon",attrs:{src:i("26ca")}}),l("span",[r._v(r._s(c.$m("支付宝支付")))])]),l("div",{staticClass:"pay-method-item",class:{active:c.payChannel===c.PayChannel.Wechat},on:{click:function(e){return c.onPayChannelChange(c.PayChannel.Wechat)}}},[l("img",{staticClass:"icon",attrs:{src:i("96b8")}}),l("span",[r._v(r._s(c.$m("微信支付")))])])]),l("div",{staticClass:"title pay-amount"},[l("span",{staticClass:"text"},[r._v(r._s(c.$m("应付金额")))]),l("span",{staticClass:"num"},[r._v(r._s(c.formatPrice(c.orderDetail.total_price)))])]),l("div",{staticClass:"remain-time"},[l("span",[r._v(r._s(c.$m("剩余支付时间")))]),l("span",{staticClass:"time"},[r._v(r._s(c.formatTime(c.timeCountDown)))])])])]),l("div",{staticClass:"divide"}),l("div",{staticClass:"pay-public-container"},[l("div",{staticClass:"desc"},[r._m(0),l("div",{staticClass:"desc-content"},[l("div",{staticClass:"title"},[r._v(r._s(c.$m("对公转账")))]),l("div",{staticClass:"desc-tip"},[r._v(" "+r._s(c.$m("选择对公转账方式后，订单有效期 30 天，请尽快完成转账。到账后 2 个工作日内开通"))+" ")])])]),l("div",{staticClass:"handler"},[l(c.Button,{attrs:{type:"outline",size:"md",width:259,disabled:!c.checkPayTimerId},on:{click:c.handleTransferToCorporateAccountButtonClicked}},[r._v(" "+r._s(c.$m("选择对公转账"))+" ")])],1)])])]],2)},Ta=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"icon-public"},[t("img",{staticClass:"icon",attrs:{src:i("6cd7")}})])}],xa=i("c372"),Da=i.n(xa),Pa=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon370a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon370a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M7.5 3.5H8q1.864 0 3.182 1.318Q12.5 6.136 12.5 8q0 1.864-1.318 3.182Q9.864 12.5 8 12.5q-1.864 0-3.182-1.318Q3.5 9.864 3.5 8v-.5h-1V8q0 2.278 1.61 3.89Q5.723 13.5 8 13.5t3.89-1.61Q13.5 10.277 13.5 8t-1.61-3.89Q10.277 2.5 8 2.5h-.5z"}})])])},Aa=[],Qa={name:"LoadingIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},Ma=Qa,Ea=Object(b["a"])(Ma,Pa,Aa,!1,null,null,null),Va=Ea.exports,Ba=function(){var e,t,i=this,a=i._self._c,n=i._self._setupProxy;return a("div",{staticClass:"transfer-container"},[a("div",{staticClass:"transfer-container__header"},[a("div",{staticClass:"text"},[i._v(i._s(n.$m("对公转账")))])]),a("div",{staticClass:"transfer-container__content"},[a("div",{staticClass:"transfer-info"},[a("div",{staticClass:"sub-title"},[i._v(i._s(n.$m("第一步：对公转账")))]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-title"},[i._v(i._s(n.$m("汇款信息")))]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-item__label"},[i._v(i._s(n.$m("企业全称")))]),a("div",{staticClass:"info-item__value"},[i._v(i._s(n.$m("北京创作美好科技有限公司")))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-item__label"},[i._v(i._s(n.$m("银行账户")))]),a("div",{staticClass:"info-item__value"},[i._v("110951655610001")])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-item__label"},[i._v(i._s(n.$m("开户行")))]),a("div",{staticClass:"info-item__value"},[i._v(i._s(n.$m("招商银行股份有限公司北京望京融科支行")))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-item__label"},[i._v(i._s(n.$m("联行号")))]),a("div",{staticClass:"info-item__value"},[i._v("308100005947")])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-item__label"},[i._v(i._s(n.$m("转账备注")))]),a("div",{staticClass:"info-item__value"},[i._v(i._s(n.orderStore.orderId.slice(-6))+" "+i._s(n.$m("（打款时请备注此信息）")))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"info-item__label"},[i._v(i._s(n.$m("转账金额")))]),a("div",{staticClass:"info-item__value"},[i._v("¥"+i._s(n.orderStore.orderAmount.toFixed(2)))])]),a(n.Button,{staticClass:"copy-info",attrs:{size:"sm",type:"primary","start-icon":n.CopyIcon},on:{click:n.handleCopyClicked}},[i._v(" "+i._s(n.$m("复制汇款信息"))+" ")])],1),n.showApplyContractBtn?a(n.Button,{staticClass:"apply-contract",attrs:{size:"sm",type:"outline"},on:{click:n.handleContract}},[i._v(" "+i._s((null===(e=n.orderStore.payDetail)||void 0===e?void 0:e.contract_wt)===n.EContractStatus.ISSUED?n.$m("下载合同"):n.$m("申请合同"))+" ")]):i._e(),a(n.MgInvoice,{attrs:{visible:n.contractVisible,type:n.invoiceType},on:{"update:visible":n.handleContractVisible}})],1),a("div",{staticClass:"transfer-form"},[a("div",{staticClass:"sub-title"},[i._v(i._s(n.$m("第二步：填写公司信息及上传付款回执")))]),a("form",{staticClass:"form",on:{submit:function(e){e.preventDefault()}}},[a(n.FormItem,{ref:"nameFormItemRef",attrs:{label:n.$m("企业全称"),"label-color":"var(--mg-color-content-subtle)","show-require-asterisk":"",rules:n.nameRules}},[a(n.Input,{attrs:{modelValue:n.formData.company,placeholder:n.$m("请填写企业全称"),clearable:""},on:{"update:modelValue":n.updateCompany}})],1),a(n.FormItem,{ref:"phoneFormItemRef",attrs:{label:n.$m("联系电话"),"label-color":"var(--mg-color-content-subtle)","show-require-asterisk":"",rules:n.phoneRules}},[a(n.Input,{attrs:{modelValue:n.formData.phone,placeholder:n.$m("请填写联系电话"),clearable:""},on:{"update:modelValue":n.updatePhone}})],1),a(n.FormItem,{ref:"payPicFormItemRef",attrs:{label:n.$m("请上传付款回执"),"label-color":"var(--mg-color-content-subtle)","show-require-asterisk":"",rules:n.picRules}},[a(n.Upload,{attrs:{toastManager:n.toastManager,accept:".jpg,.jpeg,.png"},on:{fileChange:n.handleFileChange}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a(n.Button,{staticClass:"copy-info",attrs:{disabled:n.disabledSubmit,size:"sm",type:"primary"},on:{click:n.handleSubmitClicked}},[i._v(" "+i._s(n.submitStatus===n.SubmitStatus.Success?n.$m("已提交"):n.$m("提交"))+" ")])],1)])]),a(n.MgContractApply,{attrs:{visible:n.contractApplyVisible,orderId:n.orderStore.orderId,entityId:Number(n.commonStore.entityId),entityType:n.commonStore.entityType,position:n.position,toastManager:n.originToastManager,contractTemplateUrl:(null===(t=n.orderStore.payDetail)||void 0===t?void 0:t.contract_template_url)||"",token:n.commonStore.token||"",lanhuHost:n.commonStore.lanhuHost||""},on:{"update:visible":n.updateContractApplyVisible,signSuccess:n.updateOrderDetail}})],1)},$a=[],Ra=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"form-item"},[e._t("label",(function(){return[t("div",{staticClass:"label"},[t("div",{staticClass:"left",style:{color:e.labelColor}},[e._v(" "+e._s(e.label)+" "),e.showRequireAsterisk?t("span",{staticClass:"required-chart"},[e._v("*")]):e._e()]),t("div",{staticClass:"right"})])]})),e._t("default"),e._t("error",(function(){return[i.errorMsg?t("div",{staticClass:"form-item__error",attrs:{title:i.errorMsg}},[e._v(" "+e._s(i.errorMsg)+" ")]):e._e()]}))],2)},za=[],Fa=Object(s["defineComponent"])({__name:"FormItem",props:{label:null,labelColor:{default:"var(--mg-color-content)"},showRequireAsterisk:{type:Boolean,default:!1},rules:null},setup(e,{expose:t}){const i=e,a=Object(s["ref"])(""),n=e=>{const t=i.rules;if(!(null===t||void 0===t?void 0:t.length))return!0;const n=t.find(t=>!t.check(e));return n?(a.value=n.errorMsg,!1):(o(),!0)},o=()=>{a.value=""};return Object(s["provide"])("formItemExpose",{checkValue:n,clearValidate:o}),t({checkValue:n}),{__sfc:!0,props:i,errorMsg:a,checkValue:n,clearValidate:o}}}),La=Fa,Ua=(i("4b15"),Object(b["a"])(La,Ra,za,!1,null,"82465740",null)),qa=Ua.exports,Na=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{class:a.uploadClass,on:{click:a.openFileManager,dragenter:function(e){e.stopPropagation(),a.isDrag=!0},dragleave:function(e){e.stopPropagation(),a.isDrag=!1},drop:function(e){return e.stopPropagation(),a.handleDropFile.apply(null,arguments)},dragover:function(e){return e.stopPropagation(),(e=>e.preventDefault()).apply(null,arguments)}}},[a.fileInfo.fileStatus===a.FileStatus.Empty?e._t("empty",(function(){return[t("div",{staticClass:"upload-empty__view",attrs:{"data-inner":"inner"}},[t(a.TextAlignTopIcon,{attrs:{size:"16"}}),t("div",{staticClass:"description"},[t("span",[e._v(e._s(a.$m("点击或拖拽上传")))]),t("br"),t("span",[e._v(e._s(a.$m("请上传付款回执图片或截图，支持 jpg、png")))])])],1)]})):e._t("fileContainer",(function(){return[t("div",{staticClass:"upload-file-container"},[t("div",{staticClass:"upload-file-container__view"},[t("img",{attrs:{src:i("85b1")}}),t("div",{staticClass:"file-info"},[t("div",{staticClass:"file-name"},[e._v(" "+e._s(a.fileInfo.file.name)+" ")]),t("div",{staticClass:"file-size"},[e._v(" "+e._s(a.getFileSize(a.fileInfo.file))+" ")])])]),t("div",{staticClass:"ops"},[t(a.Button,{attrs:{type:"link"},on:{click:function(e){return e.stopPropagation(),a.openFileManager.apply(null,arguments)}}},[e._v(e._s(a.$m("重新上传")))]),t(a.Tooltip,{attrs:{position:"bottom",content:a.$m("删除"),offset:20,Tooltip:""}},[t(a.Button,{staticClass:"trash",attrs:{type:"text",size:"xxs","start-icon":a.TrashIcon},on:{click:function(e){return e.stopPropagation(),a.handleDeleteClicked.apply(null,arguments)}}})],1)],1)])]}),{fileInfo:a.fileInfo}),t("input",{ref:"fileInputRef",staticStyle:{display:"none"},attrs:{type:"file",accept:e.accept},on:{change:a.inputFileChange}})],2)},Ga=[];(function(e){e[e["Empty"]=0]="Empty",e[e["Uploading"]=1]="Uploading",e[e["UploadFailed"]=2]="UploadFailed",e[e["UploadSuccess"]=3]="UploadSuccess"})(Ht||(Ht={}));var Ha=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon619a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon619a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M14 3H2v1h12zM5.147 7.854 8 5l2.854 2.854-.707.707L8.5 6.914V13h-1V6.914L5.854 8.561z"}})])])},Ya=[],Za={name:"TextAlignTopIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},Wa=Za,Ja=Object(b["a"])(Wa,Ha,Ya,!1,null,null,null),Ka=Ja.exports,Xa=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon131a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon131a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M10 2H6v1h4zM3 4H2v1h1.1l.9 9h8l.9-9H14V4zm8.895 1h-7.79l.8 8h6.19zM7 7H6v4h1zm3 0H9v4h1z"}})])])},en=[],tn={name:"TrashIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},an=tn,nn=Object(b["a"])(an,Xa,en,!1,null,null,null),on=nn.exports;function sn(e){return new Promise((t,i)=>{setTimeout(()=>{navigator.clipboard.writeText(e).then(()=>{t()}).catch(e=>{i(e),console.error(e)})})})}function rn(e,t=!1){var i;if("function"===typeof(null===(i=navigator.clipboard)||void 0===i?void 0:i.write))return sn(e);const a=t?document.createElement("textarea"):document.createElement("input");a.value=e,document.body.appendChild(a),a.select();const n=document.execCommand("copy");return document.body.removeChild(a),n}function ln(e){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){return(yield un(e))||(yield cn(e))}))}function cn(e){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){const t=yield dn(e.slice(0,3));return"FF D8 FF"===t}))}function un(e){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){const t=yield dn(e.slice(0,4));return"89 50 4E 47"===t}))}function dn(e){return Object(o["__awaiter"])(this,void 0,void 0,(function*(){return new Promise(t=>{const i=new FileReader;i.onload=function(){const e=i.result.split("").map(e=>e.charCodeAt()).map(e=>e.toString(16).toUpperCase()).map(e=>e.padStart(2,"0")).join(" ");t(e)},i.readAsBinaryString(e)})}))}const pn=(e="")=>/^0\d{2,3}-\d{7,8}$|^\(?0\d{2,3}[)-]?\d{7,8}$|^\(?0\d{2,3}[)-]*\d{7,8}$/gi.test(e),vn=(e="")=>/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e),mn=(e="")=>vn(e)||pn(e),fn=(e="")=>{const t=/^[0\[\(]/;return t.test(e)||e.length<3?e:e.length<7?e.replace(/(\d{3})(\d*)/,"$1 $2"):e.replace(/(\d{3})(\d{4})(\d*)/,"$1 $2 $3")},_n=(e="")=>e.replace(/(\w{4})/g,"$1 "),bn=/^[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}$/,hn=(e="")=>bn.test(e),gn=e=>e.replace(/\s+/g,"");var yn,Cn=Object(s["defineComponent"])({__name:"Upload",props:{action:null,accept:{default:"*"},beforeUpload:null,toastManager:null},emits:["fileChange"],setup(e,{emit:t}){const i=e,a=Object(s["computed"])(()=>{const{fileStatus:e}=r.value;return["upload",{"upload-empty":e===Ht.Empty,"is-dragging":p.value&&e===Ht.Empty,"upload-finish":e!==Ht.Empty}]}),n=()=>(t("fileChange",null),{file:null,fileStatus:Ht.Empty}),r=Object(s["ref"])(n()),l=Object(s["ref"])(),c=e=>{const t=e.size<=5242880;return t||i.toastManager.showDestructiveToast(Object(D["d"])("上传图片大小不能超过 5MB")),t},u=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var t;if(!e)return!1;if("*"===i.accept)return!0;const a=(null!==(t=e.name)&&void 0!==t?t:"").lastIndexOf(".");if(-1===a)return!1;const n=e.name.slice(a),o=i.accept.split(",").some(e=>new RegExp(e,"i").test(n));if(!o)return i.toastManager.showDestructiveToast(Object(D["d"])("不支持该类型，仅支持 jpg、png 格式图片")),!1;if(o){const t=yield ln(e);return t||i.toastManager.showDestructiveToast(Object(D["d"])("不支持该类型，仅支持 jpg、png 格式图片")),t}return o})),d=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const t=yield u(e);if(!t)return!1;const i=c(e),a=t&&i;return a})),p=Object(s["ref"])(!1),v=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var t;e.preventDefault(),p.value=!1;const i=null===(t=e.dataTransfer)||void 0===t?void 0:t.files[0],a=yield d(i);a&&(r.value={file:i,fileStatus:Ht.Uploading},h())})),m=()=>{var e;return null===(e=l.value)||void 0===e?void 0:e.click()},f=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,t;const i=null===(t=null===(e=l.value)||void 0===e?void 0:e.files)||void 0===t?void 0:t[0],a=yield d(i);a&&(r.value={file:i,fileStatus:Ht.Uploading},h())})),_=()=>{Object(s["nextTick"])(()=>{i.toastManager.showNormalToast(Object(D["d"])("删除成功"))}),l.value.value="",r.value=n()},b=e=>(e.size/1024/1024).toFixed(2)+"MB",h=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){t("fileChange",r.value.file)}));return{__sfc:!0,props:i,uploadClass:a,emit:t,getFileInfoInitial:n,fileInfo:r,fileInputRef:l,checkFilsSize:c,checkFileSuffix:u,checkFile:d,isDrag:p,handleDropFile:v,openFileManager:m,inputFileChange:f,handleDeleteClicked:_,getFileSize:b,uploadFile:h,$m:D["d"],FileStatus:Ht,Button:oi,TextAlignTopIcon:Ka,TrashIcon:on,Tooltip:$}}}),On=Cn,jn=(i("c8a3"),Object(b["a"])(On,Na,Ga,!1,null,"7e1a036a",null)),In=jn.exports,wn=i("b438"),Sn=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"help-tip-dialog",attrs:{width:"420px",title:i.showTitle,visible:i.visible,closable:!1,cancelBtnProps:i.cancelBtnProps,okText:i.$m("联系客服"),cancelText:i.$m("取消"),okBtnProps:i.okBtnProps},on:{"update:visible":i.handleUpdateVisible,close:i.handleCloseDialog,cancelClick:i.handleCloseDialog,okClick:i.jumpLink}},[t("div",{staticClass:"tip-text"},[e._v(e._s(i.showContent))]),i.isApplyContract?t("div",{staticClass:"contract-text-container"},e._l(i.contractTextArr,(function(i,a){return t("p",{key:a,staticClass:"contract-text"},[e._v(e._s(i))])})),0):e._e()])},kn=[],Tn=Object(s["defineComponent"])({__name:"mg-invoice-dialog",props:{visible:{type:Boolean,default:!1},type:{default:l["a"].invoice},token:{default:""},content:{default:""},title:{default:""}},emits:["update:visible"],setup(e,{emit:t}){const i=e,a=ve(),n=()=>{a.setToken(i.token)},o=Object(s["ref"])({size:"sm"}),r=Object(s["ref"])({size:"sm"}),c=Object(s["ref"])(["1. 公司信息：公司名称、税号、联系方式、注册地址","2. 邮寄信息：邮寄地址和收件人姓名","3. 订单信息：下单的订单截图"]),u=Object(s["computed"])(()=>i.type===l["a"].contract),d=Object(s["computed"])({get:()=>i.visible,set:e=>{_(e)}}),p=Object(s["computed"])(()=>[l["a"].invoice,l["a"].contract,l["a"].refund].indexOf(i.type)),v=Object(s["computed"])(()=>{if(i.title)return i.title;const e=["申请发票","申请合同","申请退款"];return Object(D["d"])(e[p.value])}),f=Object(s["computed"])(()=>{if(i.content)return i.content;const e=["如有开具发票需求，请联系人工客服","请提供以下合同信息，以便客服为您处理：","如要申请退款，请联系人工客服"];return Object(D["d"])(e[p.value])}),_=e=>{t("update:visible",e)},b=()=>{d.value=!1},h=()=>{Object(m["n"])(l["h"])};return Object(s["onMounted"])(()=>{n()}),{__sfc:!0,commonStore:a,emit:t,props:i,init:n,okBtnProps:o,cancelBtnProps:r,contractTextArr:c,isApplyContract:u,visible:d,typeIndex:p,showTitle:v,showContent:f,handleUpdateVisible:_,handleCloseDialog:b,jumpLink:h,MDialog:qi,$m:D["d"]}}}),xn=Tn,Dn=(i("d0f6"),Object(b["a"])(xn,Sn,kn,!1,null,null,null)),Pn=Dn.exports,An=function(){var e,t=this,i=t._self._c,a=t._self._setupProxy;return i("div",[a.loading||a.showManualContract?t._e():i(a.MDialog,{staticClass:"contract-dialog",attrs:{visible:a.contractVisible,title:t.title||a.$m("申请合同"),closable:!0,width:"480px"},on:{"update:visible":e=>a.contractVisible=e,close:a.onClose},scopedSlots:t._u([{key:"footer",fn:function(){return[i("span")]},proxy:!0}],null,!1,2261540193)},[i(a.ApplyContractForm,{attrs:{orderId:t.orderId,entityId:t.entityId,entityType:t.entityType,contractTemplateUrl:t.contractTemplateUrl},on:{submit:a.onSubmitSuccess}})],1),a.confirmVisible?i(a.ApplyConfirm,{attrs:{visible:a.confirmVisible,orderId:t.orderId,entityId:t.entityId,entityType:t.entityType,contractId:null===(e=a.contractInfo)||void 0===e?void 0:e.contract_id},on:{"update:visible":e=>a.confirmVisible=e,confirm:a.onSignSuccess}}):t._e(),!a.loading&&a.showManualContract?i(a.ManualContractConfirm,{attrs:{visible:a.manualContractVisible},on:{"update:visible":e=>a.manualContractVisible=e,close:a.onClose}}):t._e()],1)},Qn=[],Mn=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"manual-contract-confirm",attrs:{visible:e.visible,title:i.$m("申请合同"),closable:!0,width:"420px"},on:{"update:visible":function(t){return e.$emit("update:visible",t)},close:i.handleClose},scopedSlots:e._u([{key:"footer",fn:function(){return[t("span")]},proxy:!0}])},[t("div",{staticClass:"contract-confirm-body"},[t("div",{staticClass:"contract-confirm-content"},[e._v(e._s(i.$m("如需开具合同，请联系人工客服。")))]),t("div",{staticClass:"contract-confirm-footer"},[t(i.Button,{staticClass:"confirm-btn",attrs:{size:"sm",type:"primary"},on:{click:i.handleClose}},[e._v(e._s(i.$m("确定")))])],1)])])},En=[],Vn=Object(s["defineComponent"])({__name:"ManualContractConfirm",props:{visible:{type:Boolean}},emits:["update:visible","close"],setup(e,{emit:t}){const i=()=>{t("update:visible",!1),t("close")};return{__sfc:!0,emit:t,handleClose:i,MDialog:qi,Button:oi,$m:D["d"]}}}),Bn=Vn,$n=(i("414d"),i("69d0"),Object(b["a"])(Bn,Mn,En,!1,null,"ceacb886",null)),Rn=$n.exports,zn=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"apply-form"},[t("div",{staticClass:"info"},[e._v(e._s(i.$m("您可以申请盖有 MasterGo 电子签章的合同，下载并打印后，由贵司加盖鲜章，无需将合同寄回。")))]),t("div",{staticClass:"form-wrap"},[t("form",{staticClass:"form",on:{submit:function(e){e.preventDefault()}}},[t(i.FormItem,{ref:"nameFormItemRef",attrs:{label:i.$m("企业全称"),"show-require-asterisk":"",rules:i.rules.name}},[t(i.Input,{attrs:{modelValue:i.formData.name,placeholder:i.$m("请填写企业主体全称"),clearable:""},on:{"update:modelValue":e=>i.formData.name=e}})],1),t(i.FormItem,{ref:"codeFormItemRef",attrs:{label:i.$m("统一信用代码"),"show-require-asterisk":"",rules:i.rules.code}},[t(i.Input,{attrs:{modelValue:i.formData.code,placeholder:i.$m("请填写统一信用代码"),clearable:""},on:{"update:modelValue":i.updateCode}})],1),t(i.FormItem,{ref:"phoneFormItemRef",attrs:{label:i.$m("联系方式"),"show-require-asterisk":"",rules:i.rules.phone}},[t(i.Input,{attrs:{modelValue:i.formData.phone,placeholder:i.$m("请填写手机号"),clearable:""},on:{"update:modelValue":i.updatePhone}})],1),t(i.FormItem,{ref:"personFormItemRef",attrs:{label:i.$m("联系人"),"show-require-asterisk":"",rules:i.rules.person}},[t(i.Input,{attrs:{modelValue:i.formData.person,placeholder:i.$m("请填写联系人"),clearable:""},on:{"update:modelValue":i.updatePerson}})],1),t(i.FormItem,{ref:"addressFormItemRef",attrs:{label:i.$m("通讯地址"),"show-require-asterisk":"",rules:i.rules.address}},[t(i.Input,{attrs:{modelValue:i.formData.address,placeholder:i.$m("请填写通讯地址"),clearable:""},on:{"update:modelValue":e=>i.formData.address=e}})],1)],1),t("div",{staticClass:"footer-buttons"},[t("div",{staticClass:"tip"},[t(i.InfomationIcon,{attrs:{size:"16"}}),t("span",{staticClass:"tip-text"},[e._v(e._s(i.$m("合同仅可申请一次，请仔细确认填写信息")))])],1),t(i.Button,{staticClass:"submit-button",attrs:{disabled:i.loading,size:"sm",type:"primary"},on:{click:i.onClickSubmit}},[i.loading?t(i.LoadingIcon,{staticClass:"icon-loading",attrs:{size:"24",rotate:""+i.rotate}}):e._e(),e._v(e._s(i.$m("提交")))],1),t("div",{staticClass:"links"},[t("div",{staticClass:"link-item"},[t(i.Tooltip,{attrs:{position:"top",content:i.$m("联系客服获取纸质合同并加盖双方鲜章，需邮寄"),offset:25}},[t(i.InfomationIcon,{staticClass:"icon mr3",attrs:{size:"16"}})],1),t(i.Link,{on:{click:i.jumpLink}},[e._v(e._s(i.$m("申请纸质合同")))])],1)])],1)])])},Fn=[],Ln=i("972a"),Un=Object(s["defineComponent"])({__name:"apply-contract-form",props:{orderId:null,entityId:null,entityType:null,contractTemplateUrl:null},emits:["submit"],setup(e,{emit:t}){const i=e,a=Object(s["inject"])("toastManager"),n=Object(s["ref"])(!1),r=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,o;const s=C();if(s){n.value=!0;try{const s=yield Object(Ln["b"])({order_id:i.orderId,entity_id:i.entityId,entity_type:i.entityType,company:u.name.trim(),credit_code:gn(u.code),phone:gn(u.phone),contact_person:u.person.trim(),postal_addr:u.address.trim()});s.code===Ln["a"]?(Object(m["n"])(null===(e=s.data)||void 0===e?void 0:e.download_url),t("submit",s.data)):a.showDestructiveToast(Ln["c"][s.code]||(null===(o=s.meta)||void 0===o?void 0:o.msg)||Object(D["d"])("申请合同失败，请稍后重试"))}catch(r){a.showDestructiveToast(Object(D["d"])("申请合同失败，请稍后重试"))}finally{n.value=!1}}})),c=()=>{Object(m["n"])(l["h"])},u=Object(s["reactive"])({name:"",code:"",phone:"",person:"",address:""}),d={name:[{errorMsg:Object(D["d"])("请填写企业全称"),check(e=""){return""!==e.trim()}},{errorMsg:Object(D["d"])("企业全称不超过60个字"),check(e=""){return e.trim().length<=60}}],code:[{errorMsg:Object(D["d"])("请填写统一信用代码"),check(e=""){return""!==e.trim()}},{errorMsg:Object(D["d"])("请填写正确的统一信用代码"),check(e=""){const t=e.replace(/\s/g,"");return hn(t)}}],phone:[{errorMsg:Object(D["d"])("请填写联系方式"),check(e=""){return""!==e.trim()}},{errorMsg:Object(D["d"])("请填写正确的联系方式"),check(e=""){return mn(e.replace(/[^\d\-\(\)\+]/g,""))}}],person:[{errorMsg:Object(D["d"])("请填写联系人"),check(e=""){return""!==e.trim()}},{errorMsg:Object(D["d"])("联系人应在 8 个字符以内"),check(e=""){return e.trim().length<=8}},{errorMsg:Object(D["d"])("请勿输入中英文空格以外的特殊字符"),check(e=""){return/^[a-zA-Z\u4e00-\u9fa5@￥?~\/\s]+$/.test(e)}}],address:[{errorMsg:Object(D["d"])("请填写通讯地址"),check(e=""){return""!==e.trim()}},{errorMsg:Object(D["d"])("通讯地址不超过60个字"),check(e=""){return e.trim().length<=60}}]},p=(e="")=>{if(!e)return void(u.phone="");const t=e.replace(/[^\d\-\(\)\+]/g,"");u.phone=fn(t)},v=(e="")=>{u.person=e?e.trim():""},f=(e="")=>{if(!e)return void(u.code="");const t=e.replace(/\W/g,"");u.code=_n(t)},_=Object(s["ref"])(),b=Object(s["ref"])(),h=Object(s["ref"])(),g=Object(s["ref"])(),y=Object(s["ref"])(),C=()=>{const e=[()=>_.value.checkValue(u.name),()=>b.value.checkValue(u.code),()=>h.value.checkValue(u.phone),()=>g.value.checkValue(u.person),()=>y.value.checkValue(u.address)];for(const t of e)if(!t())return!1;return!0},O=Object(s["ref"])(0);let j;function I(){j=requestAnimationFrame(()=>{O.value+=1,I()})}const w=be();return Object(s["onMounted"])(()=>{u.name=w.name,u.code=w.code,u.phone=w.phone,u.person=w.person,u.address=w.address}),Object(s["watch"])(()=>n.value,e=>{e?I():cancelAnimationFrame(j)},{immediate:!0}),Object(s["onBeforeUnmount"])(()=>{w.updateState(u)}),{__sfc:!0,toastManager:a,props:i,emit:t,loading:n,onClickSubmit:r,jumpLink:c,formData:u,rules:d,updatePhone:p,updatePerson:v,updateCode:f,nameFormItemRef:_,codeFormItemRef:b,phoneFormItemRef:h,personFormItemRef:g,addressFormItemRef:y,validFormValue:C,rotate:O,raf:j,rotateLoadingIcon:I,contractStore:w,$m:D["d"],LoadingIcon:Va,InfomationIcon:It["a"],Tooltip:$,Button:oi,FormItem:qa,Input:se,Link:di}}}),qn=Un,Nn=(i("b49d"),Object(b["a"])(qn,zn,Fn,!1,null,"7634acb6",null)),Gn=Nn.exports,Hn=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"contract-confirm-dialog",attrs:{visible:i.contractConfirmVisible,width:"360px",closable:!1},scopedSlots:e._u([{key:"header",fn:function(){return[t("span")]},proxy:!0},{key:"footer",fn:function(){return[t("span")]},proxy:!0}])},[t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[e._v("申请合同")]),t("div",{staticClass:"confirm-text-wrap"},[t("div",{staticClass:"text"},[e._v("请仔细查看合同内容，确认无误后生成正式合同")]),t("div",{staticClass:"text"},[e._v("合同已加盖合法有效电子印章，您可下载打印，无需寄回")])]),t("div",{staticClass:"footer"},[t(i.Button,{staticClass:"submit-button",attrs:{size:"sm",type:"outline"},on:{click:i.onCancel}},[e._v("取消")]),t(i.Button,{staticClass:"submit-button",attrs:{disabled:i.loading,size:"sm",type:"primary"},on:{click:i.onConfirm}},[i.loading?t(i.LoadingIcon,{staticClass:"icon-loading",attrs:{rotate:""+i.rotate,size:"24"}}):e._e(),e._v(" 确认申请 ")],1)],1)])])},Yn=[],Zn=Object(s["defineComponent"])({__name:"apply-confirm",props:{visible:{type:Boolean},orderId:null,entityType:null,entityId:null,contractId:null},emits:["update:visible","close","confirm"],setup(e,{emit:t}){const i=e,a=Object(s["computed"])({get:()=>i.visible,set:e=>t("update:visible",e)}),n=Object(s["inject"])("toastManager"),r=Object(s["ref"])(!1),l=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,o,s;try{r.value=!0,n.showNormalToast("合同生成中...");const l=yield Object(me["q"])({entity_id:i.entityId,entity_type:i.entityType,order_id:i.orderId,contract_id:i.contractId});l.code===me["a"]?(a.value=!1,Object(m["e"])(null===(e=l.data)||void 0===e?void 0:e.file_name,null===(o=l.data)||void 0===o?void 0:o.download_url),t("confirm",l.data)):n.showDestructiveToast(me["f"][l.code]||(null===(s=l.meta)||void 0===s?void 0:s.msg)||"申请合同失败，请稍后重试")}catch(l){n.showDestructiveToast("申请合同失败，请稍后重试")}finally{r.value=!1}})),c=Object(s["ref"])(0);let u;function d(){u=requestAnimationFrame(()=>{c.value+=1,d()})}Object(s["watch"])(()=>r.value,e=>{e?d():cancelAnimationFrame(u)},{immediate:!0});const p=()=>{a.value=!1};return{__sfc:!0,props:i,emit:t,contractConfirmVisible:a,toastManager:n,loading:r,onConfirm:l,rotate:c,raf:u,rotateLoadingIcon:d,onCancel:p,LoadingIcon:Va,MDialog:qi,Button:oi}}}),Wn=Zn,Jn=(i("8bba"),Object(b["a"])(Wn,Hn,Yn,!1,null,"07f6ae5a",null)),Kn=Jn.exports,Xn=Object(s["defineComponent"])({__name:"mg-contract-dialog",props:{visible:{type:Boolean},title:null,orderId:null,entityId:null,entityType:null,toastManager:null,position:null,contractTemplateUrl:null,token:null,lanhuHost:null},emits:["update:visible","close","submitSuccess","signSuccess"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(!0),n=Object(s["computed"])({get:()=>i.visible&&!v.value,set:e=>t("update:visible",e)}),r=Object(s["computed"])({get:()=>i.visible&&v.value,set:e=>t("update:visible",e)}),u=ve(),d=fe(),p=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e={order_id:i.orderId,entity_id:i.entityId,entity_type:i.entityType};try{const{data:t}=yield Object(me["k"])(e);d.SET_PAY_DETAIL(t)}catch(t){console.error(t)}finally{a.value=!1}})),v=Object(s["computed"])(()=>{if(!d.payDetail)return!1;const e=d.payDetail.service_type===l["B"].AddSeat,t=d.payDetail.seat_buy||[],i=t.some(e=>e.seat_type===l["C"].Prototype),a=t.some(e=>e.seat_type===l["C"].Develop);return e&&(i||a)}),m=()=>{},f=c(i.toastManager||m,i.position);Object(s["provide"])("toastManager",f);const _=Object(s["ref"])(!1),b=Object(s["ref"])(),h=e=>{n.value=!1,_.value=!0,b.value=e,t("submitSuccess",e)},g=()=>{t("signSuccess")},y=()=>{t("close")};return Object(s["watch"])(()=>i.visible,e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){e?(a.value=!0,yield p(),u.initInfo({token:i.token,lanhuHost:i.lanhuHost,entityId:i.entityId.toString(),entityType:i.entityType}),Object(me["m"])(),a.value=!1):(d.SET_PAY_DETAIL({}),a.value=!0)}))),{__sfc:!0,props:i,emit:t,loading:a,contractVisible:n,manualContractVisible:r,commonStore:u,orderStore:d,updateOrderDetail:p,showManualContract:v,func:m,toastManager:f,confirmVisible:_,contractInfo:b,onSubmitSuccess:h,onSignSuccess:g,onClose:y,ManualContractConfirm:Rn,MDialog:qi,ApplyContractForm:Gn,ApplyConfirm:Kn,$m:D["d"]}}}),eo=Xn,to=(i("b4c1"),Object(b["a"])(eo,An,Qn,!1,null,"f9b47284",null)),io=to.exports,ao=i("7932");(function(e){e["Success"]="success",e["Wait"]="wait",e["Submitting"]="Submitting"})(yn||(yn={}));var no=Object(s["defineComponent"])({__name:"TransferToCorporateAccount",emits:["back"],setup(e,{emit:t}){const i=ve(),a=fe(),n=l["a"].contract,r=Object(s["ref"])({company:"",phone:"",file:null}),c=Object(s["ref"])(yn.Wait),u=Object(s["inject"])("toastManager"),d=Object(s["inject"])("position"),p=Object(s["inject"])("originToastManager"),v=Object(s["ref"])(!1),m=Object(s["computed"])(()=>{const e=a.payDetail;return(null===e||void 0===e?void 0:e.sign_type)!==l["f"].SignTypeOffline}),f=e=>{v.value=e},_=()=>{t("back")},b=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e={order_id:a.orderId,entity_id:i.entityId,entity_type:i.entityType},{data:t}=yield Object(me["k"])(e);a.SET_PAY_DETAIL(t)})),h=()=>{const e=rn(`\n    ${Object(D["d"])("企业全称 北京创作美好科技有限公司")} \n    ${Object(D["d"])("银行账户")}110951655610001\n    ${Object(D["d"])("开户行 招商银行股份有限公司北京望京融科支行")}\n    ${Object(D["d"])("联行号")}   308100005947\n    ${Object(D["d"])("转账备注")} ${a.orderId.slice(-6)}${Object(D["d"])("（打款时请备注此信息）")}\n    ${Object(D["d"])("转账金额")}¥${a.orderAmount}\n  `);e instanceof Promise&&e.then(()=>{null===u||void 0===u||u.showNormalToast(Object(D["d"])("复制成功"))}).catch(()=>{})},g=()=>{var e;(null===(e=a.payDetail)||void 0===e?void 0:e.contract_wt)!==l["d"].ISSUED?M(!0):Object(ao["a"])(a.payDetail.contract_no,i.entityId,i.entityType)},y=[{errorMsg:Object(D["d"])("请填写企业全称"),check(e=""){return""!==e.trim()}}],C=[{errorMsg:Object(D["d"])("请填写联系方式"),check(e=""){return""!==e.trim()}},{errorMsg:Object(D["d"])("请填写正确联系方式"),check(e=""){return mn(e)}}],O=[{errorMsg:Object(D["d"])("请上传付款回执"),check(e){return e}}],j=Object(s["ref"])(),I=Object(s["ref"])(),w=Object(s["ref"])(),S=()=>{const{company:e,file:t,phone:i}=r.value,a=[()=>j.value.checkValue(e.trim()),()=>I.value.checkValue(i.trim()),()=>w.value.checkValue(t)],n=a.reduce((function(e,t){return e&&t()}),!0);return n},k=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){if(!S())return;const{company:e,file:t,phone:n}=r.value,o=a.orderId,s=new FormData;s.append("company",e.trim()),s.append("file",t),s.append("phone",n.trim()),s.append("order_id",o),s.append("entity_id",i.entityId.toString()),s.append("entity_type",i.entityType),c.value=yn.Submitting;try{const e=yield Object(me["n"])(s);if("10052"===(null===e||void 0===e?void 0:e.code))return u.showDestructiveToast(Object(D["d"])("订单失效，请重新下单")),void(c.value=yn.Wait);c.value=yn.Success,null===u||void 0===u||u.showHighlightToast(Object(D["d"])("提交成功！我们将在 1-2 个工作日内确认支付结果，可留意您账号对应的邮箱通知。")),a.SET_MAIN_DIALOG_VISIBLE(!1)}catch(l){c.value=yn.Wait,null===u||void 0===u||u.showDestructiveToast(Object(D["d"])("操作失败，请重新操作或刷新网络重试")),a.SET_MAIN_DIALOG_VISIBLE(!1)}})),T=e=>{r.value.file=e},x=Object(s["computed"])(()=>{const{company:e,phone:t,file:i}=r.value;return!e||!t||!i||c.value===yn.Submitting||c.value===yn.Success}),P=e=>{r.value.phone=e},A=e=>{r.value.company=e},Q=Object(s["ref"])(!1),M=e=>{setTimeout(()=>{Q.value=e},50)};return{__sfc:!0,SubmitStatus:yn,emit:t,commonStore:i,orderStore:a,invoiceType:n,formData:r,submitStatus:c,toastManager:u,position:d,originToastManager:p,contractVisible:v,showApplyContractBtn:m,handleContractVisible:f,handleBackClicked:_,updateOrderDetail:b,handleCopyClicked:h,handleContract:g,nameRules:y,phoneRules:C,picRules:O,nameFormItemRef:j,phoneFormItemRef:I,payPicFormItemRef:w,validFormValue:S,handleSubmitClicked:k,handleFileChange:T,disabledSubmit:x,updatePhone:P,updateCompany:A,contractApplyVisible:Q,updateContractApplyVisible:M,$m:D["d"],Button:oi,FormItem:qa,Input:se,Upload:In,CopyIcon:wn["a"],MgInvoice:Pn,EContractStatus:l["d"],MgContractApply:io}}}),oo=no,so=(i("f5ee"),Object(b["a"])(oo,Ba,$a,!1,null,"03632aec",null)),ro=so.exports,lo=Object(s["defineComponent"])({__name:"Step-2",setup(e){const t=Object(s["inject"])("payInfo")||{},i=fe(),a=ve(),{orderId:n}=Object(r["f"])(i),{mainDialogVisible:c}=Object(r["f"])(i);let u;const d=Object(s["ref"])({}),p=Object(s["ref"])(!1),v=Object(s["ref"])(!1),f=Object(s["ref"])(0),_=Object(s["ref"])("-"),b=Object(s["computed"])(()=>i.ownerInfo),h=Object(s["ref"])(""),g=Object(s["ref"])(""),y=Object(s["ref"])(""),C=Object(s["ref"])(),O=Object(s["ref"])(l["z"].Alipay),j=Object(s["ref"])(!1),I=Object(s["computed"])(()=>{var e;return Object(m["q"])((null===(e=b.value)||void 0===e?void 0:e.name)||"-")}),w=Object(s["computed"])(()=>{var e,t;return!!(null===(t=null===(e=d.value)||void 0===e?void 0:e.gift)||void 0===t?void 0:t.gift_item_count)}),S=Object(s["computed"])(()=>{var e,t;return(null===(t=null===(e=d.value)||void 0===e?void 0:e.gift)||void 0===t?void 0:t.gift_item_count)||0}),k=Object(s["computed"])(()=>{var e;return{text:g.value,width:185,height:185,colorDark:"#000000",colorLight:"#ffffff",correctLevel:null===(e=null===Da.a||void 0===Da.a?void 0:Da.a.CorrectLevel)||void 0===e?void 0:e.H}}),T=e=>{if(!e)return"-";let t=String(e);return t=t.replace(/\B(?=(\d{3})+(?!\d))/g,","),"¥"+t},x=Object(s["ref"])(0),P=e=>{const t=parseInt(e),i=Math.floor(t/3600),a=Math.floor(t%3600/60),n=t%60;return Object(D["d"])("%{hours}时 %{minutes}分 %{sec}秒",{hours:i,minutes:a,sec:n})},A=e=>{const t=parseInt(e)||0,i=(new Date).getTime()+1e3*t;u=setInterval(()=>{x.value=Math.round((i-(new Date).getTime())/1e3),x.value<0&&(clearInterval(u),location.reload(),x.value=0)},1e3)},Q=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e={order_id:n.value,entity_id:(null===t||void 0===t?void 0:t.entityId)||0,entity_type:(null===t||void 0===t?void 0:t.entityType)||""},a=yield Object(de["h"])(e),{total_price:o,service_type:s,service_start:r,service_end:c,pay_channel:u,remained_due_pay_time:b}=a.data;if(i.SET_PAY_DETAIL(a.data),d.value=a.data,i.SET_ORDER_AMOUNT(o),p.value=s===l["E"].UpMember,p.value){const e=new Date(r),t=new Date(c);f.value=Object(m["g"])(e,t)+1,_.value=Object(D["d"])("%{count}天",{count:f.value})}u&&M(u),v.value||E(O.value),x.value=b||0,A(x.value)})),M=e=>{e!==O.value&&(j.value=!0,e===l["z"].Public?G():(O.value=e,v.value=!0,E(e)))},E=e=>{h.value="",g.value="",z.value=!1,e===l["z"].Alipay?V():B()},V=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e={order_id:n.value,entity_id:null===t||void 0===t?void 0:t.entityId,entity_type:null===t||void 0===t?void 0:t.entityType,total_price:d.value.total_price,return_url:"https://mastergo.com",alipay:!0};try{const{data:t}=yield Object(de["d"])(e);if("string"!==typeof t||!t.startsWith("http"))return void(z.value=!0);h.value=t}catch(i){return void(z.value=!0)}finally{j.value=!1}U()})),B=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e={order_id:n.value,entity_id:null===t||void 0===t?void 0:t.entityId,entity_type:null===t||void 0===t?void 0:t.entityType,total_price:d.value.total_price,rand_str:"https://mastergo.com"};try{const{data:t}=yield Object(de["k"])(e);if("string"!==typeof t||!t.startsWith("weixin"))return void(z.value=!0);g.value=t}catch(i){return void(z.value=!0)}finally{j.value=!1}U(),$()})),$=()=>{Object(s["nextTick"])(()=>{y.value&&(C.value.innerHTML=""),y.value=new Da.a(C.value,k.value)})},R=Object(s["ref"])(150),z=Object(s["ref"])(!1),F=Object(s["ref"])(0),L=()=>{z.value=!1,R.value=150,F.value=0,O.value===l["z"].Alipay?V():B()},U=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,o;if(R.value=R.value-1,R.value<1)return h.value="",g.value="",z.value=!0,void clearTimeout(F.value);if(null===(e=d.value)||void 0===e?void 0:e.order_id){try{const e={entity_id:null===t||void 0===t?void 0:t.entityId,entity_type:null===t||void 0===t?void 0:t.entityType,order_id:null===(o=d.value)||void 0===o?void 0:o.order_id,rand_str:q(32)},{data:s}=yield Object(de["j"])(e);if(1===(null===s||void 0===s?void 0:s.order_state))return i.toStep3(),i.SET_ORDER_PAY_TYPE("succeed"),m["o"].track("business_buy_success",{action_detail:{org:"enterprise",team:"team"}[a.entityType],order_id:n.value}),void clearTimeout(F.value);5===(null===s||void 0===s?void 0:s.order_state)&&(i.toStep3(),i.SET_ORDER_PAY_TYPE("failure"),clearTimeout(F.value))}catch(s){console.warn(s)}F.value&&clearTimeout(F.value),F.value=setTimeout(()=>{U()},2e3)}})),q=e=>{let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=i.length;for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*a));return t},N=Object(s["ref"])(!1),G=()=>{clearInterval(u),clearTimeout(F.value),Object(de["l"])({order_id:n.value,entity_id:null===t||void 0===t?void 0:t.entityId,entity_type:null===t||void 0===t?void 0:t.entityType,pay_channel:l["z"].Public}),N.value=!0},H=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){yield Object(de["l"])({order_id:n.value,entity_id:null===t||void 0===t?void 0:t.entityId,entity_type:null===t||void 0===t?void 0:t.entityType,pay_channel:l["z"].Alipay}),N.value=!1,yield Q(),E(l["z"].Alipay)}));Object(s["onMounted"])(()=>{Q()}),Object(s["onBeforeUnmount"])(()=>{u&&clearInterval(u),F.value&&clearTimeout(F.value)}),Object(s["watch"])(c,e=>{e||(u&&clearInterval(u),F.value&&clearTimeout(F.value))});const Y=(e,t)=>e&&t?12===t?Object(D["d"])("%{count}年",{count:e}):6===t?Object(D["d"])("%{count}月",{count:e}):1===t?Object(D["d"])("%{count}天",{count:e}):void 0:"-",Z=e=>{if(!e)return"-";const t=new Date(e);return`${t.getFullYear()}/${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}`};return{__sfc:!0,payInfo:t,orderStore:i,commonStore:a,orderId:n,mainDialogVisible:c,intervalId:u,orderDetail:d,isAddSeat:p,isFlag:v,remianDay:f,remianDayDesc:_,ownerInfo:b,alipayQrcodeUrl:h,wechatQrcodeUrl:g,wechatQrcode:y,wechatQrCodeRef:C,payChannel:O,qrcodeLoading:j,teamName:I,showOrderAIGift:w,aiCredits:S,wechatQrCodeConfig:k,formatPrice:T,timeCountDown:x,formatTime:P,countDown:A,getOrderDetailData:Q,onPayChannelChange:M,handleGetQrcodeData:E,getAlipayQrcodeData:V,getWechatQrcodeData:B,generateWechatQrcodeImg:$,timeOutCount:R,showPayTimeOut:z,checkPayTimerId:F,refreshQrCode:L,checkPayResult:U,generateRandomString:q,showTransferToCorporateAccount:N,handleTransferToCorporateAccountButtonClicked:G,handleCorporateAccountBack:H,formatDuration:Y,formatDate:Z,$m:D["d"],LoadingIcon:Va,PayChannel:l["z"],Button:oi,TransferToCorporateAccount:ro}}}),co=lo,uo=(i("a8e6"),Object(b["a"])(co,ka,Ta,!1,null,"53a82403",null)),po=uo.exports,vo=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"step-3-container"},[t(i.PaymentResult,{attrs:{type:i.orderPayType}})],1)},mo=[],fo=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"result"},[t("div",{staticClass:"result__icon"},[i.isFailure?t(i.FailureIcon,{attrs:{size:"100"}}):e._e(),i.isSucceed?t(i.SucceedIcon,{attrs:{size:"100"}}):e._e()],1),t("div",{staticClass:"result__info"},[i.isFailure?[e._v(e._s(i.$m("支付失败")))]:e._e(),i.isSucceed?[e._v(e._s(i.$m("支付成功")))]:e._e()],2),t("div",{staticClass:"result__tip"},[i.isSucceed?[e._v(e._s(i.timeCountDown)+"s"+e._s(i.$m("后自动关闭")))]:e._e()],2),t("div",{staticClass:"result__button-container",class:{"result__button-failure":i.isFailure,"result__button-succeed":i.isSucceed}},[i.isFailure?t(i.Button,{attrs:{size:"md",type:"primary",width:320},on:{click:i.handleRePay}},[t("span",[e._v(e._s(i.$m("重新支付")))])]):e._e(),i.isSucceed?t(i.Button,{attrs:{size:"md",type:"primary",width:320},on:{click:i.handleCloseDialog}},[t("span",[e._v(e._s(i.$m("关闭")))])]):e._e()],1),t("div",{staticClass:"result__button-container result__button-last"},[t(i.Button,{attrs:{size:"md",type:"outline",width:320},on:{click:i.handleCheckOrder}},[e._v(e._s(i.$m("查看订单")))])],1)])},_o=[],bo=function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",fill:"none",version:"1.1",width:"100",height:"100",viewBox:"0 0 100 100"}},[t("g",[t("g"),t("g",{staticStyle:{opacity:"0.10000000149011612"}},[t("ellipse",{attrs:{cx:"50",cy:"50",rx:"45",ry:"45",fill:"#F14C4C","fill-opacity":"1"}})]),t("g",[t("ellipse",{attrs:{cx:"50",cy:"50",rx:"32",ry:"32",fill:"#F14C4C","fill-opacity":"1"}})]),t("g",[t("path",{attrs:{d:"M42.12194,37.8793L62.121300000000005,57.878699999999995Q62.3303,58.087599999999995,62.4944,58.3333Q62.6586,58.579,62.7716,58.8519Q62.884699999999995,59.1249,62.9424,59.414699999999996Q63,59.704499999999996,63,60Q63,60.147400000000005,62.985600000000005,60.2941Q62.9711,60.4407,62.9424,60.585300000000004Q62.9136,60.7298,62.8708,60.8709Q62.828,61.0119,62.7716,61.147999999999996Q62.715199999999996,61.2842,62.6458,61.4142Q62.5763,61.544200000000004,62.4944,61.6667Q62.4125,61.7893,62.319,61.9032Q62.2255,62.0171,62.121300000000005,62.121300000000005Q62.0171,62.2255,61.9032,62.319Q61.7893,62.4125,61.6667,62.4944Q61.544200000000004,62.5763,61.4142,62.6458Q61.2842,62.715199999999996,61.147999999999996,62.7716Q61.0119,62.828,60.8709,62.8708Q60.7298,62.9136,60.585300000000004,62.9424Q60.4407,62.9711,60.2941,62.985600000000005Q60.147400000000005,63,60,63Q59.704499999999996,63,59.414699999999996,62.9424Q59.1249,62.884699999999995,58.8519,62.7716Q58.579,62.6586,58.3333,62.4944Q58.087599999999995,62.3303,57.878699999999995,62.121300000000005L37.8793,42.12194L37.87868,42.12132Q37.66975,41.91239,37.50559,41.66671Q37.34143,41.42103,37.22836,41.14805Q37.11529,40.875068,37.05764,40.585271Q37,40.295474,37,40Q37,39.852619,37.01445,39.705949Q37.02889,39.559278,37.05764,39.414729Q37.0864,39.27018,37.12918,39.129146Q37.17196,38.98811,37.22836,38.85195Q37.28476,38.71579,37.35424,38.58581Q37.42371,38.45583,37.50559,38.33329Q37.58747,38.21075,37.68097,38.09682Q37.77447,37.98289,37.87868,37.87868Q37.98289,37.77447,38.09682,37.68097Q38.21075,37.58747,38.33329,37.50559Q38.45583,37.42371,38.58581,37.35424Q38.71579,37.28476,38.85195,37.22836Q38.98811,37.17196,39.129146,37.12918Q39.27018,37.0864,39.414729,37.05764Q39.559278,37.02889,39.705949,37.01445Q39.852619,37,40,37Q40.295474,37,40.585271,37.05764Q40.875068,37.11529,41.14805,37.22836Q41.42103,37.34143,41.66671,37.50559Q41.91239,37.66975,42.12132,37.87868L42.12194,37.8793Z","fill-rule":"evenodd",fill:"#FFFFFF","fill-opacity":"1"}})]),t("g",{attrs:{transform:"matrix(-1,0,0,1,120,0)"}},[t("path",{attrs:{d:"M62.12194,37.8793L82.1213,57.878699999999995Q82.3303,58.087599999999995,82.4944,58.3333Q82.6586,58.579,82.7716,58.8519Q82.8847,59.1249,82.94239999999999,59.414699999999996Q83,59.704499999999996,83,60Q83,60.147400000000005,82.9856,60.2941Q82.9711,60.4407,82.94239999999999,60.585300000000004Q82.9136,60.7298,82.8708,60.8709Q82.828,61.0119,82.7716,61.147999999999996Q82.7152,61.2842,82.64580000000001,61.4142Q82.5763,61.544200000000004,82.4944,61.6667Q82.4125,61.7893,82.319,61.9032Q82.2255,62.0171,82.1213,62.121300000000005Q82.0171,62.2255,81.9032,62.319Q81.7893,62.4125,81.66669999999999,62.4944Q81.5442,62.5763,81.4142,62.6458Q81.2842,62.715199999999996,81.148,62.7716Q81.0119,62.828,80.8709,62.8708Q80.7298,62.9136,80.5853,62.9424Q80.44069999999999,62.9711,80.2941,62.985600000000005Q80.1474,63,80,63Q79.7045,63,79.4147,62.9424Q79.1249,62.884699999999995,78.8519,62.7716Q78.57900000000001,62.6586,78.33330000000001,62.4944Q78.0876,62.3303,77.8787,62.121300000000005L57.8793,42.12194L57.87868,42.12132Q57.66975,41.91239,57.50559,41.66671Q57.34143,41.42103,57.22836,41.14805Q57.11529,40.875068,57.05764,40.585271Q57,40.295474,57,40Q57,39.852619,57.01445,39.705949Q57.02889,39.559278,57.05764,39.414729Q57.0864,39.27018,57.12918,39.129146Q57.17196,38.98811,57.22836,38.85195Q57.28476,38.71579,57.35424,38.58581Q57.42371,38.45583,57.50559,38.33329Q57.58747,38.21075,57.68097,38.09682Q57.77447,37.98289,57.87868,37.87868Q57.98289,37.77447,58.09682,37.68097Q58.21075,37.58747,58.33329,37.50559Q58.45583,37.42371,58.58581,37.35424Q58.71579,37.28476,58.85195,37.22836Q58.98811,37.17196,59.129146,37.12918Q59.27018,37.0864,59.414729,37.05764Q59.559278,37.02889,59.705949,37.01445Q59.852619,37,60,37Q60.295474,37,60.585271,37.05764Q60.875068,37.11529,61.14805,37.22836Q61.42103,37.34143,61.66671,37.50559Q61.91239,37.66975,62.12132,37.87868L62.12194,37.8793Z","fill-rule":"evenodd",fill:"#FFFFFF","fill-opacity":"1"}})])])])},ho=[],go={},yo=Object(b["a"])(go,bo,ho,!1,null,null,null),Co=yo.exports,Oo=function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",fill:"none",version:"1.1",width:"100",height:"100",viewBox:"0 0 100 100"}},[t("g",[t("g",[t("g"),t("g",{staticStyle:{opacity:"0.10000000149011612"}},[t("ellipse",{attrs:{cx:"50",cy:"50",rx:"45",ry:"45",fill:"#26A664","fill-opacity":"1"}})]),t("g",[t("g",[t("ellipse",{attrs:{cx:"50",cy:"50",rx:"32",ry:"32",fill:"#26A664","fill-opacity":"1"}})]),t("g",[t("path",{attrs:{d:"M66.20230000000001,42.03713Q66.3929,41.83104,66.542,41.59316Q66.6911,41.35528,66.7935,41.09387Q66.89580000000001,40.832461,66.9479,40.556599Q67,40.280736,67,40Q67,39.852619,66.9856,39.705949Q66.9711,39.559278,66.94239999999999,39.414729Q66.9136,39.27018,66.8708,39.129146Q66.828,38.98811,66.7716,38.85195Q66.7152,38.71579,66.64580000000001,38.58581Q66.5763,38.45583,66.4944,38.33329Q66.4125,38.21075,66.319,38.09682Q66.2255,37.98289,66.1213,37.87868Q66.0171,37.77447,65.9032,37.68097Q65.7893,37.58747,65.66669999999999,37.50559Q65.5442,37.42371,65.4142,37.35424Q65.2842,37.28476,65.148,37.22836Q65.0119,37.17196,64.8709,37.12918Q64.7298,37.0864,64.5853,37.05764Q64.44069999999999,37.02889,64.2941,37.01445Q64.1474,37,64,37Q63.689800000000005,37,63.3861,37.06348Q63.0824,37.12696,62.7982,37.25124Q62.513999999999996,37.37552,62.2612,37.55533Q62.0084,37.73514,61.7977,37.96287L45.47082,55.6136L38.175,47.93375Q37.9648,47.71249,37.71436,47.5381Q37.46391,47.3637,37.18348,47.2433Q36.903048,47.12291,36.604116,47.06146Q36.305184,47,36,47Q35.852619,47,35.705949,47.01445Q35.559278,47.02889,35.414729,47.05764Q35.27018,47.0864,35.129146,47.12918Q34.98811,47.17196,34.85195,47.22836Q34.71579,47.28476,34.58581,47.35424Q34.45583,47.42371,34.33329,47.50559Q34.21075,47.587469999999996,34.09682,47.68097Q33.98289,47.77447,33.87868,47.87868Q33.77447,47.98289,33.68097,48.09682Q33.58747,48.210750000000004,33.50559,48.33329Q33.42371,48.45583,33.35424,48.58581Q33.28476,48.71579,33.22836,48.85195Q33.17196,48.98811,33.12918,49.129149999999996Q33.0864,49.270179999999996,33.05764,49.41473Q33.02889,49.55928,33.01445,49.70595Q33,49.85262,33,50Q33,50.2858,33.05395,50.5664Q33.10791,50.847,33.21387,51.1124Q33.31984,51.3778,33.47401,51.6184Q33.62818,51.8591,33.825,52.0662L33.82594,52.0672L43.325,62.066199999999995Q43.39174,62.1365,43.46287,62.2023Q43.67978,62.4029,43.93166,62.5574Q44.18355,62.7119,44.46072,62.8142Q44.737899999999996,62.9166,45.02972,62.962900000000005Q45.32154,63.0092,45.6168,62.997699999999995Q45.91205,62.9862,46.1994,62.9173Q46.4867,62.8485,46.7551,62.7248Q47.0235,62.6012,47.2626,62.4276Q47.5017,62.254000000000005,47.7023,62.037099999999995L66.20230000000001,42.03713L66.20230000000001,42.03713Z","fill-rule":"evenodd",fill:"#FFFFFF","fill-opacity":"1"}})])]),t("g",[t("path",{attrs:{d:"M75.32073,11.327606Q75.5,10.933218,75.5,10.5Q75.5,10.4017463,75.49037,10.303966Q75.48074,10.206185,75.46157,10.109819Q75.4424,10.013454,75.41388,9.919431Q75.38536,9.825408,75.34776,9.734633Q75.31016,9.643858999999999,75.26384,9.557207Q75.21753,9.47055,75.16294,9.38886Q75.10835,9.30716,75.04602,9.23121Q74.98369,9.15526,74.91421,9.08579Q74.84474,9.01631,74.76879,8.95398Q74.69284,8.89165,74.61114,8.83706Q74.52945,8.78247,74.44279,8.73616Q74.35614,8.68984,74.26537,8.652239999999999Q74.17459,8.61464,74.08057,8.58612Q73.98655,8.5576,73.89018,8.53843Q73.79382,8.51926,73.69603,8.50963Q73.59825000000001,8.5,73.5,8.5Q73.35673,8.5,73.21493,8.52042Q73.07313,8.54084,72.93569,8.58126Q72.79824,8.621690000000001,72.66796,8.68129Q72.53768,8.74089,72.41723,8.81845Q72.29677,8.89601,72.18861,8.98995Q72.08044,9.08389,71.986762,9.19229Q71.893087,9.30069,71.815819,9.42133Q71.738551,9.54197,71.679267,9.672394L69.17948,15.17192L69.17927,15.17239Q69,15.56678,69,16Q69,16.09825,69.00963,16.19603Q69.01926,16.29382,69.03843,16.39018Q69.0576,16.48655,69.08612,16.58057Q69.11464,16.674590000000002,69.15224,16.76537Q69.18984,16.85614,69.23616,16.94279Q69.28247,17.02945,69.33706,17.11114Q69.39165,17.19283,69.45398,17.26879Q69.51631,17.34474,69.58579,17.41421Q69.65526,17.48369,69.73121,17.54602Q69.80716,17.60835,69.88886,17.66294Q69.97055,17.71753,70.057207,17.763840000000002Q70.143859,17.81016,70.234633,17.84776Q70.325408,17.88536,70.419431,17.91388Q70.513454,17.9424,70.609819,17.961570000000002Q70.706185,17.98074,70.803966,17.99037Q70.9017463,18,71,18Q71.143265,18,71.285068,17.97958Q71.426871,17.95916,71.564315,17.91874Q71.701759,17.87831,71.832039,17.81871Q71.962318,17.75911,72.08277,17.68155Q72.20323,17.60399,72.31139,17.51005Q72.41956,17.41611,72.51324,17.30771Q72.60691,17.19932,72.68418,17.07867Q72.76145,16.95803,72.82073,16.82761L72.82095,16.82713L75.32073,11.327606L75.32073,11.327606Z","fill-rule":"evenodd",fill:"#26A664","fill-opacity":"1"}})]),t("g",[t("path",{attrs:{d:"M90.02623,29.92953Q90.18391,29.88653,90.33251,29.8185Q90.4811,29.75047,90.61669,29.65922Q90.75227,29.56797,90.87124,29.45592Q90.99021,29.34387,91.08941,29.21399Q91.18862,29.08411,91.26542,28.939847Q91.34222,28.795586,91.39458,28.64077Q91.44694,28.485955,91.47347,28.324693Q91.5,28.16343,91.5,28Q91.5,27.9017463,91.49037,27.803966Q91.48074,27.706185,91.46157,27.609819Q91.4424,27.513454,91.41388,27.419431Q91.38536,27.325408,91.34776,27.234633Q91.31016,27.143859,91.26384,27.057207Q91.21753,26.97055,91.16294,26.88886Q91.10835,26.80716,91.04602,26.73121Q90.98369,26.65526,90.91421,26.58579Q90.84474,26.51631,90.76879,26.45398Q90.69283,26.39165,90.61114,26.33706Q90.52945,26.28247,90.44279,26.236159999999998Q90.35614,26.18984,90.26537,26.15224Q90.17459,26.11464,90.08057,26.08612Q89.98655,26.0576,89.89018,26.038429999999998Q89.79382,26.01926,89.69603000000001,26.00963Q89.59825000000001,26,89.5,26Q89.23216,26,88.97377,26.07047L88.97334000000001,26.07059L83.473765,27.570472Q83.316094,27.613474,83.167495,27.681502Q83.018896,27.74953,82.88331,27.840781Q82.74773,27.932031,82.62876,28.0440823Q82.50979,28.156134,82.41059,28.286013Q82.31139,28.415892,82.23459,28.560153Q82.15779,28.704414,82.10543,28.85923Q82.05306,29.01405,82.02653,29.17531Q82,29.336570000000002,82,29.5Q82,29.59825,82.00963,29.69603Q82.01926,29.79381,82.03843,29.89018Q82.0576,29.98655,82.08612,30.08057Q82.11464,30.17459,82.15224,30.26537Q82.18984,30.35614,82.23616,30.44279Q82.28247,30.52945,82.33706,30.61114Q82.39165,30.69284,82.45398,30.76879Q82.51631,30.84474,82.58579,30.91421Q82.65526,30.98369,82.73121,31.04602Q82.80716,31.10835,82.88886,31.16294Q82.97055,31.21753,83.057207,31.263840000000002Q83.143859,31.31016,83.234633,31.34776Q83.325408,31.38536,83.419431,31.41388Q83.513454,31.4424,83.609819,31.461570000000002Q83.706185,31.48074,83.803966,31.49037Q83.9017463,31.5,84,31.5Q84.267836,31.5,84.526235,31.42953L90.02581,29.92964L90.02623,29.92953Z","fill-rule":"evenodd",fill:"#26A664","fill-opacity":"1"}})]),t("g",[t("path",{attrs:{d:"M86.91421,16.41421Q87.0535,16.27493,87.16294,16.11114Q87.27238,15.947355,87.34776,15.765367Q87.42314,15.583379,87.46157,15.390181Q87.5,15.196983,87.5,15Q87.5,14.9017463,87.49037,14.803966Q87.48074,14.706185,87.46157,14.609819Q87.44239999999999,14.513454,87.41388,14.419431Q87.38536,14.325408,87.34776,14.234633Q87.31016,14.143858999999999,87.26384,14.057207Q87.21752000000001,13.97055,87.16294,13.88886Q87.10835,13.80716,87.04602,13.73121Q86.98369,13.65526,86.91421,13.58579Q86.84474,13.51631,86.76879,13.45398Q86.69283,13.39165,86.61114,13.33706Q86.52945,13.28247,86.44279,13.23616Q86.35614,13.18984,86.26537,13.152239999999999Q86.17459,13.11464,86.08057,13.08612Q85.98655,13.0576,85.89018,13.03843Q85.79381,13.01926,85.69603000000001,13.00963Q85.59825000000001,13,85.5,13Q85.30302,13,85.10982,13.03843Q84.91662,13.07686,84.73463,13.152239999999999Q84.55264,13.22762,84.38886,13.33706Q84.22507,13.4465,84.08579,13.58579L76.58579,21.08579Q76.4465,21.22507,76.33706,21.38886Q76.22762,21.55264,76.15224,21.73463Q76.07686,21.91662,76.03843,22.10982Q76,22.30302,76,22.5Q76,22.59825,76.00963,22.69603Q76.01926,22.79381,76.03843,22.89018Q76.0576,22.98655,76.08612,23.08057Q76.11464,23.174590000000002,76.15224,23.26537Q76.18984,23.35614,76.23616,23.442790000000002Q76.28247,23.52945,76.33706,23.61114Q76.39165,23.69283,76.45398,23.76879Q76.51631,23.84474,76.58579,23.91421Q76.65526,23.98369,76.73121,24.04602Q76.80716,24.10835,76.88886,24.16294Q76.97055,24.21752,77.057207,24.263840000000002Q77.143859,24.31016,77.234633,24.34776Q77.325408,24.38536,77.419431,24.41388Q77.513454,24.4424,77.609819,24.461570000000002Q77.706185,24.48074,77.803966,24.49037Q77.9017463,24.5,78,24.5Q78.196983,24.5,78.390181,24.461570000000002Q78.583379,24.42314,78.765367,24.34776Q78.947355,24.27238,79.11114,24.16294Q79.27493,24.0535,79.41421,23.91421L86.91346,16.41496L86.91421,16.41421L86.91421,16.41421Z","fill-rule":"evenodd",fill:"#26A664","fill-opacity":"1"}})])])])])},jo=[],Io={},wo=Object(b["a"])(Io,Oo,jo,!1,null,null,null),So=wo.exports,ko=Object(s["defineComponent"])({__name:"mg-payment-result",props:{type:{default:"succeed"}},setup(e){const t=e,i=Object(s["computed"])(()=>"failure"===t.type),a=Object(s["computed"])(()=>"succeed"===t.type),n=Object(s["ref"])(10);let o;const r=fe(),l=ve(),c=Object(s["inject"])("payInfo"),u=()=>{clearInterval(o),o=null,l.setTimer(null)},d=()=>{o=setInterval(()=>{n.value-=1,n.value<=0&&(u(),v())},1e3),l.setTimer(o)},p=()=>{r.toStep2()},v=()=>{r.SET_MAIN_DIALOG_VISIBLE(!1)},f=()=>{Object(m["m"])({entityId:null===c||void 0===c?void 0:c.entityId,isTeam:l.isTeam,target:"_self"})};return Object(s["onMounted"])(()=>{a.value&&d()}),Object(s["onBeforeUnmount"])(()=>{u()}),{__sfc:!0,props:t,isFailure:i,isSucceed:a,timeCountDown:n,timer:o,orderStore:r,commonStore:l,payInfo:c,resetTimer:u,countDown:d,handleRePay:p,handleCloseDialog:v,handleCheckOrder:f,$m:D["d"],FailureIcon:Co,SucceedIcon:So,Button:oi}}}),To=ko,xo=(i("85c2"),Object(b["a"])(To,fo,_o,!1,null,"393fd588",null)),Do=xo.exports,Po=Object(s["defineComponent"])({__name:"Step-3",setup(e){const t=fe(),{orderPayType:i}=Object(r["f"])(t);return{__sfc:!0,orderStore:t,orderPayType:i,PaymentResult:Do}}}),Ao=Po,Qo=(i("6d23"),Object(b["a"])(Ao,vo,mo,!1,null,"2b882580",null)),Mo=Qo.exports;const Eo=()=>{const e=(e,t)=>{const i=t.value,a=document.createElement("div");a.className="v-loading-mask",a.style.cssText="\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: transparent;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 2000;\n      border-radius: inherit;\n    ";const n=document.createElement("div");n.style.cssText="\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n    ";const o=document.createElement("div");o.style.cssText="\n      width: 32px;\n      height: 32px;\n      border: 3px solid #f3f3f3;\n      border-top: 3px solid #3498db;\n      border-radius: 50%;\n      animation: spin 1s linear infinite;\n    ";const s=document.createElement("style");s.textContent="\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    ",document.head.appendChild(s),n.appendChild(o),a.appendChild(n),e.style.position="relative",e.loadingElement=a,e.loadingStyle=s,i&&e.appendChild(a)},t=(e,t)=>{const i=t.value,a=t.oldValue;i!==a&&(i?e.appendChild(e.loadingElement):e.contains(e.loadingElement)&&e.removeChild(e.loadingElement))},i=e=>{e.loadingElement&&e.contains(e.loadingElement)&&e.removeChild(e.loadingElement),e.loadingStyle&&document.head.contains(e.loadingStyle)&&document.head.removeChild(e.loadingStyle)};try{const a=s["version"];if(a&&a.startsWith("2."))return{bind:e,update:t,unbind:i}}catch(a){console.log(a)}return{mounted:e,updated:t,unmounted:i}},Vo=Eo();var Bo=Object(s["defineComponent"])({__name:"mg-payment-dialog",props:{visible:{type:Boolean,default:!1},title:null,position:null,info:null,showZhiChi:{type:Boolean,default:!0},toastManager:null},emits:["close","update:visible","toggleZCDialog"],setup(e,{emit:t}){const i=e,a=ve(),n=fe(),u=Object(s["computed"])(()=>a.dialogLoading),d=()=>{},p=c(i.toastManager||d,i.position),v=Object(s["computed"])(()=>{var e;return Object.assign(Object.assign({},i.info),{entityId:Number(null===(e=i.info)||void 0===e?void 0:e.entityId)})});Object(s["provide"])("toastManager",p),Object(s["provide"])("originToastManager",i.toastManager),Object(s["provide"])("position",i.position),Object(s["provide"])("payInfo",v.value),Object(s["provide"])("toggleZCDialog",()=>t("toggleZCDialog")),Object(s["provide"])("showZhiChi",()=>i.showZhiChi),Object(s["provide"])("getPayType",()=>i.info.type),Object(s["provide"])("getPayInfo",()=>i.info);const{currentStep:m,mainDialogVisible:f}=Object(r["f"])(n),_=Object(s["ref"])([Object(D["d"])("确认订单"),Object(D["d"])("在线支付/对公转账"),Object(D["d"])("完成订购")]),b=Object(s["computed"])(()=>"team"===i.info.entityType?Object(D["d"])("团队版"):Object(D["d"])("企业版")),h=Object(s["computed"])(()=>"team"===i.info.entityType?Object(D["d"])("适合中小规模产设研团队协作使用"):Object(D["d"])("适合中大规模企业，更完善的跨团队协作管理能力")),g=Object(s["computed"])(()=>i.visible),y=e=>{n.SET_CURRENT_STEP(e)},C=e=>{e.active&&(m.value!==e.index?y(e.index):console.warn("already on this step"))},O=()=>{k(),t("close")},I=e=>{t("update:visible",e),n.SET_MAIN_DIALOG_VISIBLE(e)};let w=!1;const S=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{if(w)return void console.warn("initialized");w=!0,localStorage.getItem("debug")&&(window._payOrder=n,window._payCommon=a);const e=i.info;if(!e)throw new Error("info was required");const{step:t,orderId:o}=e;n.reset(),a.initInfo(e),a.initToastManager(p),void 0!==t&&y(t),o&&n.SET_ORDER_ID(o),Object(me["m"])()}catch(e){console.error(e)}})),k=()=>{w=!1,n.reset(),a.reset()};Object(s["watch"])(()=>g.value,e=>{I(e),e?S():k()},{immediate:!0}),Object(s["watch"])(f,e=>{e||O(),t("update:visible",e)});const T=Object(s["computed"])(()=>{var e,t,a,n,o,s,r,c,u,d,p,v;return{label:i.info.entityType===l["A"].Team?Object(D["d"])("团队 ID"):Object(D["d"])("企业 ID"),logo:i.info.entityType===l["A"].Team?null===(t=null===(e=i.info)||void 0===e?void 0:e.teamInfo)||void 0===t?void 0:t.logo:null===(n=null===(a=i.info)||void 0===a?void 0:a.orgInfo)||void 0===n?void 0:n.logo,name:i.info.entityType===l["A"].Team?null===(s=null===(o=i.info)||void 0===o?void 0:o.teamInfo)||void 0===s?void 0:s.name:null===(c=null===(r=i.info)||void 0===r?void 0:r.orgInfo)||void 0===c?void 0:c.name,id:i.info.entityType===l["A"].Team?null===(d=null===(u=i.info)||void 0===u?void 0:u.teamInfo)||void 0===d?void 0:d.id:null===(v=null===(p=i.info)||void 0===p?void 0:p.orgInfo)||void 0===v?void 0:v.id}});return Object(s["watch"])(T,e=>{n.setOwnerInfo(e)},{immediate:!0}),Object(s["onBeforeUnmount"])(()=>{Object(me["m"])("")}),{__sfc:!0,commonStore:a,orderStore:n,loading:u,props:i,emit:t,func:d,toastManager:p,formatProps:v,currentStep:m,mainDialogVisible:f,steps:_,applyTitle:b,applySubTitle:h,visible:g,updateStep:y,onStepClick:C,onClose:O,onUpdateVisible:I,initialized:w,init:S,closeReset:k,ownerInfo:T,Steps:j,Step1:Sa,Step2:po,Step3:Mo,MDialog:qi,vLoading:Vo}}}),$o=Bo,Ro=(i("b090"),Object(b["a"])($o,a,n,!1,null,null,null)),zo=Ro.exports,Fo=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return i.showApply&&i.visible?t(i.ApplyInvoice,{attrs:{headerType:i.defaultHeaderType},on:{"update:visible":i._visibleChange}}):i.showSubmit&&i.visible?t(i.ApplyStatus,{on:{"update:visible":i._visibleChange,refresh:i.refresh,close:i.refresh}}):i.showDetail&&i.visible?t(i.ApplyDetail,{attrs:{headerType:i.defaultHeaderType},on:{"update:visible":i._visibleChange}}):e._e()},Lo=[],Uo=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"mg-invoice-dialog",attrs:{visible:i.invoiceDialogVisible,width:"720px",title:i.$m("申请发票"),cancelText:i.$m("取消"),cancelBtnProps:i.cancelBtnProps,okBtnProps:i.okBtnProps,okText:i.$m("提交"),closable:!0},on:{"update:visible":i.onUpdateVisible,okClick:i.onSubmit,cancelClick:i.onClose,close:i.onClose}},[t(i.DialogItem,{staticClass:"dialog-item",attrs:{title:i.$m("发票类型")}},[t(i.RadioGroup,{attrs:{modelValue:i.invoiceType},on:{"update:modelValue":i.updateInvoiceType}},e._l(i.InvoiceItems,(function(e,a){return t(i.Radio,{key:"invoice_"+a,attrs:{label:e.label,value:e.value}})})),1)],1),i.invoiceType===i.InvoiceType.normal&&"ai"===i.invoiceBusiness?t(i.DialogItem,{staticClass:"dialog-item",attrs:{title:i.$m("抬头类型")}},[t(i.RadioGroup,{attrs:{modelValue:i.selfHeaderType},on:{"update:modelValue":i.updateHeaderType}},[t(i.Radio,{attrs:{value:i.HeaderType.personal,label:i.$m("个人")}}),t(i.Radio,{attrs:{value:i.HeaderType.enterprise,label:i.$m("公司")}})],1)],1):e._e(),t(i.ApplyForm,{ref:"applyFormRef",attrs:{invoiceType:i.invoiceType,headerType:i.selfHeaderType},on:{submitStatus:i.onSubmitStatus}}),t("div",{staticClass:"dialog-item__line"}),t(i.CheckBox,{attrs:{label:i.$m("我已确认以上信息填写无误"),modelValue:i.checked},on:{"update:modelValue":i.updateChecked}}),t("div",{staticClass:"dialog-item__warning"},[t("span",{staticClass:"dialog-item__warning__tip"},[t(i.WarningIcon,{attrs:{size:"16"}}),e._v(e._s(i.$m("电子发票仅可申请一次，请仔细核对，开票完成后，将发送至您留下的电子邮箱中。"))),e._e()],1)])],1)},qo=[],No=i("137d"),Go=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"radio-group"},[e._t("default")],2)},Ho=[];const Yo=()=>(Math.random()+(new Date).getTime()).toString(32).slice(0,8);var Zo=Object(s["defineComponent"])({__name:"RadioGroup",props:{modelValue:{type:[String,Number,Boolean]},name:null,validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(i.name?i.name:Yo()),n=e=>{t("update:modelValue",e),Object(s["nextTick"])(()=>t("change",e))};Object(s["provide"])("radioGroup",Object.assign(Object.assign({},Object(s["toRefs"])(i)),{changeEvent:n,name:a}));const o=Object(s["ref"])(!1),r=Object(s["inject"])("formItemInstance",null);return Object(s["watch"])(()=>i.modelValue,e=>{i.validateEvent&&r&&(o.value=r.value.exposed.checkValue(e))}),{__sfc:!0,props:i,emit:t,name:a,changeEvent:n,error:o,formItemInstance:r}}}),Wo=Zo,Jo=(i("585d"),Object(b["a"])(Wo,Go,Ho,!1,null,"4a29fef8",null)),Ko=Jo.exports,Xo=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("label",{class:["radio radio-size__middle",{"radio--checked":i.modelValue===e.value}]},[t("span",{staticClass:"radio__input"},[t("span",{staticClass:"radio__input__shape"}),t("input",{directives:[{name:"model",rawName:"v-model",value:i.modelValue,expression:"modelValue"}],ref:"radioRef",attrs:{name:i.name,type:"radio"},domProps:{value:e.value,checked:e._q(i.modelValue,e.value)},on:{click:function(e){e.stopPropagation()},change:function(t){i.modelValue=e.value}}})]),t("span",{staticClass:"radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[e._v(" "+e._s(e.label)+" ")]}))],2)])},es=[],ts=Object(s["defineComponent"])({__name:"Radio",props:{label:null,value:{type:[String,Number,Boolean]}},setup(e){const t=Object(s["inject"])("radioGroup"),i=Object(s["computed"])(()=>null===t||void 0===t?void 0:t.name.value),a=Object(s["computed"])({get(){return null===t||void 0===t?void 0:t.modelValue.value},set(e){null===t||void 0===t||t.changeEvent(e)}});return{__sfc:!0,radioGroup:t,name:i,modelValue:a}}}),is=ts,as=(i("5a8e"),Object(b["a"])(is,Xo,es,!1,null,"53b67d05",null)),ns=as.exports,os=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"dialog-item dialog-item__content"},e._l(i.formItems,(function(a,n){return t(i.DialogItem,{key:"form_item_"+n,staticClass:"dialog-item",attrs:{title:a.title}},e._l(a.items,(function(a,n){return t("div",{key:"dialog_item_"+n,staticClass:"company-items"},e._l(a,(function(e){return t(i.FormItem,{key:e.label,staticClass:"company-item",attrs:{label:e.label,rules:e.rules,showRequireAsterisk:e.showRequireAsterisk}},[t(e.component,{ref:e.ref,refInFor:!0,tag:"component",attrs:{modelValue:e.modelValue.value,placeholder:e.placeholder,clearable:e.clearable,disabled:e.disabled,validateEvent:i.fields.validateEvent.value,step:e.step},on:{"update:modelValue":t=>i.formSubmit.setModelValue(e.modelValue,t)}})],1)})),1)})),0)})),1)},ss=[],rs=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"form-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"title-label"}),e._v(" "+e._s(i.title)+" ")]),t("div",{staticClass:"item-content"},[e._t("default")],2)])},ls=[],cs=Object(s["defineComponent"])({__name:"DialogItem",props:{title:{default:""}},setup(e){const t=e,i=Object(s["computed"])(()=>t.title);return{__sfc:!0,props:t,title:i}}}),us=cs,ds=(i("ea52"),Object(b["a"])(us,rs,ls,!1,null,"1802f6c4",null)),ps=ds.exports;const vs=()=>{const e=e=>[{errorMsg:e,check:m["c"]}],t={required:[{errorMsg:Object(D["d"])("输入内容不能为空"),check:m["b"]}],taxCode:[{errorMsg:Object(D["d"])("请输入正确的税号"),check:m["d"]}],email:[{errorMsg:Object(D["d"])("请输入正确的电子邮箱"),check:m["a"]}],addressRequired:[{errorMsg:Object(D["d"])("请输入 %{count} 个字符以内注册地址",{count:l["t"]}),check:e=>e&&e.length<=l["t"]}],addressOptional:[{errorMsg:Object(D["d"])("最多可输入 %{count} 个字符",{count:l["t"]}),check:e=>!e||e&&e.length<=l["t"]}],idNumber:[{errorMsg:"请输入正确的身份证号",check:e=>{const t=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return t.test(e)}}]};return{rules:t,phoneCheck:e}},ms=()=>{const e=Object(s["ref"])(!1),t=Object(s["ref"])(""),i=Object(s["ref"])(""),a=Object(s["ref"])(""),n=Object(s["ref"])(""),o=Object(s["ref"])(""),r=Object(s["ref"])(""),c=Object(s["ref"])(""),u=Object(s["ref"])(""),d=Object(s["ref"])(""),p=Object(s["ref"])(l["l"]),v=Object(s["ref"])("");return{validateEvent:e,invoiceName:t,invoiceNumber:i,invoiceAddress:a,invoiceBank:n,invoiceBankAccount:o,invoiceRegTel:r,invoiceReceiver:c,invoiceTel:u,invoiceEmail:d,invoiceContent:p,invoiceMoney:v}},fs=(e,t)=>{const{rules:i,phoneCheck:a}=vs(),n=e=>e.filter(e=>!!e),o=Object(s["computed"])(()=>e.invoiceType),r=Object(s["computed"])(()=>o.value===l["r"].vat),c=Object(s["computed"])(()=>e.headerType===l["i"].personal),u={component:se,clearable:!0,disabled:!1,ref:Object(s["ref"])()},d=e=>Object.assign(Object.assign({},u),e),p=()=>d({label:Object(D["d"])("电子邮箱"),rules:i.email,modelValue:t.invoiceEmail,placeholder:Object(D["d"])("请填写收票人电子邮箱"),showRequireAsterisk:!0}),v=e=>[d({label:Object(D["d"])("发票抬头"),rules:i.required,modelValue:t.invoiceName,placeholder:e?Object(D["d"])("请填写您的姓名"):Object(D["d"])("请填写发票抬头"),showRequireAsterisk:!0}),d({label:e?Object(D["d"])("身份证号"):Object(D["d"])("税号"),rules:e?i.idNumber:i.taxCode,modelValue:t.invoiceNumber,placeholder:e?Object(D["d"])("请填写您的身份证号"):Object(D["d"])("请填写纳税人识别号"),showRequireAsterisk:!0,step:4})],m=e=>[d({label:Object(D["d"])("注册地址"),rules:e?i.addressRequired:i.addressOptional,modelValue:t.invoiceAddress,placeholder:e?Object(D["d"])("请填写注册地址"):Object(D["d"])("选填"),showRequireAsterisk:e}),d({label:Object(D["d"])("开户银行"),rules:n([e?i.required[0]:null]),modelValue:t.invoiceBank,placeholder:e?Object(D["d"])("请填写公司开户银行"):Object(D["d"])("选填"),showRequireAsterisk:e})],f=e=>{const o=[];return o.push(d({label:Object(D["d"])("银行账号"),rules:n([e?i.required[0]:null]),modelValue:t.invoiceBankAccount,placeholder:e?Object(D["d"])("请填写公司银行账号"):Object(D["d"])("选填"),showRequireAsterisk:e,step:4})),e&&o.push(d({label:Object(D["d"])("注册电话"),rules:a(Object(D["d"])("请输入正确的注册电话")),modelValue:t.invoiceRegTel,placeholder:Object(D["d"])("请填写公司注册电话"),showRequireAsterisk:!0})),o},_=()=>d({label:Object(D["d"])("收票人"),rules:i.required,modelValue:t.invoiceReceiver,placeholder:Object(D["d"])("请填写收票人姓名"),showRequireAsterisk:!0}),b=()=>d({label:Object(D["d"])("联系电话"),rules:a(Object(D["d"])("请输入正确的联系电话")),modelValue:t.invoiceTel,placeholder:Object(D["d"])("请填写收票人联系电话"),showRequireAsterisk:!0}),h=(e,t)=>{const i=[];return e&&i.push([_()]),i.push([b(),t]),i},g=(e,t)=>{const i=[];if(i.push(v(t)),!t){i.push(m(e));const t=f(e);t.length>0&&i.push(t)}return i},y=()=>[[{label:Object(D["d"])("发票内容"),rules:[],component:se,modelValue:Object(D["d"])(l["l"]),placeholder:Object(D["d"])(l["l"]),clearable:!0,showRequireAsterisk:!1,disabled:!0,ref:Object(s["ref"])()},{label:Object(D["d"])("发票金额"),rules:[],component:se,modelValue:t.invoiceMoney,placeholder:"",clearable:!0,showRequireAsterisk:!1,disabled:!0,ref:Object(s["ref"])()}]],C=Object(s["computed"])(()=>{const e=[];return j.value.forEach(t=>{t.items.map(t=>{t.forEach(t=>{t.showRequireAsterisk&&e.push(t)})})}),e}),O=Object(s["computed"])(()=>{const e=C.value.length,t=C.value.filter(e=>e.modelValue.value).length;return t===e}),j=Object(s["computed"])(()=>{const e=r.value,t=c.value,i=p();return[{title:t?Object(D["d"])("个人信息"):Object(D["d"])("公司信息"),items:g(e,t)},{title:Object(D["d"])("收票人信息"),items:h(e,i)},{title:Object(D["d"])("发票内容"),items:y()}]});return{formItems:j,submitStatus:O,allRequiredItems:C,isVat:r,isPersonal:c,filterItem:n}},_s=(e,t,i,a)=>{const n=(e,t)=>{e.value=t},o=()=>{let t=!0;return e.value.forEach(e=>{e.items.forEach(e=>{e.forEach(e=>{var i,a,n,o;if(null===(i=e.rules)||void 0===i?void 0:i.length){const i=null===(n=null===(a=e.ref)||void 0===a?void 0:a.value)||void 0===n?void 0:n[0],s=null===(o=null===i||void 0===i?void 0:i.checkValue)||void 0===o?void 0:o.call(i);s||(t=!1)}})})}),t},s=()=>{const e=o();if(!e)return void console.warn("check failed");const n=i.value,s={order_id:n.orderId,invoice_type:a.value,entity_id:n.entityId,entity_type:n.entityType,company:t.invoiceName.value,tax_id_no:t.invoiceNumber.value,register_addr:t.invoiceAddress.value,deposit_bank:t.invoiceBank.value,bank_account:t.invoiceBankAccount.value,register_phone:t.invoiceRegTel.value,receiver_name:t.invoiceReceiver.value,receiver_email:t.invoiceEmail.value,receiver_phone:t.invoiceTel.value};return Object(m["f"])(s)};return{setModelValue:n,checkForm:o,submit:s}};var bs=Object(s["defineComponent"])({__name:"ApplyForm",props:{invoiceType:null,headerType:null},emits:["submitStatus"],setup(e,{expose:t,emit:i}){const a=e,n=_e(),{invoiceInfo:o}=Object(r["f"])(n),l=ms(),{formItems:c,submitStatus:u}=fs(a,l),d=_s(c,l,o,a.invoiceType);return Object(s["watch"])(u,e=>{i("submitStatus",e)}),Object(s["watch"])(o,e=>{l.invoiceMoney.value=Object(m["j"])((null===e||void 0===e?void 0:e.amount)||(null===e||void 0===e?void 0:e.invoicePrice))},{immediate:!0,deep:!0}),t(Object.assign(Object.assign({},l),{submit:d.submit,checkForm:d.checkForm})),{__sfc:!0,props:a,emit:i,invoiceStore:n,invoiceInfo:o,fields:l,formItems:c,submitStatus:u,formSubmit:d,FormItem:qa,DialogItem:ps}}}),hs=bs,gs=(i("a587"),Object(b["a"])(hs,os,ss,!1,null,"18016a34",null)),ys=gs.exports,Cs=Object(s["defineComponent"])({__name:"ApplyInvoice",props:{token:{default:""},headerType:{default:"enterprise"}},emits:["close","update:visible"],setup(e,{emit:t}){const i=e,a=_e(),n=ve(),c=Object(s["ref"])(),u=Object(s["ref"])(!1),d=Object(s["ref"])(!1),p=Object(s["computed"])(()=>u.value&&d.value),v=Object(s["computed"])(()=>({size:"sm",disabled:!p.value})),m=Object(s["ref"])({size:"sm"}),f=Object(s["ref"])(l["r"].normal),_=Object(s["ref"])(l["i"].enterprise);Object(s["watch"])(()=>i.headerType,e=>{_.value=e},{immediate:!0});const{invoiceDialogVisible:b}=Object(r["f"])(a),h=Object(s["inject"])("toastManager"),g=Object(s["inject"])("invoiceBusiness");Object(s["onMounted"])(()=>{n.setToken(i.token)});const y=e=>{d.value=e},C=e=>{f.value=e,e===l["r"].vat&&(_.value=l["i"].enterprise)},O=e=>{_.value=e},j=e=>{t("update:visible",e),a.setInvoiceDialogVisible(e)},I=()=>{t("close"),j(!1)},w=e=>{j(e)},S=e=>{u.value=e},k=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var e,t;const i=null===(t=null===(e=c.value)||void 0===e?void 0:e.submit)||void 0===t?void 0:t.call(e);if(!i)return;i.invoice_type=f.value;const n={ai:{applyFunc:Bt["a"],getParams:e=>Object.assign(Object.assign({},e),{entity_id:a.invoiceInfo.entityId,title_type:_.value===l["i"].personal?1:2,entity_type:"user",name:e.company,receiver_phone:e.receiver_phone,receiver_email:e.receiver_email,id_number:e.tax_id_no})},seat:{applyFunc:me["c"],getParams:e=>Object.assign({},e)}},o=n[g];if(!o)return void console.warn("不存在的发票业务类型");const{applyFunc:s,getParams:r}=o,u=r(i);try{const e=yield s(u),t=null===e||void 0===e?void 0:e.code;if(!e||"OK"!==t)return void T(t);a.applySuccess()}catch(d){console.error(d),T()}})),T=e=>{const t=e?l["e"][e]:"";h.showDestructiveToast(`${Object(D["d"])("开票失败")}，${t||Object(D["d"])("请稍后重试")}`)};return{__sfc:!0,props:i,invoiceStore:a,commonStore:n,emit:t,applyFormRef:c,formSubmitStatus:u,checked:d,okStatus:p,okBtnProps:v,cancelBtnProps:m,invoiceType:f,selfHeaderType:_,invoiceDialogVisible:b,toastManager:h,invoiceBusiness:g,updateChecked:y,updateInvoiceType:C,updateHeaderType:O,_updateDialogVisible:j,onClose:I,onUpdateVisible:w,onSubmitStatus:S,onSubmit:k,applyFailed:T,$m:D["d"],WarningIcon:No["a"],MDialog:qi,RadioGroup:Ko,Radio:ns,ApplyForm:ys,DialogItem:ps,CheckBox:xi,Link:di,InvoiceType:l["r"],INVOICE_HELP_URL:l["k"],InvoiceItems:l["n"],HeaderType:l["i"]}}}),Os=Cs,js=(i("3833"),i("ec73"),Object(b["a"])(Os,Uo,qo,!1,null,"4603ad49",null)),Is=js.exports,ws=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.MDialog,{staticClass:"mg-invoice-apply-dialog",attrs:{width:"480px",visible:a.invoiceApplyDialogVisible},on:{"update:visible":a.onUpdateVisible,close:a.onClose},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"apply-footer"})]},proxy:!0}])},[t("img",{staticClass:"icon",attrs:{src:i("1265")}}),t("h2",{staticClass:"msg"},[e._v(e._s(a.$m("提交成功")))]),t("p",{staticClass:"msg-sub"},[e._v(e._s(a.$m("我们将在"))),t("em",{staticClass:"msg-em"},[e._v("7")]),e._v(e._s(a.$m("个工作日内发送至您的邮箱")))]),t(a.Button,{staticClass:"ok-btn",attrs:{size:"sm"},on:{click:a.onOk}},[e._v(e._s(a.$m("好的")))])],1)},Ss=[],ks=Object(s["defineComponent"])({__name:"ApplyStatus",emits:["close","update:visible","refresh"],setup(e,{emit:t}){const i=_e(),{invoiceApplyDialogVisible:a}=Object(r["f"])(i),n=e=>{t("update:visible",e),i.setInvoiceApplyDialogVisible(e)},o=()=>{t("refresh"),n(!1)},s=()=>{t("close"),n(!1)},l=e=>{n(e)};return{__sfc:!0,invoiceStore:i,emit:t,invoiceApplyDialogVisible:a,_updateDialogVisible:n,onOk:o,onClose:s,onUpdateVisible:l,$m:D["d"],MDialog:qi,Button:oi}}}),Ts=ks,xs=(i("1367"),Object(b["a"])(Ts,ws,Ss,!1,null,null,null)),Ds=xs.exports,Ps=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MDialog,{staticClass:"mg-invoice-detail-dialog",attrs:{width:"720px",title:"发票详情",okText:"确定",cancelText:"",visible:i.invoiceDetailDialogVisible},on:{"update:visible":i.onUpdateVisible,okClick:i.onClose,close:i.onClose},scopedSlots:e._u([{key:"footer",fn:function(){},proxy:!0}])},[t("div",{staticClass:"detail-title"},[e._v(" "+e._s(i.approvedTitle)+" "),t("div",{class:i.approvedInfo.class},[e._v(e._s(i.approvedInfo.text))])]),t("div",{staticClass:"detail-content"},e._l(i.detailInfo,(function(i,a){return t("div",{key:"items_"+a,staticClass:"section-items"},[t("section",{staticClass:"section-item"},[t("div",{staticClass:"section-title"},[e._v(e._s(i.title))]),t("div",{staticClass:"section-content"},e._l(i.items,(function(i,n){return t("div",{key:"items_"+a+"_section_"+n,staticClass:"content-items"},e._l(i,(function(i,o){return t("div",{key:"items_"+a+"_section_"+n+"_item_"+o,staticClass:"content-item"},[t("div",{staticClass:"content-title"},[e._v(e._s(i.title))]),t("div",{staticClass:"content-desc"},[e._v(" "+e._s(i.desc)+" ")])])})),0)})),0)]),t("div",{staticClass:"section-line"})])})),0)])},As=[],Qs=i("141d");function Ms(e,t,i){const a=Object(s["ref"])(""),n=Object(s["ref"])(""),r=Object(s["ref"])(""),c=Object(s["ref"])(""),u=Object(s["ref"])(""),d=Object(s["ref"])(""),p=Object(s["ref"])(""),v=Object(s["ref"])(""),m=Object(s["ref"])(""),f=Object(s["ref"])(),_=Object(s["computed"])(()=>e.value===l["i"].personal),b=()=>{f.value=t.value.amount},h=()=>{i.showDestructiveToast("获取发票信息失败，请稍后重试")},g=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{const t=yield Object(Qs["a"])({url:"/api/v1/credits_order/invoice",method:"GET",params:e});return t.data}catch(t){return console.error("获取个人发票详情失败:",t),null}})),y=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e=t.value;try{if(_.value){const t={entity_id:e.entityId,entity_type:"user",order_id:e.orderId},i=yield g(t),o=null===i||void 0===i?void 0:i.data;if(!o)return void h();a.value=o.name||"",n.value=o.id_number||"",v.value=o.receiver_phone||"",m.value=o.receiver_email||"",f.value=e.invoicePrice}else{const t=yield Object(me["h"])({order_id:e.orderId,entity_id:e.entityId,entity_type:e.entityType});if(!t||"OK"!==t.code)return void h();const i=t.data;a.value=i.company,n.value=i.tax_id_no,r.value=i.register_addr,c.value=i.deposit_bank,u.value=i.bank_account,d.value=i.register_phone,p.value=i.receiver_name,v.value=i.receiver_phone,m.value=i.receiver_email,f.value=e.amount}}catch(i){console.error(i),h()}}));return{invoiceName:a,invoiceNumber:n,invoiceAddress:r,invoiceBank:c,invoiceBankAccount:u,invoiceRegTel:d,invoiceReceiver:p,invoiceTel:v,invoiceEmail:m,invoiceMoney:f,isPersonal:_,initMoney:b,init:y,queryFailed:h}}var Es=Object(s["defineComponent"])({__name:"ApplyDetail",props:{headerType:{default:"enterprise"}},emits:["close","update:visible"],setup(e,{emit:t}){const i=e,a=_e(),{invoiceDetailDialogVisible:n,invoiceInfo:o,applyStatus:c}=Object(r["f"])(a),u=Object(s["inject"])("toastManager"),d=Object(s["computed"])(()=>o.value.invoiceType||l["r"].normal),p=Object(s["computed"])(()=>l["s"][d.value]),v=Object(s["computed"])(()=>{const e=c.value,t=l["p"][e];return{class:"detail-title__label "+t,text:l["m"][e]}}),f=Object(s["computed"])(()=>i.headerType),{invoiceName:_,invoiceNumber:b,invoiceAddress:h,invoiceBank:g,invoiceBankAccount:y,invoiceRegTel:C,invoiceReceiver:O,invoiceTel:j,invoiceEmail:I,invoiceMoney:w,isPersonal:S,initMoney:k,init:T}=Ms(f,o,u),x=e=>e||l["j"],P=e=>e.filter(e=>!!e),A=Object(s["computed"])(()=>{const e=d.value===l["r"].vat,t={title:"电子邮件：",desc:x(I.value)};return[{title:S.value?"个人信息":"公司信息",items:S.value?[[{title:"发票抬头：",desc:x(_.value)},{title:"身份证号：",desc:x(Object(m["p"])(b.value,4))}]]:[[{title:"发票抬头：",desc:x(_.value)},{title:"税号：",desc:x(Object(m["p"])(b.value,4))}],[{title:"注册地址：",desc:x(h.value)},{title:"开户银行：",desc:x(g.value)}],P([{title:"银行账号：",desc:x(Object(m["p"])(y.value,4))},e?{title:"注册电话：",desc:x(C.value)}:null])]},{title:"收票人信息",items:P([e?[{title:"收票人：",desc:x(O.value)},t]:null,P([{title:"联系电话：",desc:x(j.value)},e?null:t])])},{title:"发票内容",items:[[{title:"发票内容：",desc:Object(D["d"])(l["l"])},{title:"发票金额：",desc:x(Object(m["j"])(w.value))}]]}]}),Q=e=>{t("update:visible",e),a.setInvoiceDetailDialogVisible(e)},M=()=>{t("close"),Q(!1)},E=e=>{Q(e)};return Object(s["onMounted"])(()=>{k(),T()}),{__sfc:!0,invoiceStore:a,props:i,emit:t,invoiceDetailDialogVisible:n,invoiceInfo:o,applyStatus:c,toastManager:u,invoiceType:d,approvedTitle:p,approvedInfo:v,headerTypeRef:f,invoiceName:_,invoiceNumber:b,invoiceAddress:h,invoiceBank:g,invoiceBankAccount:y,invoiceRegTel:C,invoiceReceiver:O,invoiceTel:j,invoiceEmail:I,invoiceMoney:w,isPersonal:S,initMoney:k,init:T,handleStr:x,filterItem:P,detailInfo:A,_updateDialogVisible:Q,onClose:M,onUpdateVisible:E,MDialog:qi}}}),Vs=Es,Bs=(i("3858"),Object(b["a"])(Vs,Ps,As,!1,null,"88cd6200",null)),$s=Bs.exports,Rs=Object(s["defineComponent"])({__name:"mg-invoice-dialog",props:{visible:{type:Boolean,default:!1},info:null,toastManager:null,route:null,position:null,invoiceBusiness:{default:"seat"},invoicePrice:null},emits:["close","update:visible","refresh"],setup(e,{emit:t}){const i=e,a=_e(),n=ve(),o=c(i.toastManager||l["g"],i.position),{applyStatus:u}=Object(r["f"])(a),d=Object(s["computed"])(()=>i.visible),p=Object(s["computed"])(()=>[l["o"].unapplied].includes(u.value)),v=Object(s["computed"])(()=>[l["o"].submit].includes(u.value)),m=Object(s["computed"])(()=>[l["o"].applied,l["o"].approved].includes(u.value)),f=Object(s["computed"])(()=>"ai"===i.invoiceBusiness?l["i"].personal:l["i"].enterprise),_=e=>{t("update:visible",e)},b=()=>{a.reset()},h=()=>{const e=i.info||{};n.initInfo({token:e.token,lanhuHost:e.lanhuHost}),a.setInvoiceInfo(e),Object(me["m"])(),g()},g=()=>{switch(u.value){case l["o"].unapplied:a.setInvoiceDialogVisible(!0);break;case l["o"].submit:a.setInvoiceApplyDialogVisible(!0);break;case l["o"].applied:case l["o"].approved:a.setInvoiceDetailDialogVisible(!0);break;default:break}},y=()=>{t("refresh")};return Object(s["watch"])(()=>i.visible,e=>{_(e),e?h():b()},{immediate:!0}),Object(s["provide"])("toastManager",o),Object(s["provide"])("invoiceBusiness",i.invoiceBusiness),{__sfc:!0,props:i,invoiceStore:a,commonStore:n,emit:t,toastManager:o,applyStatus:u,visible:d,showApply:p,showSubmit:v,showDetail:m,defaultHeaderType:f,_visibleChange:_,closeReset:b,init:h,initDialog:g,refresh:y,ApplyInvoice:Is,ApplyStatus:Ds,ApplyDetail:$s}}}),zs=Rs,Fs=Object(b["a"])(zs,Fo,Lo,!1,null,null,null),Ls=Fs.exports,Us=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return e.visible?t(i.MDialog,{staticClass:"payment-dialog",attrs:{visible:e.visible,width:"992px",title:i.dialogTitle,closable:"",noFooter:""},on:{"update:visible":t=>e.$emit("update:visible",t),close:i.onClose}},[t(i.Steps,{attrs:{current:i.currentStep,steps:i.steps}}),0===i.currentStep?t(i.Order):e._e(),1===i.currentStep?t(i.Pay):e._e(),2===i.currentStep?t(i.Result,{on:{close:i.handleCloseDialog}}):e._e()],1):e._e()},qs=[],Ns=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"order-container"},[t("div",{staticClass:"order-layout"},[t("div",{staticClass:"order-column"},[t(i.Plan)],1),t("div",{staticClass:"order-divider"}),t("div",{staticClass:"order-column"},[t(i.Bill)],1)])])},Gs=[],Hs=function(){var e,t=this,i=t._self._c,a=t._self._setupProxy;return i("div",{staticClass:"plan-container"},[i("h3",{staticClass:"plan-title"},[t._v(t._s(a.$m("选择套餐")))]),i("div",{staticClass:"plan-list"},t._l(a.planList,(function(e,n){var o,s,r,l,c;return i("div",{key:e.package_id},[i(a.Tooltip,{attrs:{placement:"top",offset:-100,enable:(null===e||void 0===e?void 0:e.isDowngrade)||(null===e||void 0===e?void 0:e.isSameLevel)},scopedSlots:t._u([{key:"content",fn:function(){return[i("p",[t._v(t._s(a.$m("当前服务期结束后可购买")))])]},proxy:!0}],null,!0)},[i("div",{staticClass:"plan-item",class:{"plan-item-active":a.selectedPlanIndex===n,"plan-item-disabled":(null===e||void 0===e?void 0:e.isSameLevel)||(null===e||void 0===e?void 0:e.isDowngrade)},on:{click:function(e){return a.selectPlan(n)}}},[e.is_subscribe?i("div",{staticClass:"current-subscription-badge"},[t._v(t._s(a.$m("服务中")))]):t._e(),"year"!==a.currentCycle||a.isUpgrade?t._e():i("div",{staticClass:"discount-badge discount-badge-plan"},[t._v(t._s(a.$m("限时 8 折")))]),i("div",{staticClass:"plan-name"},[t._v(t._s(a.$m(e.package_name)))]),i("div",[a.getPlanSellingByCycle(e)?i("div",{staticClass:"plan-price"},[a.getIsDiscount(e)?i("div",{staticClass:"currency-discount"},[t._v(" ¥"+t._s(null===(o=a.getPlanSellingByCycle(e))||void 0===o?void 0:o.price)+"/"+t._s(a.getCycleText((null===(s=a.getPlanSellingByCycle(e))||void 0===s?void 0:s.selling_cycle)||""))+" ")]):t._e(),i("div",{staticClass:"currency"},[t._v(" ¥"+t._s(null===(r=a.getPlanSellingByCycle(e))||void 0===r?void 0:r.discount_price)+"/"+t._s(a.getCycleText((null===(l=a.getPlanSellingByCycle(e))||void 0===l?void 0:l.selling_cycle)||""))+" ")])]):t._e(),a.getPlanSellingByCycle(e)?i("div",{staticClass:"plan-points"},[t._v(" "+t._s(`${null===(c=a.getPlanSellingByCycle(e))||void 0===c?void 0:c.credits_num}${a.$m("积分/月")}`)+" ")]):t._e()])])])],1)})),0),a.isUpgrade?i("div",[i("h4",{staticClass:"description-title"},[t._v(t._s(a.$m("服务到期时间")))]),i("div",{staticClass:"billing-cycle-option billing-cycle-option--active"},[t._v(" "+t._s(null===(e=a.priceInfo)||void 0===e?void 0:e.end_time)+" "),i(a.Tooltip,{attrs:{position:"bottom",offset:12},scopedSlots:t._u([{key:"content",fn:function(){return[i("p",[t._v(t._s(a.$m("当前套餐的服务到期时间")))])]},proxy:!0}],null,!1,1087160522)},[i("InfomationIcon",{attrs:{size:"16"}})],1)],1)]):i("div",[i("h4",{staticClass:"description-title"},[t._v(t._s(a.$m("购买时长")))]),i("div",{staticClass:"billing-cycle-selector"},[i("div",{staticClass:"billing-cycle-option",class:{"billing-cycle-option--active":"year"===a.currentCycle},on:{click:function(e){return a.switchCycle("year")}}},[t._v(" "+t._s(a.$m("1 年"))+" "),i("div",{staticClass:"discount-badge"},[t._v(t._s(a.$m("限时 8 折")))])]),i("div",{staticClass:"billing-cycle-option",class:{"billing-cycle-option--active":"month"===a.currentCycle},on:{click:function(e){return a.switchCycle("month")}}},[t._v(" "+t._s(a.$m("1 月"))+" ")])])]),i("div",{staticClass:"plan-description"},[i("h4",{staticClass:"description-title"},[t._v(t._s(a.$m("套餐说明")))]),a.hasValidSelectedPlan?i("ul",{staticClass:"description-list"},[i("li",[t._v(t._s(a.subscribeDesc))]),i("li",[t._v(t._s(a.$m("每月获得积分仅在当月有效，请及时使用")))])]):t._e()])])},Ys=[],Zs=Object(s["defineComponent"])({__name:"Plan",setup(e){const t=Object(s["computed"])(()=>he().priceInfo),{currentCycle:i,switchCycle:a,getCycleText:n}=Ft(),{planList:o,selectedPlanIndex:r,selectedPlan:l,selectPlan:c}=Ut(),{hasValidSelectedPlan:u,subscribeDesc:d}=Lt(l),{isUpgrade:p}=Gt(),v=e=>(null===e||void 0===e?void 0:e.selling)&&0!==e.selling.length?e.selling.find(e=>e.selling_cycle===i.value):null,m=e=>{const t=v(e);return!!t&&t.discount_rate<100};return{__sfc:!0,priceInfo:t,currentCycle:i,switchCycle:a,getCycleText:n,planList:o,selectedPlanIndex:r,selectedPlan:l,selectPlan:c,hasValidSelectedPlan:u,subscribeDesc:d,isUpgrade:p,getPlanSellingByCycle:v,getIsDiscount:m,$m:D["d"],Tooltip:$}}}),Ws=Zs,Js=(i("13b4"),Object(b["a"])(Ws,Hs,Ys,!1,null,"4e5618cf",null)),Ks=Js.exports,Xs=function(){var e,t,i,a,n,o=this,s=o._self._c,r=o._self._setupProxy;return s("div",{staticClass:"bill-container"},[s("h3",{staticClass:"bill-title"},[o._v(o._s(r.$m("订单详情")))]),s("div",{staticClass:"user-info-card"},[s("div",{staticClass:"user-info"},[r.aiOrderStore.userInfo.avatar?s("img",{staticClass:"user-avatar",attrs:{src:r.aiOrderStore.userInfo.avatar,alt:r.$m("用户头像")}}):s("div",{staticClass:"user-avatar-name user-avatar bg-g-blue"},[o._v(" "+o._s(r.aiOrderStore.userInfo.userName.charAt(0).toUpperCase())+" ")]),s("div",{staticClass:"user-details"},[s("div",{staticClass:"user-name"},[o._v(o._s(r.aiOrderStore.userInfo.userName))]),s("div",{staticClass:"user-id"},[o._v("ID: "+o._s(r.aiOrderStore.userInfo.userId))])])]),s("div",{staticClass:"subscription-info"},[s("div",{staticClass:"info-row"},[s("span",{staticClass:"info-label"},[o._v(o._s(r.$m("服务开始时间")))]),s("span",{staticClass:"info-value"},[o._v(o._s(null===(e=r.aiOrderStore.priceInfo)||void 0===e?void 0:e.start_time))])]),s("div",{staticClass:"info-row"},[s("span",{staticClass:"info-label"},[o._v(o._s(r.$m("服务结束时间")))]),s("span",{staticClass:"info-value"},[o._v(o._s(null===(t=r.aiOrderStore.priceInfo)||void 0===t?void 0:t.end_time))])])])]),s("div",{staticClass:"order-amount-card"},[s("div",{staticClass:"amount-row"},[s("div",{staticClass:"amount-label-container"},[s("span",{staticClass:"amount-label"},[o._v(o._s(r.$m("订单金额")))]),r.isUpgrade?s("span",{staticClass:"amount-label-tip"},[o._v(o._s(r.$m("明细")))]):o._e(),r.isUpgrade?s(r.Tooltip,{attrs:{placement:"top",offset:40},scopedSlots:o._u([{key:"content",fn:function(){return[s("p",[o._v(o._s(r.$m("升级订单金额=套餐月价格差*购买月数")))]),s("p",[o._v(o._s(r.$m("当前订单金额"))+"="+o._s(r.orderAmountTips))])]},proxy:!0}],null,!1,338442202)},[s("InfomationIcon",{attrs:{size:"16"}})],1):o._e()],1),s("div",[r.isDiscount?s("span",{staticClass:"amount-value amount-value-discount"},[o._v(" ¥"+o._s(null===(i=r.aiOrderStore)||void 0===i||null===(a=i.selectedPackage)||void 0===a?void 0:a.price)+" ")]):o._e(),s("span",{staticClass:"amount-value"},[o._v("¥"+o._s(null===(n=r.aiOrderStore.priceInfo)||void 0===n?void 0:n.price))])])]),s("div",{staticClass:"amount-tip"},[o._v(o._s(r.$m("付款成功后，可在 「个人设置-订单列表」 开具发票")))])]),s(r.Tooltip,{staticStyle:{display:"block"},attrs:{position:"top",content:r.$m("请勾选并阅读服务协议"),offset:-20,enable:!r.userIsAgreement||!r.agreementChecked,Tooltip:""}},[s(r.Button,{staticClass:"order-button",class:{"order-button-disabled":!r.isEnablePlaceBtn},on:{click:r.placeOrder}},[o._v(" "+o._s(r.isUpgrade?r.$m("立即升级"):r.$m("立即支付"))+" ")])],1),s("div",{staticClass:"agreement"},[s(r.Checkbox,{attrs:{label:r.$m("我已充分阅读并同意"),modelValue:r.agreementChecked},on:{"update:modelValue":r.handleAgreementChange}}),s(r.Link,{attrs:{type:"primary",href:"https://static.mastergo.com/static/ai/MasterGo%20AI%E4%BD%BF%E7%94%A8%E9%A1%BB%E7%9F%A5V1.1%E7%89%88%E6%9C%AC.pdf",target:"_blank"}},[o._v(" "+o._s(r.$m("《服务使用须知》"))+" ")])],1),s(r.AgreementDialog,{attrs:{visible:r.agreementDialogVisible},on:{agree:r.handleAgreementAgree,cancel:r.handleAgreementCancel}}),s(r.OrderTip,{attrs:{visible:r.orderTipVisible,"order-id":r.unpaidOrderId},on:{"update:visible":e=>r.orderTipVisible=e,"continue-order":r.createOrder}})],1)},er=[],tr=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.MgDialog,{staticClass:"order-tip-dialog",attrs:{"z-index":100200,visible:e.visible,width:"420px",title:i.title,closable:!1,cancelText:i.cancelText,cancelBtnProps:i.cancelBtnProps,okText:i.okText,okBtnProps:i.okBtnProps},on:{"update:visible":i.onUpdateVisible,close:i.onClose,cancelClick:i.onCancelClick,okClick:i.onOkClick}},[t("p",{staticClass:"tip-text"},[e._v(e._s(i.$m("您已有一笔待支付订单，请选择继续下单，或前往支付已有订单。需注意，选择继续下单将关闭已有订单。")))])])},ir=[],ar=Object(s["defineComponent"])({__name:"OrderTip",props:{visible:{type:Boolean},orderId:null},emits:["update:visible","continue-order"],setup(e,{emit:t}){const i=e,a=Object(s["ref"])(Object(D["d"])("下单提醒")),n=Object(s["ref"])(Object(D["d"])("继续下单")),r=Object(s["ref"])(Object(D["d"])("前往支付")),l=Object(s["ref"])({size:"sm"}),c=Object(s["ref"])({size:"sm"}),u=he(),d=e=>{t("update:visible",e)},p=()=>{u.setCurrentStep(1),m()},v=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){if(!i.orderId)return!1;const e={order_id:i.orderId,entity_id:u.userInfo.userId,entity_type:"user"};yield Object(me["p"])(e),t("continue-order"),m()})),m=()=>{t("update:visible",!1)};return{__sfc:!0,props:i,emit:t,title:a,okText:n,cancelText:r,okBtnProps:l,cancelBtnProps:c,aiOrderStore:u,onUpdateVisible:d,onCancelClick:p,onOkClick:v,onClose:m,$m:D["d"],MgDialog:qi}}}),nr=ar,or=(i("ee59"),i("26af"),Object(b["a"])(nr,tr,ir,!1,null,"a98104d0",null)),sr=or.exports,rr=Object(s["defineComponent"])({__name:"Bill",emits:["order-success"],setup(e,{emit:t}){const i=he(),a=Object(s["computed"])(()=>i.selectedPlan),n=Object(s["ref"])(!1),r=Object(s["ref"])(""),{userIsAgreement:l,agreementChecked:c,agreementDialogVisible:u,handleAgreementAgree:d,handleAgreementChange:p,handleAgreementCancel:v,checkAgreementBeforeAction:m}=zt(),{createOrder:f,orderAmountTips:_}=qt(),{isUpgrade:b}=Gt(),h=Object(s["computed"])(()=>c.value&&l.value&&null!==a.value),g=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){if(!m())return;const e=yield f();(null===e||void 0===e?void 0:e.hasUnpaidOrder)&&(null===e||void 0===e?void 0:e.unpaidOrderId)&&(r.value=e.unpaidOrderId,n.value=!0)})),y=Object(s["computed"])(()=>{var e,t;return!(!i.selectedPackage||!i.priceInfo)&&((null===(e=i.selectedPackage)||void 0===e?void 0:e.price)>(null===(t=i.priceInfo)||void 0===t?void 0:t.price)&&i.selectedPackage.discount_rate<100)});return{__sfc:!0,aiOrderStore:i,selectedPlan:a,orderTipVisible:n,unpaidOrderId:r,emit:t,userIsAgreement:l,agreementChecked:c,agreementDialogVisible:u,handleAgreementAgree:d,handleAgreementChange:p,handleAgreementCancel:v,checkAgreementBeforeAction:m,createOrder:f,orderAmountTips:_,isUpgrade:b,isEnablePlaceBtn:h,placeOrder:g,isDiscount:y,$m:D["d"],Link:di,Checkbox:xi,Button:oi,AgreementDialog:sa,Tooltip:$,OrderTip:sr}}}),lr=rr,cr=(i("9341"),Object(b["a"])(lr,Xs,er,!1,null,"90029078",null)),ur=cr.exports,dr=Object(s["defineComponent"])({__name:"Order",setup(e){const t=he();return{__sfc:!0,aiOrderStore:t,Plan:Ks,Bill:ur}}}),pr=dr,vr=(i("500c7"),Object(b["a"])(pr,Ns,Gs,!1,null,"309f903a",null)),mr=vr.exports,fr=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"pay-container"},[t(i.BillDetail),t(i.PayByQR)],1)},_r=[],br=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"bill-detail-container"},[t("div",{staticClass:"title"},[e._v(e._s(i.$m("订单详情")))]),t("div",{staticClass:"order-detail-container"},[t("div",{staticClass:"detail-items-wrapper"},e._l(i.billItems,(function(i,a){return t("div",{key:a,staticClass:"detail-item"},[t("span",{staticClass:"label"},[e._v(e._s(i.label)+"：")]),t("span",[e._v(e._s(i.isPrice?"¥"+i.value:i.value.toString()||"-"))])])})),0)])])},hr=[],gr=Object(s["defineComponent"])({__name:"BillDetail",setup(e){const t=he(),i=Object(s["computed"])(()=>{const e=t.currentOrder;if(!e)return[];const{cycle_count:i="",start_time:a="",end_time:n="",order_name:o="",price:s=""}=e;return[{label:Object(D["d"])("订购商品"),value:o},{label:Object(D["d"])("订单类型"),value:Object(D["d"])("线上开通")},{label:Object(D["d"])("购买时长"),value:Object(D["d"])("%{count}月",{count:i})},{label:Object(D["d"])("预期生效时间"),value:Object(D["d"])("付款后立即生效")},{label:Object(D["d"])("订单金额"),value:s,isPrice:!0},{label:Object(D["d"])("服务开始时间"),value:a},{label:Object(D["d"])("服务结束时间"),value:n}]});return{__sfc:!0,aiOrderStore:t,billItems:i,$m:D["d"]}}}),yr=gr,Cr=(i("11e8"),Object(b["a"])(yr,br,hr,!1,null,"1caff151",null)),Or=Cr.exports,jr=function(){var e,t=this,a=t._self._c,n=t._self._setupProxy;return a("div",{staticClass:"pay-qr-container"},[a("h3",[t._v(t._s(n.$m("扫码支付")))]),a("div",{staticClass:"pay-online-container"},[a("div",{staticClass:"qrcode-container"},[n.payChannel===n.PayChannel.Alipay&&n.alipayQrcodeUrl?a("iframe",{attrs:{src:n.alipayQrcodeUrl,frameborder:"0",width:"186px",height:"186px",scrolling:"no"}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:n.payChannel===n.PayChannel.Wechat&&n.wechatQrcodeUrl,expression:"payChannel === PayChannel.Wechat && wechatQrcodeUrl"}],ref:"wechatQrCodeRef",attrs:{id:"wechat-qr-code"}}),n.showPayTimeOut?a("div",{staticClass:"time-out-container"},[a("div",{staticClass:"text"},[t._v(t._s(n.$m("二维码生成失败")))]),a("div",{staticClass:"text"},[t._v(t._s(n.$m("请刷新后重新扫描")))]),a("img",{staticClass:"img",attrs:{src:i("2ae0"),alt:"刷新"},on:{click:n.refreshQrCodeHandler}})]):t._e(),n.qrcodeLoading?a("div",{staticClass:"qrcode-loading"},[a(n.LoadingIcon,{staticClass:"icon-loading",attrs:{size:"24"}})],1):t._e()]),a("div",{staticClass:"pay-detail"},[a("div",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(n.$m("在线支付")))]),a("span",{staticClass:"tip-recommand"},[t._v(t._s(n.$m("推荐")))])]),a("div",{staticClass:"pay-method-online"},[a("div",{staticClass:"pay-method-item",class:{active:n.payChannel===n.PayChannel.Alipay},on:{click:function(e){return n.handlePayChannelChange(n.PayChannel.Alipay)}}},[a("img",{staticClass:"icon",attrs:{src:i("26ca")}}),a("span",[t._v(t._s(n.$m("支付宝支付")))])]),a("div",{staticClass:"pay-method-item",class:{active:n.payChannel===n.PayChannel.Wechat},on:{click:function(e){return n.handlePayChannelChange(n.PayChannel.Wechat)}}},[a("img",{staticClass:"icon",attrs:{src:i("96b8")}}),a("span",[t._v(t._s(n.$m("微信支付")))])])]),a("div",{staticClass:"title pay-amount"},[a("span",{staticClass:"text"},[t._v(t._s(n.$m("应付金额")))]),a("span",{staticClass:"num"},[t._v(t._s(n.formatPrice(null===(e=n.orderDetail)||void 0===e?void 0:e.price)))])]),a("div",{staticClass:"remain-time"},[a("span",[t._v(t._s(n.$m("剩余支付时间")))]),a("span",{staticClass:"time"},[t._v(t._s(n.formatTime(n.timeCountDown)))])])])])])},Ir=[];function wr(){const e=e=>{if(!e)return"-";let t=String(e);return t=t.replace(/\B(?=(\d{3})+(?!\d))/g,","),"¥"+t},t=e=>{const t=parseInt(String(e)),i=Math.floor(t/3600),a=Math.floor(t%3600/60),n=t%60;return Object(D["d"])("%{hours}时 %{minutes}分 %{sec}秒",{hours:i,minutes:a,sec:n})},i=e=>{let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=i.length;for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*a));return t};return{formatPrice:e,formatTime:t,generateRandomString:i}}function Sr(e){const t=Object(s["ref"])(0);let i=null;const a=a=>{const n=parseInt(String(a))||0,o=(new Date).getTime()+1e3*n;i&&clearInterval(i),i=setInterval(()=>{t.value=Math.round((o-(new Date).getTime())/1e3),t.value<0&&(clearInterval(i),e(),t.value=0)},1e3)},n=()=>{i&&(clearInterval(i),i=null)};return Object(s["onBeforeUnmount"])(()=>{n()}),{timeCountDown:t,startCountdown:a,stopCountdown:n}}function kr(){var e;const t=he(),i=Object(s["computed"])(()=>{var e;return(null===(e=t.currentOrder)||void 0===e?void 0:e.order_id)||t.createdOrderId}),a=Object(s["computed"])(()=>t.userInfo),n={order_id:i.value,entity_id:null===(e=a.value)||void 0===e?void 0:e.userId,entity_type:"user"};return Object(Bt["f"])(n)}function Tr(e,t){const i=he(),a=Object(s["ref"])({}),n=()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){try{const t=yield kr();if(t.data)return a.value=t.data,i.setCurrentOrder(t.data),t.data.pay_channel&&e?e(t.data.pay_channel):e&&e(l["z"].Alipay),t.data.remained_due_pay_time||0}catch(n){console.error("获取订单详情失败:",n),t&&t()}return 0}));return{orderDetail:a,getOrderDetailData:n}}function xr(e,t){const i=Object(s["inject"])("updateIsPayResume"),a=Object(s["inject"])("sensorInfo"),n=he(),r=Object(s["computed"])(()=>n.userInfo),c=Object(s["computed"])(()=>n.selectedPlan),u=Object(s["computed"])(()=>{var e;return null===(e=n.currentOrder)||void 0===e?void 0:e.order_id}),d=Object(s["ref"])(l["z"].Alipay),p=Object(s["ref"])(""),v=Object(s["ref"])(""),f=Object(s["ref"])(),_=Object(s["ref"])(),b=Object(s["ref"])(!1),h=Object(s["ref"])(!1),g=Object(s["ref"])(150),y=Object(s["ref"])(0),C=Object(s["ref"])(!1),O=Object(s["computed"])(()=>{var e;return{text:v.value,width:185,height:185,colorDark:"#000000",colorLight:"#ffffff",correctLevel:null===(e=null===Da.a||void 0===Da.a?void 0:Da.a.CorrectLevel)||void 0===e?void 0:e.H}}),j=(e,t)=>{t&&t.order_id?e===d.value&&p.value&&e===l["z"].Alipay||e===d.value&&v.value&&e===l["z"].Wechat||(b.value=!0,d.value=e,C.value=!0,T(e,t)):console.warn("订单详情不完整，无法切换支付渠道")},I=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var t;const i={order_id:u.value,entity_id:null===(t=r.value)||void 0===t?void 0:t.userId,entity_type:"user",pay_channel:l["z"].Alipay};try{const e=yield Object(Bt["g"])(i);if(!e.data||!e.data.url||"string"!==typeof e.data.url)return void(h.value=!0);p.value=e.data.url}catch(a){return console.error("获取支付宝二维码失败:",a),void(h.value=!0)}finally{b.value=!1}x(e)})),w=()=>{Object(s["nextTick"])(()=>{f.value&&(_.value.innerHTML=""),f.value=new Da.a(_.value,O.value)})},S=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var t;const i={order_id:u.value,entity_id:null===(t=r.value)||void 0===t?void 0:t.userId,entity_type:"user",pay_channel:l["z"].Wechat};try{const e=yield Object(Bt["g"])(i);if(!e.data||!e.data.url||"string"!==typeof e.data.url)return void(h.value=!0);v.value=e.data.url}catch(a){return console.error("获取微信二维码失败:",a),void(h.value=!0)}finally{b.value=!1}x(e),w()})),k=e=>{h.value=!1,g.value=150,y.value=0,d.value===l["z"].Alipay?I(e):S(e)},T=(e,t)=>{p.value="",v.value="",h.value=!1,e===l["z"].Alipay?I(t):S(t)},x=s=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){var o,r,l;if(g.value=g.value-1,g.value<1)return p.value="",v.value="",h.value=!0,void(y.value&&clearTimeout(y.value));if(null===s||void 0===s?void 0:s.order_id)try{const d=yield kr(),p=null===(o=null===d||void 0===d?void 0:d.data)||void 0===o?void 0:o.pay_state;p===gt.Success?(n.setPayStatus("success"),n.setCurrentStep(2),i(!1),m["o"].track("business_buy_success",{action_detail:$t[c.value.package_name],action_parameter0:null!==(r=null===a||void 0===a?void 0:a.activeEntry)&&void 0!==r?r:"rightTop",action_parameter1:u.value,action_parameter2:null===(l=d.data)||void 0===l?void 0:l.price}),e&&e(),D()):p===gt.Pending?(n.setCurrentStep(1),i(!0),D(),y.value=window.setTimeout(()=>{x(s)},2e3)):(n.setPayStatus("failure"),n.setCurrentStep(2),t&&t(),D())}catch(d){console.warn("检查支付状态失败:",d)}})),D=()=>{clearTimeout(y.value),y.value=null};return Object(s["onBeforeUnmount"])(()=>{D()}),{payChannel:d,alipayQrcodeUrl:p,wechatQrcodeUrl:v,wechatQrcode:f,wechatQrCodeRef:_,qrcodeLoading:b,showPayTimeOut:h,wechatQrCodeConfig:O,onPayChannelChange:j,handleGetQrcodeData:T,refreshQrCode:k,cleanupTimers:D}}var Dr=Object(s["defineComponent"])({__name:"PayByQR",emits:["paySuccess","payFailure","payTimeout"],setup(e,{emit:t}){const{formatPrice:i,formatTime:a}=wr(),{timeCountDown:n,startCountdown:r,stopCountdown:c}=Sr(()=>{t("payTimeout")}),{orderDetail:u,getOrderDetailData:d}=Tr(e=>{u.value&&u.value.total_price&&h(e,u.value)},()=>{t("payFailure")}),{payChannel:p,alipayQrcodeUrl:v,wechatQrcodeUrl:m,wechatQrCodeRef:f,qrcodeLoading:_,showPayTimeOut:b,onPayChannelChange:h,refreshQrCode:g,cleanupTimers:y}=xr(()=>{t("paySuccess")},()=>{t("payFailure")}),C=e=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){h(e,u.value)})),O=()=>{g(u.value)};return Object(s["onMounted"])(()=>Object(o["__awaiter"])(this,void 0,void 0,(function*(){const e=yield d();C(l["z"].Alipay),e>0&&r(e)}))),Object(s["onBeforeUnmount"])(()=>{c(),y()}),{__sfc:!0,emit:t,formatPrice:i,formatTime:a,timeCountDown:n,startCountdown:r,stopCountdown:c,orderDetail:u,getOrderDetailData:d,payChannel:p,alipayQrcodeUrl:v,wechatQrcodeUrl:m,wechatQrCodeRef:f,qrcodeLoading:_,showPayTimeOut:b,onPayChannelChange:h,refreshQrCode:g,cleanupTimers:y,handlePayChannelChange:C,refreshQrCodeHandler:O,$m:D["d"],LoadingIcon:Va,PayChannel:l["z"]}}}),Pr=Dr,Ar=(i("cbb5"),Object(b["a"])(Pr,jr,Ir,!1,null,"62d8f12a",null)),Qr=Ar.exports,Mr=Object(s["defineComponent"])({__name:"Pay",setup(e){return{__sfc:!0,BillDetail:Or,PayByQR:Qr}}}),Er=Mr,Vr=(i("adbb"),Object(b["a"])(Er,fr,_r,!1,null,"337d7760",null)),Br=Vr.exports,$r=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{staticClass:"ai-payment-result"},[t("div",{staticClass:"ai-payment-result__icon"},[i.isFailure?t(i.FailureIcon,{attrs:{size:"100"}}):e._e(),i.isSucceed?t(i.SucceedIcon,{attrs:{size:"100"}}):e._e()],1),t("div",{staticClass:"ai-payment-result__info"},[i.isFailure?[e._v(e._s(i.$m("支付失败")))]:e._e(),i.isSucceed?[e._v(e._s(i.$m("支付成功")))]:e._e()],2),t("div",{staticClass:"ai-payment-result__button-container",class:{"ai-payment-result__button-failure":i.isFailure,"ai-payment-result__button-succeed":i.isSucceed}},[i.isFailure?t(i.Button,{attrs:{size:"md",type:"primary",width:320},on:{click:i.handleRePay}},[t("span",[e._v(e._s(i.$m("重新支付")))])]):e._e(),i.isSucceed?t(i.Button,{attrs:{size:"md",type:"primary",width:320},on:{click:i.handleCloseDialog}},[t("span",[e._v(e._s(i.$m("关闭")))])]):e._e()],1),t("div",{staticClass:"ai-payment-result__button-container ai-payment-result__button-last"},[t(i.Button,{attrs:{size:"md",type:"outline",width:320},on:{click:i.handleCheckOrder}},[e._v(e._s(i.$m("查看订单")))])],1)])},Rr=[],zr=Object(s["defineComponent"])({__name:"Result",emits:["close"],setup(e,{emit:t}){const i=he(),a=Object(s["computed"])(()=>i.payStatus),n=Object(s["computed"])(()=>"failure"===a.value),o=Object(s["computed"])(()=>"success"===a.value),r=()=>{i.setCurrentStep(1)},l=()=>{Object(m["n"])("/files/account?tab=order")},c=()=>{t("close")};return{__sfc:!0,emit:t,aiOrderStore:i,payStatus:a,isFailure:n,isSucceed:o,handleRePay:r,handleCheckOrder:l,handleCloseDialog:c,$m:D["d"],FailureIcon:Co,SucceedIcon:So,Button:oi}}}),Fr=zr,Lr=(i("9836"),i("b65f"),Object(b["a"])(Fr,$r,Rr,!1,null,"935caa7a",null)),Ur=Lr.exports,qr=Object(s["defineComponent"])({__name:"MgPaymentAI",props:{visible:{type:Boolean,default:!1},info:null,toastInit:null,isPayResume:{type:Boolean,default:!1},sensorInfo:null},emits:["update:visible","update:isPayResume"],setup(e,{emit:t}){const i=e,{checkOrderStatus:a}=Nt(),n=he();Object(s["watch"])([()=>i.info,()=>i.visible],([e,t])=>{if(!t)return;const{currentOrder:i}=e,s=Object(o["__rest"])(e,["currentOrder"]);n.setUserInfo(s),n.setCurrentOrder(i),(null===i||void 0===i?void 0:i.order_id)&&a()},{immediate:!0});const r=Object(s["computed"])(()=>{var e;return`Hi~ ${(null===(e=i.info)||void 0===e?void 0:e.userName)||""}，${Object(D["d"])("欢迎购买 AI 个人套餐")}`}),l=Object(s["computed"])(()=>n.currentStep),c=Object(s["ref"])([Object(D["d"])("确认订单"),Object(D["d"])("在线支付"),Object(D["d"])("完成订购")]),u=()=>{n.resetStatus()};Object(s["watch"])(()=>i.visible,e=>{e||u()}),Object(s["watch"])(()=>i.isPayResume,e=>{e&&n.setCurrentStep(1)},{immediate:!0});const d=()=>{n.resetStatus(),t("update:visible",!1)};return Object(s["provide"])("toastInit",i.toastInit),Object(s["provide"])("updateIsPayResume",e=>{t("update:isPayResume",e)}),Object(s["provide"])("sensorInfo",i.sensorInfo),{__sfc:!0,emit:t,props:i,checkOrderStatus:a,aiOrderStore:n,dialogTitle:r,currentStep:l,steps:c,onClose:u,handleCloseDialog:d,MDialog:qi,Steps:j,Order:mr,Pay:Br,Result:Ur}}}),Nr=qr,Gr=(i("809e"),Object(b["a"])(Nr,Us,qs,!1,null,null,null)),Hr=Gr.exports},"07d5c":function(e,t,i){"use strict";i.d(t,"q",(function(){return a["e"]})),i.d(t,"g",(function(){return a["d"]})),i.d(t,"f",(function(){return a["c"]})),i.d(t,"a",(function(){return a["a"]})),i.d(t,"l",(function(){return n["i"]})),i.d(t,"j",(function(){return n["g"]})),i.d(t,"e",(function(){return n["c"]})),i.d(t,"k",(function(){return n["h"]})),i.d(t,"b",(function(){return n["a"]})),i.d(t,"d",(function(){return n["b"]})),i.d(t,"o",(function(){return n["m"]})),i.d(t,"i",(function(){return n["f"]})),i.d(t,"m",(function(){return o["b"]})),i.d(t,"n",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"h",(function(){return u})),i.d(t,"p",(function(){return d["b"]}));var a=i("972a"),n=i("2789"),o=i("279c"),s=i("4e09"),r=i("17bfe");const l=e=>Object(s["__awaiter"])(void 0,void 0,void 0,(function*(){return yield r["a"].post("/api/v1/order/pay/transfer",e,{headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}})})),c=e=>Object(o["a"])({url:"/api/v1/order/invoice",method:"POST",data:e}),u=e=>Object(o["a"])({url:"/api/v1/order/invoice",method:"GET",params:e});var d=i("8c08")},"0e0a":function(e,t,i){},"0eaf":function(e,t,i){},"11e8":function(e,t,i){"use strict";i("dd8d")},1265:function(e,t,i){e.exports=i.p+"static/img/submit-success.ceffd7f4.svg"},1367:function(e,t,i){"use strict";i("4815")},"137d":function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon519a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon519a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M8 15q.172 0 .343-.008.172-.009.343-.026.171-.017.341-.042t.339-.058q.168-.034.335-.076.167-.041.331-.091.164-.05.326-.108.162-.058.32-.124.16-.066.315-.14.155-.072.307-.154.151-.08.299-.169.147-.088.29-.184.143-.095.28-.197.139-.103.272-.212t.26-.224q.127-.116.249-.237.121-.122.237-.25.115-.126.224-.26.11-.132.212-.27t.197-.281q.096-.143.184-.29.088-.148.17-.3.08-.15.154-.306.073-.155.14-.314.065-.159.123-.32.058-.163.108-.327.05-.164.091-.331.042-.167.076-.335.033-.169.058-.339t.042-.34q.017-.172.026-.344Q15 8.172 15 8q0-.172-.008-.343-.009-.172-.026-.343-.017-.171-.042-.341t-.058-.339q-.034-.168-.076-.335-.041-.167-.091-.331-.05-.164-.108-.326-.058-.162-.124-.32-.066-.16-.14-.315-.072-.155-.154-.307-.08-.151-.169-.299-.088-.147-.184-.29-.095-.143-.197-.28-.103-.139-.212-.272t-.224-.26q-.116-.127-.237-.249-.122-.121-.25-.237-.126-.115-.26-.224-.132-.11-.27-.211-.138-.103-.281-.198-.143-.096-.29-.184-.148-.088-.3-.17-.15-.08-.306-.154-.155-.073-.314-.14-.159-.065-.32-.123-.163-.058-.327-.108-.164-.05-.331-.091-.167-.042-.335-.075-.169-.034-.339-.06-.17-.024-.34-.041-.172-.017-.344-.026Q8.172 1 8 1q-.172 0-.343.008-.172.009-.343.026-.171.017-.341.042t-.339.059q-.168.033-.335.075-.167.042-.331.091-.164.05-.326.108-.162.058-.32.124-.16.066-.315.14-.155.073-.307.154-.151.08-.299.169-.147.088-.29.184-.143.095-.28.198-.139.102-.272.21-.133.11-.26.225-.127.116-.249.237-.121.122-.237.25-.115.126-.224.26-.11.132-.211.27-.103.138-.198.281-.096.143-.184.29-.088.148-.17.3-.08.15-.154.306-.073.155-.14.314-.065.159-.123.32-.058.163-.108.327-.05.164-.091.331-.042.167-.075.335-.034.169-.06.339-.024.17-.041.34-.017.172-.026.344Q1 7.828 1 8q0 .172.008.343.009.172.026.343.017.171.042.341t.059.339q.033.168.075.335.042.167.091.331.05.164.108.326.058.162.124.32.066.16.14.315.073.155.154.307.08.151.169.299.088.147.184.29.095.143.198.28.102.139.21.272.11.133.225.26.116.127.237.249.122.121.25.237.126.115.26.224.132.11.27.212t.281.197q.143.096.29.184.148.088.3.17.15.08.306.154.155.073.314.14.159.065.32.123.163.058.327.108.164.05.331.091.167.042.335.076.169.033.339.058t.34.042q.172.017.344.026Q7.828 15 8 15M8 2q.147 0 .294.007.148.007.294.022.147.014.292.036.146.022.29.05.145.029.288.065.143.036.284.078.14.043.28.093.138.05.274.106.136.056.27.12.132.062.262.131.13.07.257.146.126.075.248.157.123.082.241.17.119.087.232.18.114.094.223.193.11.1.214.203.104.105.203.214.099.109.192.223.094.114.181.232.088.118.17.24.082.123.157.25.076.126.145.256.07.13.133.263t.12.269q.056.136.105.275.05.138.093.28.042.14.078.283.036.143.065.287.028.145.05.29.022.146.036.293.014.146.022.294Q14 7.853 14 8t-.007.294q-.008.148-.022.294-.014.147-.036.292-.022.146-.05.29-.029.145-.065.288-.036.143-.078.284-.043.14-.093.28-.05.138-.106.274-.056.136-.12.27-.062.132-.132.262-.069.13-.145.257-.075.126-.157.248-.082.123-.17.241-.088.119-.18.232-.094.114-.193.223-.1.11-.203.214-.104.104-.214.203-.109.099-.223.192-.113.094-.232.181-.118.088-.24.17-.123.082-.25.157-.126.076-.256.145-.13.07-.263.133t-.269.12q-.136.056-.275.105-.138.05-.28.093-.14.042-.283.078-.143.036-.287.065-.145.028-.29.05-.146.022-.293.036-.146.014-.294.022Q8.147 14 8 14t-.294-.007q-.148-.008-.294-.022-.147-.014-.292-.036-.146-.022-.29-.05-.145-.029-.288-.065-.143-.036-.284-.078-.14-.043-.28-.093-.138-.05-.274-.106-.136-.056-.27-.12-.132-.062-.262-.132-.13-.069-.257-.145-.126-.075-.248-.157-.123-.082-.241-.17-.119-.088-.232-.18-.114-.094-.223-.193-.11-.1-.214-.203-.104-.104-.203-.214-.099-.109-.192-.223-.094-.113-.181-.232-.088-.118-.17-.24-.082-.123-.157-.25-.076-.126-.146-.256-.069-.13-.132-.263t-.12-.269q-.056-.136-.105-.275-.05-.138-.093-.28-.042-.14-.078-.283-.036-.143-.065-.287-.028-.145-.05-.29-.022-.146-.036-.293-.015-.146-.022-.294Q2 8.147 2 8t.007-.294q.007-.148.022-.294.014-.147.036-.292.022-.146.05-.29.029-.145.065-.288.036-.143.078-.284.043-.14.093-.28.05-.138.106-.274.056-.136.12-.27.062-.132.131-.262.07-.13.146-.257.075-.126.157-.248.082-.123.17-.241.087-.119.18-.232.094-.114.193-.223.1-.11.203-.214.105-.104.214-.203.109-.099.223-.192.114-.094.232-.181.118-.088.24-.17.123-.082.25-.157.126-.076.256-.146.13-.069.263-.132t.269-.12q.136-.056.275-.105.138-.05.28-.093.14-.042.283-.078.143-.036.287-.065.145-.028.29-.05.146-.022.293-.036.146-.015.294-.022Q7.853 2 8 2m.5 7V4h-1v5zm.25 3v-1.5h-1.5V12z"}})])])},n=[],o={name:"WarningIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},s=o,r=i("d2bf"),l=Object(r["a"])(s,a,n,!1,null,null,null);t["a"]=l.exports},"13b4":function(e,t,i){"use strict";i("38a7")},1458:function(e,t,i){},"151c":function(e,t,i){},"15bb":function(e,t,i){"use strict";i("16a6")},"15dd":function(e,t,i){},1632:function(e,t,i){},"16a6":function(e,t,i){},"17bfe":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var a=i("141d");const n=a["a"].create({timeout:3e4}),o=(e="/")=>{n.defaults.baseURL=e}},"1bc9":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return r}));let a="";const n=e=>{a=e};let o="";const s=e=>{o=e},r=()=>o},"1c6b":function(e,t,i){},"1d7f6":function(e,t,i){},"1eac":function(e,t,i){"use strict";i("0e0a")},"26af":function(e,t,i){"use strict";i("e90f")},"26ca":function(e,t,i){e.exports=i.p+"static/img/icon-ali-pay.4222bc3e.svg"},2789:function(e,t,i){"use strict";i.d(t,"i",(function(){return s})),i.d(t,"g",(function(){return r})),i.d(t,"c",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"d",(function(){return d})),i.d(t,"k",(function(){return p})),i.d(t,"a",(function(){return v})),i.d(t,"b",(function(){return m})),i.d(t,"m",(function(){return f})),i.d(t,"l",(function(){return _})),i.d(t,"f",(function(){return b})),i.d(t,"e",(function(){return h}));var a=i("141d"),n=i("279c");const o=a["a"].create({timeout:3e4});o.interceptors.response.use(e=>e.data,e=>Promise.reject(e));const s=e=>Object(n["a"])({url:"/api/v1/order/available-info",method:"GET",params:e}),r=e=>Object(n["a"])({url:"/api/v1/order/price",method:"POST",data:e}),l=e=>o({url:"/api/v1/order/purchase",method:"POST",data:e}),c=e=>Object(n["a"])({url:"/api/v1/order/detail",method:"GET",params:e}),u=e=>Object(n["a"])({url:"/api/v1/order/pay",method:"GET",params:e}),d=e=>Object(n["a"])({url:"/api/v1/order/pay/alipay",method:"POST",data:e}),p=e=>Object(n["a"])({url:"/api/v1/order/pay/wechat",method:"POST",data:e}),v=e=>o({url:"/api/v1/order/create",method:"POST",data:e}),m=e=>Object(n["a"])({url:"/api/v1/order/cancel",method:"PUT",data:e}),f=e=>o({url:"/api/v1/order/upgrade_date",method:"POST",data:e}),_=e=>n["a"].put("/api/v1/order/detail",e),b=()=>Object(n["a"])({url:"/api/v1/order/activity",method:"GET"}),h=e=>Object(n["a"])({url:"/api/v1/order/available/service_type",method:"GET",params:e})},"279c":function(e,t,i){"use strict";i.d(t,"a",(function(){return a["a"]})),i.d(t,"b",(function(){return a["b"]}));var a=i("17bfe"),n=i("828f"),o=i("1bc9");a["a"].interceptors.request.use(e=>{e.headers["Content-Type"]||(e.headers["Content-Type"]="application/json");const t=Object(o["a"])()||localStorage.getItem("MasterGo-Token");return t&&(e.headers["MasterGo-Token"]=t),e},e=>(console.error(e),Promise.reject(e))),a["a"].interceptors.response.use(e=>e.data.code===n["b"].SUCCESS?e.data.result:200===e.status?e.data:Promise.reject(e),e=>{var t;return e.__CANCEL__?Promise.resolve():(e.response&&console.error(null===(t=e.response)||void 0===t?void 0:t.msg),Promise.reject(e))})},"29e4":function(e,t,i){},"2ae0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAA8CAYAAAC0ClJLAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAhDSURBVHic7Z1PTBtXHse/b8zEYoIdR9jdCrM4aKXiUVOJhs4t3kZUWnrDoL3FUaFSK4XTbi5INFKKFGXFZTfaQ6LdSMUV5LZK4FYOZdtlpT04REhdyeYEZmOU1kYYnAx1Jvb0YM94xvjfgO2xs+8j+eA3z8+/8Xzf7/1+vzfWEFRgcCJ84VXGcoWR8YlM5AuQ4QDgqPQZStuRBEGSyNiQZfl7lrUGN4L9yXKdSanGwYnwBSljuQVZnmiYmZTWhZC7rIWdLSWcY4J5L7DpzwLzoJ7k/50kA0z+sDiwpG1ktG8uBja/zAKPQcVCARxZ4PHFwOaX2kbVw1wMhK/IYP7ZdLMoLQ8DjCmehgDA4MSWQ3r9agvUs1BKk2Q7su9vBPltBgCkjHQLVCyU8jikjOUWAJC8d9k32yJK68N2ZPsZSUpPmG0IpT14lbFcYQghH5ptCKU9YGR8wsgEg2YbQmkPZCJfYPLlfgqlOjIcDGh2RKkdB1O9D4VSgAqGYggqGIohqGAohqCCoRiiw2wD3mRsHIPpwFsAgOW1A4TCR8f6eD1WTI11Y6DPisWVfSyslL3ZreT4Xo8VNs6C1fUXdbO7EqYLxu1kMTzUhYWV1trOuv352/D77DX3v/doD/ce7+na7Gct6hhPwiJCOC6YSDQNG8fA7VJ+h+OCUY73OFnYOQY9ThYC3wmB5wAAKTGD3/1RRErMGjnFE2GqYNxOFl/N9MLtYgGg5URjFK1HmVv8qWy/6YALw5e61Pf2s7nIQOA5rPy5X9d37mEc3j4rpsa7K373R0NdWFo7PKnpNWOaYLRiicWlprlUo4TCIpYrXIjpgAs2zgJA71HuF3kbLTbOok6SYorb7Zw+zIzFJWzupHEoZrEZ/RmRnXTJpa5RmCKYYrF8eucZYgnJDFOqEku8rjhzr491q4KpleW1AzwJi7BxDIaHunSC7HGy6HF14EleBKHIEUYv50QUi0sYubF1grOoH00XTDuJBQAEvhPzM71lj5fzFJUIhY+Q8mQxP9MLG2fBzQc/IhbP/QZ+nx1T490QeA6//yLalLjECE0VTHHM4naxWPlLf5VP6UmJGcTirxGK5JaKSDTdCFNV3E4WbqdxUVRDa/foZbsaMI/ml7RQ+KjlxAK0QJZkFBtngddjgddjxbWR81j4Zh9zD+MN+75INF1TfBWKiDWPOTzUBTvHIBJNQ+A5DA91YTfvZbWZj99nR2SnICz7WaZi5vbt+ouGi6ypgoklckvQaZYkG8dA4DkI3k5c+/g8rn18Hl6PFZN3njXE5shOWpcuDw91YfqqCwCOxRO1Lk/TV126vl6PFbc/f1vX59rIeQC5dF3BxlmO9dMSurHVcME0vdKriCYWl+B25ZcoAy4/JWaxuv4Ccw/jmLzzP8TiEgSew9RY5bSzXtjzNZGTxC4KuwkJsXjhlRIz6jFte/GxVsCUJanY03w103ui4DcUPsLNB88xP/NrTI13Y3ntsCEB9PxML3ryolZqJgB0NZPFlX2sPn1Z03jF3tDvs6ue49M/PVMDYAVlMmizpKmxbkyNdzc9czJtL6nY0wwPdVX/UAlC4SM17b1epbhlBLezMJd6nKzqVbQptNJW3F51bJdSqc29BjxW9dhAn1V3zMa11nafqUGvIprTbg0s/+sAfp8d3j5r9c4G0S4JS2sHAAC/7xwA4Obfn+P6eLfhLGr0sr1s5favf+jRvR+5sQVb3qu1QtZkunxjCenUWwJKJuF21U//isdIvSxcpCfhI7WgBgBLa4fYjTe+hqTa0gLxTNul1c1CEV8jLtLCyj6W/12o7g5fOqvuQU3eeaam2EAublGWx1bwMG+EYJTaRSz+um5jKrNaWwepFykxC6/Hiumrb2E3od9Hczs7cPuzXwEopO09+YysFSrib4ZgvJ0AjBXPKuHVBKGNmtWjvnO671GI7KTVlF3gOxGJptUYabPBVe1aaHvBCHyugAeg4q6yEZTgOSVmDG09aFNcJfsrh8CXFnlKzCIUFtUKsDagboS3M0pbC0bgO3H7s1z9YuGb/brtK32QX+Kqjfefv/3mWEBaXEMphd9nV4Wwuv7iWJYVCh/lBHOpIJhYQmr4vlkttJ1gbBwDb58Vo789p+6rhMJiXfeT1Nlf5T6Tb9dfwu+zI5aQsPr0JWwco1vCytVQlHpRLCEhFD6C26cXzOrTXEyzm5DUgl4z73mphGmC+e/CO3UZp9StkadB4DsLsz9/4W4+eA4g53E+0hQY5xZ/wv3He6pXsXGMel4pMaMr5ikBq3aZuv9oD9MBFwQvp7MhEk0jEk1jOuAq9K3jOZ6GtvMwyu0NkZ007j/aq3vmkKscH0DgOXUJKDe7U2JW51FSYlaNXbRiCYVFdQxlwzUw4sDS2iH+MeJRg99Yfo9J4d6jPQheDpGddE1LXTMg7wY2ZbONaEW8HmvJmCF3M3ZunpX7F4B2KUqJ2Yqxh99nxwc8h83oz1haOzyWlSkeqVgwAt8JwcshJWYM/dPgtFDBUAxh+tYApb2ggqEYggqGYggqGIohqGAohqCCoRiCAdC8JJ7S7iQZECoYSo0QJBkik22z7aC0B0TGBpMl+NpsQyjtgSzL3zNnLJnvzDaE0h6wrDXIbAT5bRASNNsYSotDyN2NYH+SAQDWkpkFzZYo5UmyFnYWyNdh8k/amjTXJkqrwgCTyhNm1cLdD4sDSwSYNc8sSitCgFntk2XpY4gp5aj+GGIg52nYjjP9IORu82yjtBSEBNmO7PvFYgFKeBgtgxNbDklKTxBCPpQJBvPPVqKe580iCYIkkcl2luDrM5bMdxtBfrtc518A10dmRL0rzpMAAAAASUVORK5CYII="},"2b34":function(e,t,i){},"2cbf":function(e,t,i){"use strict";i("e4cf")},"2eda":function(e,t,i){},"306b":function(e,t,i){},3251:function(e,t,i){},3833:function(e,t,i){"use strict";i("fd80")},3858:function(e,t,i){"use strict";i("e5c9")},"38a7":function(e,t,i){},3924:function(e,t,i){},"3aaf":function(e,t,i){},"3c04":function(e,t,i){},"3ef7":function(e,t,i){},"3fd6":function(e,t,i){},4e3:function(e,t,i){"use strict";i("bb31")},"414d":function(e,t,i){"use strict";i("4f1b")},"449b":function(e,t,i){"use strict";i("fa39")},4815:function(e,t,i){},"490e":function(e,t,i){},"4ab7":function(e,t,i){"use strict";i("3924")},"4b15":function(e,t,i){"use strict";i("3aaf")},"4b24":function(e,t,i){"use strict";i("9a3c")},"4f1b":function(e,t,i){},"500c7":function(e,t,i){"use strict";i("8a0a")},55385:function(e,t,i){"use strict";i("bf04")},"56f7":function(e,t,i){},"575a":function(e,t,i){},"585d":function(e,t,i){"use strict";i("8de9")},"5a8e":function(e,t,i){"use strict";i("e229")},"5c79":function(e,t,i){},"61b9":function(e,t,i){},"69d0":function(e,t,i){"use strict";i("73c7")},"6b35":function(e,t,i){},"6cb5":function(e,t,i){},"6cd7":function(e,t,i){e.exports=i.p+"static/img/icon-public-pay.a615bd12.svg"},"6d23":function(e,t,i){"use strict";i("29e4")},7303:function(e,t,i){"use strict";i("6cb5")},"73c7":function(e,t,i){},7932:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i("f38b"),n=i("07d5c");const o=e=>{const t=e.lastIndexOf("/")+1,i=e.includes("?")?e.indexOf("?"):e.length;return e.slice(t,i)},s=(e,t,i)=>{const s={contract_no:e,entity_id:t,entity_type:i};return Object(n["g"])(s).then(e=>{var t;if(e.code!==n["a"])throw new Error(n["f"][e.code]||(null===(t=e.meta)||void 0===t?void 0:t.msg));{const t=o(e.data.contract_pdf);Object(a["e"])(t,e.data.contract_pdf)}})}},"7c03":function(e,t,i){"use strict";i("809a")},"809a":function(e,t,i){},"809e":function(e,t,i){"use strict";i("61b9")},"82b4":function(e,t,i){"use strict";i("004d")},"85b1":function(e,t,i){e.exports=i.p+"static/img/file-icon.cee87359.svg"},"85c2":function(e,t,i){"use strict";i("b777")},"865b":function(e,t,i){},"8a0a":function(e,t,i){},"8bb8":function(e,t,i){},"8bba":function(e,t,i){"use strict";i("15dd")},"8c08":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"i",(function(){return r})),i.d(t,"h",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"d",(function(){return u})),i.d(t,"c",(function(){return d})),i.d(t,"f",(function(){return p})),i.d(t,"g",(function(){return v}));var a=i("4e09"),n=i("279c");const o=e=>Object(n["a"])({url:"/api/v1/credits_order/invoice",method:"POST",data:e});function s(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])("/api/v1/credits_order/order_cancel",{method:"PUT",data:e})}))}function r(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/user/get_agreement_consent",method:"post",data:{agreement_type:e}})}))}function l(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/user/set_agreement_consent",method:"put",data:{agreement_type:e,operation:"agree"}})}))}function c(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/credits_order/available_package",method:"post",data:e})}))}function u(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/credits_order/order_price",method:"post",data:e})}))}function d(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/credits_order/create",method:"post",data:e})}))}function p(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/credits_order/order_detail",method:"GET",params:e})}))}function v(e){return Object(a["__awaiter"])(this,void 0,void 0,(function*(){return Object(n["a"])({url:"/api/v1/credits_order/pay",method:"POST",data:e})}))}},"8de9":function(e,t,i){},"8f71":function(e,t,i){},9341:function(e,t,i){"use strict";i("575a")},9382:function(e,t,i){},"96b8":function(e,t,i){e.exports=i.p+"static/img/icon-wechat-pay.74e0acbe.svg"},"972a":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return l}));var a=i("279c");const n=e=>Object(a["a"])({url:"/api/v1/contract/apply",method:"post",data:e,baseURL:window.location.origin}),o=e=>Object(a["a"])({url:"/api/v1/contract/sign",method:"put",data:e,baseURL:window.location.origin}),s=e=>Object(a["a"])({url:"/api/v1/contract/download_url",method:"GET",params:e,baseURL:window.location.origin}),r={11052:"统一信用码格式错误",10103:"公司名称字数超过限制",10104:"联系方式长度超过限制",11036:"订单不存在",44208:"合同开具超过限制次数，请联系客服",44209:"合同开具中，请稍后",44210:"合同已开具",11041:"合同不存在",44211:"合同不存在或已签署",44212:"订单与合同不匹配",44213:"订单状态不可开具合同",44215:"席位数小于原订单席位数，请联系客服开具合同",44216:"您的主合同为线下开具，请先联系客服录入主合同编号",44217:"线下订单暂不支持开具线上合同，请联系客服开具线下合同",44218:"请先为历史订单申请合同",44219:"主订单未开具合同"},l="OK"},"97cd6":function(e,t,i){"use strict";i("2b34")},9836:function(e,t,i){"use strict";i("1458")},"9a3c":function(e,t,i){},a3a7:function(e,t,i){"use strict";i("5c79")},a455e:function(e,t,i){e.exports=i.p+"static/img/discount-left-top.32e4a52b.svg"},a580:function(e,t,i){},a587:function(e,t,i){"use strict";i("c3ad")},a686:function(e,t,i){},a695:function(e,t,i){"use strict";i("865b")},a8e6:function(e,t,i){"use strict";i("3fd6")},ab22:function(e,t,i){e.exports=i.p+"static/img/give-ai-credits.23aa1b95.svg"},ab3c:function(e,t,i){"use strict";i("9382")},adbb:function(e,t,i){"use strict";i("6b35")},b090:function(e,t,i){"use strict";i("c35b")},b438:function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("svg",{style:{fontSize:e.size,color:e.fill,transform:`rotate(${e.rotate}deg)`},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"}},[t("defs",[t("clipPath",{attrs:{id:"mg-icon609a"}},[t("rect",{attrs:{width:"16",height:"16",rx:"0"}})])]),t("g",{attrs:{"clip-path":"url(#mg-icon609a)"}},[t("path",{attrs:{fill:"currentcolor","fill-opacity":".85","fill-rule":"evenodd",d:"M11 2H2v9h3v3h9V5h-3zm-1 3V3H3v7h2V5zm-4.1 8.1V5.9h7.2v7.2z"}})])])},n=[],o={name:"CopyIcon",props:{size:{type:String,default:"inherit"},rotate:{type:String,default:"0"},fill:{type:String,default:"none"}}},s=o,r=i("d2bf"),l=Object(r["a"])(s,a,n,!1,null,null,null),c=l.exports;c.install=function(e){e.component(c.name,c)};t["a"]=c},b49d:function(e,t,i){"use strict";i("490e")},b4ba:function(e,t,i){"use strict";i("3c04")},b4c1:function(e,t,i){"use strict";i("2eda")},b65f:function(e,t,i){"use strict";i("d28f")},b777:function(e,t,i){},bb31:function(e,t,i){},bf04:function(e,t,i){},bf32:function(e,t,i){"use strict";i("8bb8")},c056:function(e,t,i){"use strict";i("1632")},c35b:function(e,t,i){},c3ad:function(e,t,i){},c59c:function(e,t,i){"use strict";i("fa69")},c8a3:function(e,t,i){"use strict";i("a686")},c93a:function(e,t,i){"use strict";i("56f7")},cbb5:function(e,t,i){"use strict";i("3251")},d0f6:function(e,t,i){"use strict";i("fda6")},d28f:function(e,t,i){},dbc7:function(e,t,i){"use strict";i("ff63")},dd8d:function(e,t,i){},e131:function(e,t,i){"use strict";i("0eaf")},e229:function(e,t,i){},e4cf:function(e,t,i){},e58e:function(e,t,i){},e5c9:function(e,t,i){},e90f:function(e,t,i){},ea52:function(e,t,i){"use strict";i("8f71")},ec73:function(e,t,i){"use strict";i("151c")},ee3f:function(e,t,i){"use strict";i("306b")},ee59:function(e,t,i){"use strict";i("a580")},f073:function(e,t,i){"use strict";i("1c6b")},f127:function(e,t,i){"use strict";i("1d7f6")},f38b:function(e,t,i){"use strict";i.d(t,"i",(function(){return n})),i.d(t,"g",(function(){return o})),i.d(t,"h",(function(){return s})),i.d(t,"f",(function(){return r})),i.d(t,"q",(function(){return l})),i.d(t,"l",(function(){return p})),i.d(t,"n",(function(){return m})),i.d(t,"m",(function(){return f})),i.d(t,"j",(function(){return h})),i.d(t,"k",(function(){return y})),i.d(t,"d",(function(){return C})),i.d(t,"c",(function(){return O})),i.d(t,"a",(function(){return j})),i.d(t,"b",(function(){return I})),i.d(t,"p",(function(){return w})),i.d(t,"o",(function(){return P})),i.d(t,"e",(function(){return A}));i("4e09");function a(e){const t=[];let i=null;function a(e){t.push(e),e(),i||o()}function n(e){const a=t.indexOf(e);a>=0&&t.splice(a,1),0===t.length&&i&&(clearTimeout(i),i=null)}function o(){i=setTimeout(()=>{t.forEach(e=>{e()}),o()},e)}return{add:a,remove:n}}a(6e4);i("a9d9");function n(e){const t=e||new Date,i=t.getFullYear().toString(),a=t.getMonth()+1;let n=a.toString();1===n.length&&(n="0"+n);const o=t.getDate();let s=o.toString();return 1===s.length&&(s="0"+s),`${i}-${n}-${s}`}function o(e,t){const i=Math.abs(t.getTime()-e.getTime()),a=Math.ceil(i/864e5);return a}function s(e){const t=new Date(e),i=t.getTime();return i}Object.prototype.toString;function r(e){let t={};return Object.keys(e).filter(i=>{e[i]&&(t[i]=e[i])}),t}i("a6e6");const l=e=>{let t=e;const i={"&amp;":"&","&lt;":"<","&gt;":">","&#x27;":"'","&#39;":"'","&quot;":'"',"&#x2F;":"/","&#34;":'"'};let a="",n="";if(!t||"string"!==typeof t)return t;const o=/[&<>"'/]/g;if(o.test(t))for(const s in i)if(s in i){a=s,n=i[s];const e=new RegExp(""+a,"g");t=t.replace(e,n)}return t};var c;function u(){return window.self!==window.top}function d(e){const t=/electron/i.test(e);return!!t}function p(){return d(navigator.userAgent.toUpperCase())&&!u()}let v;function m(e,t="_blank",i=!0){if(p())return void window.open(e,t);if(v&&v(e))return;const a=document.createElement("a");a.href=e,a.rel=i?"noreferrer noopener":"opener",a.target=t,document.body.appendChild(a),a.click(),a.remove()}function f({entityId:e,isTeam:t=!0,target:i="_blank"}){const a=t?`${location.origin}/files/team/${e}?tab=order`:`${location.origin}/org/${e}/order`;m(a,i)}(function(e){e[e["num"]=0]="num",e[e["en"]=1]="en",e[e["cn"]=2]="cn",e[e["symbol"]=3]="symbol"})(c||(c={}));var _=i("828f");function b(e,t=2){var i;const a=(null===(i=null===e||void 0===e?void 0:e.toFixed)||void 0===i?void 0:i.call(e,t))||"";return a.replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}function h(e,t="¥ "){return e?`${t}${b(e)}`:_["j"]}function g(){const e=localStorage.getItem("themeColor")||"light";return e}function y(){return"dark"===g()}function C(e){const t=/^[0-9A-Z]{15}$|^[0-9A-Z]{18}$|^[0-9A-Z]{20}$/;return t.test(e)}function O(e){return!!e&&e.length<20}function j(e){const t=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9_-]+\.[a-zA-Z0-9_.-]+$/;return t.test(e)}function I(e){if(!e)return!1;const t=e.replaceAll(" ","");return""!==t}const w=(e,t)=>{if(!e||!t)return"";const i=null===e||void 0===e?void 0:e.length,a=[];for(let n=0;n<i;){const o=Math.min(n+t,i);a.push(e.slice(n,o)),n=o}return a.join(" ")};var S=i("cbd3");const k={url:`${window.location.protocol}//${window.location.host}/et/event/sa`,showLog:!1};window.location.search.includes("showlog=true")&&(k.showLog=!0),window.location.hash.includes("showlog=true")&&(k.showLog=!0);const T=()=>{},x=["mastergo.com","dev.mastergo.com","pre.mastergo.com"];let D;D=x.includes(window.location.hostname)?new S["a"](k):{track:T,setPublic:T,startActiveObsever:T};const P=D;function A(e,t){return fetch(t).then(e=>e.blob()).then(t=>{const i=document.createElement("a"),a=URL.createObjectURL(t);return i.setAttribute("href",a),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),!0})}},f5ee:function(e,t,i){"use strict";i("e58e")},f756:function(e,t,i){"use strict";i("3ef7")},fa39:function(e,t,i){},fa69:function(e,t,i){},fd80:function(e,t,i){},fda6:function(e,t,i){},ff63:function(e,t,i){}}]);